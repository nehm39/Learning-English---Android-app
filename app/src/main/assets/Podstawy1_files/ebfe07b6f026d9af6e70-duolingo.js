webpackJsonp([1],[function(e,t,i){function s(){return!a("#app").hasClass("leave-warning")||window.confirm(c("Are you sure you want to quit? All progress in this session will be lost."))}var a=i(1),n=i(2),o=i(3),r=(i(47),i(20)),l=i(39),d=i(4);o.$=a,window.jQuery=a,window._=n,duo.User=i(38),duo.track=d.track;var c=i(5),u=i(131),h=i(279),g=i(289);i(129),i(27),i(111),duo.getFlashMovieObject=function(e){return-1!=navigator.appName.indexOf("Microsoft")?window[e]:document[e]},duo.switchLanguage=function(e){var t=n.indexBy(duo.ui_languages,"language")[e].id;duo.debug||0===document.domain.indexOf("join")||window.location.pathname.indexOf("o$o")>0?a.post("/switch_ui_language",{language:e},function(e){window.location.reload(!0)}):window.location.host=t+".duolingo.com"},duo.isTransliterationLanguage=function(e){return n.contains(["ru","uk"],e)},duo.isIOS=function(){var e=navigator.userAgent;return!!e.match(/(iPad|iPhone|iPod)/g)},duo.isAndroid=function(){var e=navigator.userAgent;return!!e.match(/android/i)},duo.isMobileWithNativeAppSupport=function(){var e=duo.isIOS(),t=duo.isAndroid();return e||t},duo.getSpeechRecognition=function(){if(null!=duo._webSpeechEnabled)return duo._webSpeechEnabled?duo._speechRecognition:null;try{return duo._speechRecognition=new webkitSpeechRecognition,duo._webSpeechEnabled=!0,duo._speechRecognition}catch(e){return duo._webSpeechEnabled=!1,null}},duo.isWebSpeechEnabled=function(){return null!=duo._webSpeechEnabled?duo._webSpeechEnabled:null!=duo.getSpeechRecognition()},duo.kcStrengthModelVersion=function(){return 2},duo.getCookie=function(){return n.object(n.map(document.cookie.split(";"),function(e){var t=e.split("="),i=t[0].trim(),s="";return t.length>1&&(s=t[1].trim()),s.length>=2&&'"'==s[0]&&'"'==s[s.length-1]&&(s=decodeURIComponent(s.substring(1,s.length-1))),[i,s]}))},duo.setCookie=function(e,t,i){t=encodeURIComponent(t),(n.contains(t,"(")||n.contains(t,")"))&&(t='"'+t+'"');var s=e+"="+t;"undefined"!=typeof i&&(s+="; path=/; max-age="+i);var a=location.hostname;/.*[.].*[.].*/.test(a)&&(s+="; domain="+a.substring(a.indexOf("."))),document.cookie=s},duo.removeCookie=function(e){duo.setCookie(e,"",1)},duo.formatFluencyScore=function(e){return Math.floor(100*e)},duo.getCampaignInfo=function(e){var t={campaign_source:new RegExp(/utmcsr=(.+?)($|\|)/),campaign_name:new RegExp(/utmccn=(.+?)($|\|)/),campaign_medium:new RegExp(/utmcmd=(.+?)($|\|)/),campaign_keywords:new RegExp(/utmctr=(.+?)($|\|)/),campaign_content:new RegExp(/utmcct=(.+?)($|\|)/)},i={referrer:new RegExp(/"\$initial_referrer":[ ]*"(.+?)"/),referring_domain:new RegExp(/"\$initial_referring_domain":[ ]*"(.+?)"/)},s=document.cookie.split(";"),n={};return a.each(s,function(s,o){o=decodeURIComponent(o),-1!==o.indexOf("__utmz=")&&a.each(t,function(t,i){var s=o.match(i);s&&(n[e+t]=s[1])}),o.match(/ ?mp_.+?_mixpanel=/)&&a.each(i,function(t,i){var s=o.match(i);s&&(n[e+t]=s[1])})}),n},String.prototype.hexEncode=function(){var e,t,i="";for(t=0;t<this.length;t++)e=this.charCodeAt(t).toString(16),i+=("000"+e).slice(-4);return i},String.prototype.hexDecode=function(){var e,t=this.match(/.{1,4}/g)||[],i="";for(e=0;e<t.length;e++)i+=String.fromCharCode(parseInt(t[e],16));return i},String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.indexOf(e,t)===t}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var i=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>i.length)&&(t=i.length),t-=e.length;var s=i.indexOf(e,t);return-1!==s&&s===t});var p=navigator.userAgent.indexOf("Chrome")>-1,_=navigator.userAgent.indexOf("Safari")>-1;_&&!p&&a("html").addClass("safari"),_&&navigator.userAgent.indexOf("Version/5")>-1&&a("html").addClass("safari5"),a(document).ready(function(){if(u.start("duolingo.js ready"),a("html").is(".ie6, .ie7, .ie8, .safari5"))a.tts.setupSoundManager(),duo.unsupportedRouter=new g;else if("user"in duo)if(duo.user.get("learning_language")&&0!==d.checkValidDirection(duo.user.get("ui_language"),duo.user.get("learning_language"))){duo.initializeRoutes(),u.mark("conf loggedin routes"),duo.view="home",a.tts.setupSoundManager(),u.mark("set up SM");var e=a.getTimezone(),t=!duo.user.impersonatingUser()&&duo.user.get("timezone")!==e;(duo.user.get("timezone_not_set")||t)&&duo.user.save({timezone:e})}else a.tts.setupSoundManager(),duo.selectLanguageRouter=new h;else duo.initializeLoggedOutRoutes();var i=window.location.href;-1!==i.indexOf("#")&&i.indexOf("?")>i.indexOf("#")&&(window.location.href=window.location.href.replace("?","$")),duo.topbar&&duo.topbar.start(),o.history.start({pushState:!0,root:"/"}),a(document).on("click","a[href]:not([data-bypass])",function(e){var t={prop:a(this).prop("href"),attr:a(this).attr("href")},i=location.protocol+"//"+location.host+o.history.root;t.attr=t.attr.replace("#/",""),t.attr=t.attr.replace(i,""),t.prop.slice(0,i.length)===i&&(e.preventDefault(),o.history.navigate(t.attr,{trigger:!0}))}),a(document).on("focus click",".textarea-autogrow",function(e){a(e.currentTarget).css({"min-height":"90px"}),a(e.currentTarget).autosize({append:"\n"})}),a(document).on("blur",".textarea-autogrow",function(e){return""==a(e.currentTarget).val()&&a(e.currentTarget).css({"min-height":"40px",height:"40px"}),!0});var s=window.location.pathname;s.length>1&&o.history.navigate(s,{trigger:!0});var n=window.location.search;-1!==n.indexOf("fb_verifier")&&o.history.navigate(n,{trigger:!0}),duo.user&&!duo.user.get("learning_language")&&duo.selectLanguageRouter&&duo.selectLanguageRouter.navigate("/welcome",!0),a.browser.mobile&&a("html").addClass("mobile");var c=navigator.userAgent.match(/Trident\/7.0;/);c&&a("html").addClass("ie11");var p=navigator.userAgent.match(/Trident\/6.0;/);p&&a("html").addClass("ie10");var _=navigator.userAgent.match(/5.0.6 Safari/);_&&a("html").addClass("safari506"),duo.compact_enabled&&a("body").addClass("compact-enabled"),window.matchMedia&&window.matchMedia("(max-width: 700px)").matches||a("body").tooltip({selector:'[data-toggle="tooltip"]',placement:function(e,t){return a(t).data("placement")||"top"}}),duo.user&&l.init(),u.stop("duolingo.js ready"),r.registerTrackingProperties()});var m=o.History.prototype.loadUrl;o.History.prototype.loadUrl=function(){return s()?m.apply(this,arguments):(o.history.navigate(duo.sessionURL,{trigger:!1}),!0)}},,,,function(e,t,i){function s(e,t){FB.api("/me?access_token="+t,function(i){var s=i.first_name,a={method:"feed",picture:"http://static.duolingo.com/images/facebook/owl.png",access_token:t,name:e.name.replace("%firstname%",s),link:"http://www.duolingo.com/",caption:e.caption.replace("%firstname%",s),description:e.description.replace("%firstname%",s)};try{r(document).scrollTop(0)}catch(n){}FB.ui(a,function(e){e&&e.post_id&&g.track("facebook shared")})})}function a(e,t){if(!e.offset()||0==e.offset().left&&0==e.offset().top&&0==e.width()&&0==e.height())return!1;var i=e.data("placement")||"right",s=e.data("margin")||0;t.anchor({type:i,anchor:e,margin:s,container:r("#app")});var a=e.data("justification")||"center";"left"==a&&t.css("left",e.position().left);var n=parseInt(e.data("x-offset")||"0");return t.css("left",parseInt(t.css("left"))+n),!0}function n(e,t){a(e,t)&&t.show()}function o(e){e.hide()}var r=i(1),l=i(2),d=i(39),c=i(5),u=i(109),h=i(107);i(13),i(114);var g=t;g.show404=function(){window.location.replace("/errors/404.html")};var p=function(e,t,i,s,a){var n=(new Date).getTime(),o=duo.user&&duo.user.get("trial_account")?"/register_delayed":"/register";t=l.extend({one_click:!0},t),r.post(o,t,function(){},"json").done(function(t){var o=(new Date).getTime()-n;if("OK"===t.response){var r=duo.user?s:l.after(2,s);g.track("register",{through:i,ui_location:e,successful:!0,latency_ms:o},r,300),duo.user||g.track("$create_alias",{alias:String(t.user_id)},r,300)}else g.track("register",{successful:!1,ui_location:e,through:i,error:l.keys(t.failures).join(", "),latency_ms:o},a,300)}).fail(a)},_=function(e,t,i,s,a){t=t||function(){},i=i||function(){},s=s||function(){},g.getFBAccessToken(function(n){r.post("/facebook/register",{access_token:n},null,"json").done(function(n){"OK"===n.response?g.track("login old id",{login_method:"facebook",ui_location:e},t,300):n.error?(FB.getLoginStatus(function(){},!0),s()):a?p(e,{email:n.email,fullname:n.name,profile_image:n.profile_image_url,facebook_id:n.id,ui_language:duo.browser_language},"facebook",i,s):i(n)}).fail(s)},s,!0)};g.loginWithFacebook=function(e,t,i,s){_(e,t,i,s,!0)},g.loginWithFacebookNoRegister=function(e,t,i,s){_(e,t,i,s,!1)},g.getFBAccessToken=function(e,t,i){e=e||function(){},t=t||function(){},FB.login(function(i){"connected"==i.status?e(i.authResponse.accessToken):t()},{scope:"email"})},g.postFacebookAction=function(e,t,i,s){s=s||function(e){!e||e.error},FB.api("/me/"+e+":"+t,"post",i,s)},g.postFacebookFluency=function(e,t){var i=duo.debug?"fluency_debug":"fluency",s={fluency_score:"http://www.duolingo.com/og/"+i+"/"+e+"/"+duo.formatFluencyScore(t),"fb:explicitly_shared":!0};g.postFacebookAction(duo.fb_app,"improve",s,function(e){!e||e.error?r(".fluency-score-actions .share-action-failed").text(c("Unable to connect to Facebook. Please try again later.")).show():FB.api("/me",function(e){!e||e.error?window.open("http://www.facebook.com","_blank"):window.open(e.link,"_blank")}),setTimeout(function(){r(".facebook-share-fluency").removeClass("click-disabled")},1e3)}),g.track("fluency facebook shared")},g.loginWithGoogle=function(e,t,i,s){t=t||function(){},i=i||function(){},s=s||function(){};var a=l.once(function(){gapi.client.load("oauth2","v2",function(){gapi.client.oauth2.userinfo.get().execute(function(a){a.email?r.post("/gplus/register",{auth:gapi.auth.getToken().access_token,email:a.email},null,"json").done(function(n){n.has_account===!0?g.track("login old id",{login_method:"gplus",ui_location:e},t,300):gapi.client.load("plus","v1",function(){gapi.client.plus.people.get({userId:"me"}).execute(function(t){p(e,{email:a.email,fullname:t.result.displayName,profile_image:t.image.url,gplus_id:t.id,ui_language:t.result.language},"gplus",i,s)})})}).fail(s):s()})})});gapi.auth.signIn({clientid:"450298686065.apps.googleusercontent.com",cookiepolicy:"single_host_origin",scope:"https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/plus.login",apppackagename:"com.duolingo",callback:function(e){e.status.signed_in&&a()}})},g.scrollToElement=function(e,t,i){try{var s=Math.max(r("html").scrollTop(),r("body").scrollTop()),a=Math.max(0,e.offset().top+e.height()/2-r(window).height()/2);t=t||Math.min(1500,1.8*Math.abs(a-s)),r("html, body").stop().animate({scrollTop:a},t,i)}catch(n){}},g.formatTime=function(e,t,i){var s=duo.user.get("ui_language"),a=["el","en","zs","ar","hi","ko"];return l.contains(a,s)?t+i:e+":00"},g.formatDate=function(e){var t=duo.date_format;t=t.replace(/\by\b/,"yy"),t=t.replace(/\bM\b/,"m"),t=t.replace(/\bMM\b/,"mm"),t=t.replace(/\bMMM\b/,"M");var i={monthNamesShort:duo.month_names_short};return r.datepicker.formatDate(t,e,i)},g.generatePracticeTimes=function(e){var t=l.map(l.range(24),function(t){var i=12>t?"am":"pm",s=t%12,a=60*t;return 0===s&&(s=12),{offset:a,time:duo.user&&g.formatTime(t,s,i),selected:a==e}});return t},g.relative_protocol_url=function(e){return 0===e.indexOf("https:")?e.slice(6):0===e.indexOf("http:")?e.slice(5):e},g.wordStrengthData=function(e){var t={};return e=Math.round(4*e),t.strength_s=e>1,t.strength_m=e>2,t.strength_l=e>3,t.strength_l?t.blink_l=!0:t.strength_m?t.blink_m=!0:t.strength_s?t.blink_s=!0:t.blink_0=!0,t},g.createShortList=function(e){var t=e.length,i={num_items:t,one:1==t,two:2==t,three:3==t,more:t>3,item_one:t>0?e[0]:null,item_two:t>1?e[1]:null,item_three:t>2?e[2]:null,remainder:t-2};return i};var m=/^([a-zA-Z0-9_\+\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;g.isEmail=function(e){return m.test(e)},g.isTrialEmail=function(e){var t="@duolingo.com";return 0===e.indexOf("tu.8zPhL")&&-1!==e.indexOf(t,e.length-t.length)};var v=/^([a-zA-Z0-9_\.\-])+$/;g.isUsername=function(e){return e.length<3||e.length>16?!1:v.test(e)},g.isPassword=function(e){return e.length>=6},g.track=function(e,t,i,s){if("$create_alias"==e&&/^[0-9]*$/.test(mixpanel.get_property("distinct_id")))return void(i&&i());if("object"!=typeof t&&(t={}),i){if(s){var i=l.once(i);window.setTimeout(i,s)}i=l.after(2,i)}duo&&duo.user&&(duo.user.has("created_dt")&&(t.creation_age=(new Date).getTime()-duo.user.get("created_dt")),t.t13n_enabled=duo.user.get("transliterate")),mixpanel.track.call(mixpanel,e,t,i)},g.trackAndReload=function(e,t){g.track(e,t,function(){window.location.reload(!0)},300)},g.trackAndRedirect=function(e,t,i){i&&g.track(e,t,function(){window.location.href=i},300)},g.getDayDiff=function(e,t){e=e?new Date(e):new Date,t=t?new Date(t):new Date;var i=e.getTime(),s=t.getTime();return parseInt((s-i)/864e5)},g.currUserTimezoneOffset=function(e){if(!duo.user)return 0;var t=duo.user.get("timezone_offset"),i=parseInt(t.charAt(0)+"1")*(parseInt(t.slice(1,3))+parseInt(t.slice(3,5))/60);return 36e5*i},g.getCalendar=function(){var e=g.currUserTimezoneOffset(),t=6e4*(new Date).getTimezoneOffset(),i=new Date(new Date(duo.user.get("current_time")).getTime()+e),s=new Date(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),0,0,0,0),a=5184e5;s=new Date(s.getTime()-t-a);var n=i.getUTCDay(),o=n,r=duo.user.get("calendar"),d=l.chain(r).map(function(t){return{datetime:new Date(t.datetime+e),improvement:t.improvement}}).filter(function(e){return e.datetime>s}).groupBy(function(e){return e.datetime.getUTCDay()}).value();l.each(d,function(e,t,i){var s=l.reduce(e,function(e,t){return null===t.improvement?e:e+t.improvement},0);i[t]=s});for(var c=[],u=(n-o+6)%7,h=0;7>h;h++){var p={},_=(h+o+1)%7;_===n?p.state="current":u>h?p.state="done":p.state="",_ in d?(p.points=d[_],p.stack=Math.min(10,Math.ceil(p.points/10))):(p.stack=0,p.points=0),p.index=h,p.day=(_+6)%7,c.push(p)}return c},r(document).ready(function(){r("body").on("click","[data-track-click]",function(e){e.originalEvent&&g.track("click",{which:r(e.currentTarget).data("track-click")})}),r("body").on("click",".navigate_to_external_target",function(e){if(e.originalEvent){var t,i={};switch(r(e.currentTarget).data("navigate-to-external-target")){default:return}g.track("click",i,function(){window.location.href=t})}}),r("body").on("click",'[data-toggle="facebook-share"]',function(e){if(window.FB){var t=r(e.currentTarget),i={name:t.data("name"),description:t.data("description"),caption:t.data("caption")};g.track("facebook share click"),g.getFBAccessToken(l.bind(s,this,i))}}),r("body").on("click",'[data-toggle="facebook-invite"]',function(e){if(window.FB){var t=r(e.currentTarget),i=t.data("user");g.track("facebook invite click",{from:t.data("trackFrom")}),FB.ui({method:"send",link:"http://duolingo.com/#/register?ib="+duo.user.id,to:i,name:t.data("name"),description:t.data("description"),picture:"http://static.duolingo.com/images/facebook/owl.png"},function(e){e&&(g.track("facebook invited"),t.attr("disabled","disabled").text(t.data("sent")))})}}),r("body").on("click",'[data-toggle="tweet"]',function(e){var t=575,i=400,s=(r(window).width()-t)/2,a=(r(window).height()-i)/2,n=this.href,o=r(this),l="status=1,width="+t+",height="+i+",top="+a+",left="+s,d={};return o.data("text")&&(d.text=o.data("text")),o.data("url")&&(d.url=o.data("url")),o.data("via")&&(d.via=o.data("via")),window.open(n+"?"+r.param(d),"twitter",l),!1}),r("body").on("mouseenter",'[data-toggle="popover"]',function(e){var t=r(e.currentTarget),i=r(t.data("popover"));n(t,i)}).on("mouseleave",'[data-toggle="popover"]',function(e){var t=r(e.currentTarget),i=r(t.data("popover"));o(i)}),r("body").on("click",'[data-toggle="follow"]',function(e){var t=r(e.currentTarget),i=t.data("user");t.hasClass("success")?(duo.user.unfollow(i,t.data("silent")),t.removeClass("success").text(t.data("followText")),t.data("followClass")&&t.addClass(t.data("followClass")),t.data("unfollowClass")&&t.removeClass(t.data("unfollowClass"))):(duo.user.follow(i,t.data("silent")),t.addClass("success").text(t.data("unfollowText")),t.data("followClass")&&t.removeClass(t.data("followClass")),t.data("unfollowClass")&&t.addClass(t.data("unfollowClass")))}),r("body").on("click",'[data-toggle="tab"]',function(e){var t=r(e.currentTarget),i=r(t.data("selector"));r('[data-group="'+t.data("group")+'"]').each(function(){r(this).removeClass("active"),r(r(this).data("selector")).hide()}),i.show(),t.addClass("active")})}),g.validateEmail=function(e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)},g.showSchoolsVideo=function(e){var t={de:"5YR31JNWQaY",en:"3TSNuKflI6o",es:"iFlSiGwNJMM",fr:"V-K_szDvl3s",it:"sfXli1nHwa4",ja:"VWgpIyjRyXM",ko:"q_lbeAR8to8",pt:"7Vtt-Haj9mg",tr:"DLXFo_jWD8E",vi:"jF6KHjQOuRM"};e=e in t?e:"en",r.fancybox({padding:0,autoScale:!1,transitionIn:"none",transitionOut:"none",width:825,height:495,href:"https://www.youtube.com/v/"+t[e]+"?autoplay=1",type:"swf",swf:{wmode:"transparent",allowfullscreen:"true"}})},g.showIntroVideo=function(e){var t={en:"8OebgtUjLg4",it:"VF4tOxFgMVo",de:"eKRFT4Rnpwg",fr:"V8GBagCa2F8",pt:"XjLZ5nh44kw",es:"F9tUaDKUQ8A",ru:"zwAEaXwjLdM"};e=e in t?e:"en",r.fancybox({padding:0,autoScale:!1,transitionIn:"none",transitionOut:"none",width:680,height:495,href:"https://www.youtube.com/v/"+t[e]+"?rel=0&feature=player_embedded",type:"swf",swf:{wmode:"transparent",allowfullscreen:"true"}})},g.checkValidDirection=function(e,t){var i=[];return duo.available_languages&&(i=l.filter(duo.available_languages,function(i){return i.from_language==e&&i.learning_language==t})),i.length};var f=null,b=null,w=function(){f||(f=l.reduce(duo.available_languages,function(e,t){return e[t.from_language]=t.from_language_id,e[t.learning_language]=t.learning_language_id,e},{}),b=l.invert(f))};g.languageAbbrevToId=function(e){return w(),f[e]},g.languageIdToAbbrev=function(e){return w(),b[e]},r.fn.absoluteTableCell=function(){var e=-1;this.find(".wrapper").each(function(){e=e>r(this).height()?e:r(this).height()}),this.find(".wrapper").each(function(){$el=r(this);var t=r("<div />",{"class":"innerWrapper",css:{height:e,width:"100%",position:"relative"}});$el.wrapInner(t)})},r.fn.visible=function(e){var t=r(this),i=r(window),s=i.scrollTop(),a=s+i.height()-.4*i.height(),n=t.offset().top,o=n+t.height(),l=e===!0?o:n,d=e===!0?n:o;return a>=d&&l>=s},r.fn.fixedSidebar=function(){l.defer(function(){var e=r(".page-sidebar .inner"),t=r(window),i=t.height()<e.height()+150?"absolute":"fixed";e.css({position:i}),t.resize(function(){var i=t.height()<e.height()+150?"absolute":"fixed";e.css({position:i})})})},g.getEditDistance=function(e,t){if(!e)return"undefined"!=typeof t&&null!==t?t.length:Number.MAX_VALUE;if(!t)return"undefined"!=typeof e&&null!==e?e.length:Number.MAX_VALUE;var i,s,a=[];for(i=0;i<=t.length;i++)a[i]=[i];for(s=0;s<=e.length;s++)a[0][s]=s;for(i=1;i<=t.length;i++)for(s=1;s<=e.length;s++)t.charAt(i-1)==e.charAt(s-1)?a[i][s]=a[i-1][s-1]:a[i][s]=Math.min(a[i-1][s-1]+1,Math.min(a[i][s-1]+1,a[i-1][s]+1));return a[t.length][e.length]},g.wordHighlightDiff=function(e,t){var i=new u.diff_match_patch,s=i.diff_linesToWords_(e,t),a=s.chars1,n=s.chars2,o=s.lineArray,r=i.diff_main(a,n,!1);return i.diff_charsToLines_(r,o),r};var y={es:{a:/[á]/g,e:/[é]/g,i:/[í]/g,o:/[ó]/g,u:/[úü]/g,b:/[v]/g,s:/[z]/g},fr:{a:/[àâæ]/g,e:/[èéêë]/g,i:/[îï]/g,o:/[ôœ]/g,u:/[ùûü]/g,s:/[ç]/g}};g.normalizeHomophones=function(e,t){if(t&&(t=t.toLowerCase(),e in y))for(var i in y[e])t=t.replace(y[e][i],i);return t||""},g.logout=function(){d.unsubscribe(),r('<form action="/logout" method="post"></form>').appendTo(r("body")).submit()};var k={en:{0:"zero",1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine",10:"ten",11:"eleven",12:"twelve",13:"thirteen",14:"fourteen",15:"fifteen",16:"sixteen",17:"seventeen",18:"eighteen",19:"nineteen",20:"twenty",30:"thirty",40:"forty",50:"fifty",60:"sixty",70:"seventy",80:"eighty",90:"ninety",100:"hundred",1000:"thousand"},de:{0:"null",1:"ein",2:"zwei",3:"drei",4:"vier",5:"fünf",6:"sechs",7:"sieben",8:"acht",9:"neun",10:"zehn",11:"elf",12:"zwölf",13:"dreizehn",14:"vierzehn",15:"fünfzehn",16:"sechzehn",17:"siebzehn",18:"achtzehn",19:"neunzehn",20:"zwanzig",30:"dreißig",40:"vierzig",50:"fünfzig",60:"sechzig",70:"siebzig",80:"achtzig",90:"neunzig",100:"hundert",1000:"tausend"},es:{0:"cero",1:"uno",2:"dos",3:"tres",4:"cuatro",5:"cinco",6:"seis",7:"siete",8:"ocho",9:"nueve",10:"diez",11:"once",12:"doce",13:"trece",14:"catorce",15:"quince",16:"dieciséis",17:"diecisiete",18:"dieciocho",19:"diecinueve",20:"veinte",21:"veintiuno",22:"veintidós",23:"veintitrés",24:"veinticuatro",25:"veinticinco",26:"veintiséis",27:"veintisiete",28:"veintiocho",29:"veintinueve",30:"treinta",40:"cuarenta",50:"cincuenta",60:"sesenta",70:"setenta",80:"ochenta",90:"noventa",100:"cien",1000:"mil"},pt:{0:"zero",1:"um",2:"dois",3:"três",4:"quatro",5:"cinco",6:"seis",7:"sete",8:"oito",9:"nove",10:"dez",11:"onze",12:"doze",13:"treze",14:"catorze",15:"quinze",16:"dezesseis",17:"dezessete",18:"dezoito",19:"dezenove",20:"vinte",30:"trinta",40:"quarenta",50:"cinquenta",60:"sessenta",70:"setenta",80:"oitenta",90:"noventa",100:"cem",1000:"mil"},it:{0:"zero",1:"uno",2:"due",3:"tre",4:"quattro",5:"cinque",6:"sei",7:"sette",8:"otto",9:"nove",10:"dieci",11:"undici",12:"dodici",13:"tredici",14:"quattordici",15:"quindici",16:"sedici",17:"diciassette",18:"diciotto",19:"diciannove",20:"venti",30:"trenta",40:"quaranta",50:"cinquanta",60:"sessanta",70:"settanta",80:"ottanta",90:"novanta",100:"cento",1000:"mille"},fr:{0:"zéro",1:"un",2:"deux",3:"trois",4:"quatre",5:"cinq",6:"six",7:"sept",8:"huit",9:"neuf",10:"dix",11:"onze",12:"douze",13:"treize",14:"quatorze",15:"quinze",16:"seize",17:"dix-sept",18:"dix-huit",19:"dix-neuf",20:"vingt",30:"trente",40:"quarante",50:"cinquante",60:"soixante",70:"soixante-dix",80:"quatre-vingts",90:"quatre-vingt-dix",100:"cent",1000:"mille"}};g.normalizeTranscript=function(e,t){if(t&&("en"===e&&(t=t.replace(/'s/g," is"),t=t.replace(/'m/g," am"),t=t.replace(/'re/g," are"),t=t.replace(/'ll/g," will"),t=t.replace(/'ve/g," have")),e in k))for(var i in k[e]){var s=new RegExp("\\b"+i+"\\b","g");t=t.replace(s,k[e][i])}return t||""};var x="-\\'!@#$%^&*()_+|\\\\~=`{}\\[\\]:\";<>?,.\\/‐¡¿·«»“”„–▶’。，、､‚｡；：「」『』（）？！─…《》〈〉．～،؟।—‧";g.onlyContainsPunctuation=function(e){var t=new RegExp("^["+x+"]+$","g");return t.test(e)},g.preprocessTextSpeak=function(e){if(e){for(var t,i=new RegExp("["+x+"]","g"),s=/[\u00C0-\u1FFF\u2C00-\uD7FF\w]+[-'][\u00C0-\u1FFF\u2C00-\uD7FF\w]+/g,a=[];null!==(t=s.exec(e));)a.push({start:t.index,end:t.index+t[0].length});for(var n="",o=0,l=0;l<a.length;++l)o<a[l].start&&(n+=e.substring(o,a[l].start).replace(i," ")),n+=e.substring(a[l].start,a[l].end),o=a[l].end;o<e.length&&(n+=e.substring(o).replace(i," ")),n=n.toLowerCase(),n=n.replace(/\s+/g," "),n=r.trim(n),e=n}return e||""},g.setTranslationPreference=function(e,t){r.post("/translations/set_translation_preference",{preference_name:e,preference_value:t})};var $={iOS:{appName:"Duolingo",appId:"570060128"},android:{appId:"com.duolingo"}};g.deeplink=function(e,t){var i=navigator.userAgent.match("Chrome");h.setup(l.extend({fallback:!(duo.isAndroid()&&i)},$)),h.open(e),t&&g.track("deeplink attempted",{from_email:t})},g.deeplinkWithoutFallback=function(e){h.setup(l.extend({fallback:!1},$)),h.open(e)},g.getUrlParameters=function(){for(var e={},t=window.location.search.substring(1),i=t.split("&"),s=0;s<i.length;s++){var a=i[s],n=a.indexOf("=");if(-1!==n){var o=a.substring(0,n),r=a.substring(n+1,a.length);e[o]=decodeURIComponent(r)}}return e},g.blinky=function(e,t,i){var s=r(e);s.css("border-top-color")==t?s.css("border-color",i):s.css("border-color",t)};var S={};l.each({A:"ÁĂẮẶẰẲẴǍÂẤẬẦẨẪÄǞȦǠẠȀÀẢȂĀĄÅǺḀȺÃⱯᴀ",AA:"Ꜳ",AE:"ÆǼǢᴁ",AO:"Ꜵ",AU:"Ꜷ",AV:"ꜸꜺ",AY:"Ꜽ",B:"ḂḄƁḆɃƂʙᴃ",C:"ĆČÇḈĈĊƇȻꜾᴄ",D:"ĎḐḒḊḌƊḎǲǅĐƋꝹᴅ",DZ:"ǱǄ",E:"ÉĔĚȨḜÊẾỆỀỂỄḘËĖẸȄÈẺȆĒḖḔĘɆẼḚƐƎᴇⱻ",ET:"Ꝫ",F:"ḞƑꝻꜰ",G:"ǴĞǦĢĜĠƓḠǤꝽɢʛ",H:"ḪȞḨĤⱧḦḢḤĦʜ",I:"ÍĬǏÎÏḮİỊȈÌỈȊĪĮƗĨḬɪ",R:"ꞂŔŘŖṘṚṜȐȒṞɌⱤʁʀᴙᴚ",S:"ꞄŚṤŠṦŞŜȘṠṢṨꜱ",T:"ꞆŤŢṰȚȾṪṬƬṮƮŦᴛ",IS:"Ꝭ",J:"ĴɈᴊ",K:"ḰǨĶⱩꝂḲƘḴꝀꝄᴋ",L:"ĹȽĽĻḼḶḸⱠꝈḺĿⱢǈŁꞀʟᴌ",LJ:"Ǉ",M:"ḾṀṂⱮƜᴍ",N:"ŃŇŅṊṄṆǸƝṈȠǋÑɴᴎ",NJ:"Ǌ",O:"ÓŎǑÔỐỘỒỔỖÖȪȮȰỌŐȌÒỎƠỚỢỜỞỠȎꝊꝌŌṒṐƟǪǬØǾÕṌṎȬƆᴏᴐ",OI:"Ƣ",OO:"Ꝏ",OU:"Ȣᴕ",P:"ṔṖꝒƤꝔⱣꝐᴘ",Q:"ꝘꝖ",V:"ɅꝞṾƲṼᴠ",TZ:"Ꜩ",U:"ÚŬǓÛṶÜǗǙǛǕṲỤŰȔÙỦƯỨỰỪỬỮȖŪṺŲŮŨṸṴᴜ",VY:"Ꝡ",W:"ẂŴẄẆẈẀⱲᴡ",X:"ẌẊ",Y:"ÝŶŸẎỴỲƳỶỾȲɎỸʏ",Z:"ŹŽẐⱫŻẒȤẔƵᴢ",IJ:"Ĳ",OE:"Œɶ",a:"áăắặằẳẵǎâấậầẩẫäǟȧǡạȁàảȃāąᶏẚåǻḁⱥãɐₐ",aa:"ꜳ",ae:"æǽǣᴂ",ao:"ꜵ",au:"ꜷ",av:"ꜹꜻ",ay:"ꜽ",b:"ḃḅɓḇᵬᶀƀƃ",o:"ɵóŏǒôốộồổỗöȫȯȱọőȍòỏơớợờởỡȏꝋꝍⱺōṓṑǫǭøǿõṍṏȭɔᶗᴑᴓₒ",c:"ćčçḉĉɕċƈȼↄꜿ",d:"ďḑḓȡḋḍɗᶑḏᵭᶁđɖƌꝺ",i:"ıíĭǐîïḯịȉìỉȋīįᶖɨĩḭᴉᵢ",j:"ȷɟʄǰĵʝɉⱼ",dz:"ǳǆ",e:"éĕěȩḝêếệềểễḙëėẹȅèẻȇēḗḕⱸęᶒɇẽḛɛᶓɘǝₑ",et:"ꝫ",f:"ḟƒᵮᶂꝼ",g:"ǵğǧģĝġɠḡᶃǥᵹɡᵷ",h:"ḫȟḩĥⱨḧḣḥɦẖħɥʮʯ",hv:"ƕ",r:"ꞃŕřŗṙṛṝȑɾᵳȓṟɼᵲᶉɍɽɿɹɻɺⱹᵣ",s:"ꞅſẜẛẝśṥšṧşŝșṡṣṩʂᵴᶊȿ",t:"ꞇťţṱțȶẗⱦṫṭƭṯᵵƫʈŧʇ",is:"ꝭ",k:"ḱǩķⱪꝃḳƙḵᶄꝁꝅʞ",l:"ĺƚɬľļḽȴḷḹⱡꝉḻŀɫᶅɭłꞁ",lj:"ǉ",m:"ḿṁṃɱᵯᶆɯɰ",n:"ńňņṋȵṅṇǹɲṉƞᵰᶇɳñ",nj:"ǌ",oi:"ƣ",oo:"ꝏ",ou:"ȣ",p:"ṕṗꝓƥᵱᶈꝕᵽꝑ",q:"ꝙʠɋꝗ",u:"ᴝúŭǔûṷüǘǚǜǖṳụűȕùủưứựừửữȗūṻųᶙůũṹṵᵤ",th:"ᵺ",oe:"ᴔœ",v:"ʌⱴꝟṿʋᶌⱱṽᵥ",w:"ʍẃŵẅẇẉẁⱳẘ",y:"ʎýŷÿẏỵỳƴỷỿȳẙɏỹ",tz:"ꜩ",ue:"ᵫ",um:"ꝸ",vy:"ꝡ",x:"ẍẋᶍₓ",z:"źžẑʑⱬżẓȥẕᵶᶎʐƶɀ",ff:"ﬀ",ffi:"ﬃ",ffl:"ﬄ",fi:"ﬁ",fl:"ﬂ",ij:"ĳ",st:"ﬆ"},function(e,t){l.each(e,function(e){S[e]=t})}),g.replaceNonLatinChars=function(e){return e.replace(/[^A-Za-z0-9\[\] ]/g,function(e){return S[e]||e})}},function(e,t){e.exports=function(e){var t=/^(.+)\|\|([^\{]+)$/;if(duo.ui_translations){var i=e.replace(/{{/g,"<%").replace(/}}/g,"%>");if(i in duo.ui_translations){var s=duo.ui_translations[i];return null==s?"":s.replace(/<%/g,"{{").replace(/%>/g,"}}")}}var a=t.exec(e);return a?a[1]:e}},function(e,t,i){function s(){var e=arguments[arguments.length-1];if(arguments.length!=duo.ui_language_plurals+1)return 1!=e?arguments[1]:arguments[0];var t=duo.ui_language_pluralize(e);return arguments[t]}function a(e,t){var i=null,a=t(e);if(0==a.indexOf("[")&&a.lastIndexOf("]")==a.length-1)try{i=JSON.parse(a)}catch(n){}return i||(i=a.split(",")),s.apply(this,i)}function n(e,t){var i={m:"masculine",f:"feminine",nt:"neuter",pl:"plural"};return i[t(e)]}function o(e,t){var i={sg:"singular",pl:"plural"};return i[t(e)]}function r(e,t){var i=t(e),s=i.split(",");if(s.length>1)return"this";var a={nom:"nominative",acc:"accusative",dat:"dative",gen:"genitive"};return a[s[0]]}function l(e,t){var i=parseInt(t(e)),s=i%100;if(20>s&&s>10)return i+"th";switch(i%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd";default:return i+"th"}}function d(e,t){var i=parseInt(t(e));return i+1}function c(e,t){var i=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],s=parseInt(t(e));return C(i[s])}function u(e,t){var s=t(e).split(",").slice(0,-1);if(0===s.length)return"";var a={one:s[0],two:s[1],more_two:s.length>2,three:s.length>3?null:s[2],more:s.length<=3?null:s.length-2};return S.duostache(i(590),a)}function h(e){return 10>e?"0"+e:e}function g(e,t){var i=parseInt(t(e)),s=h(parseInt(Math.floor(i/60))),a=h(parseInt(i)%60);return s+":"+a}function p(e){var t=new Date(e||""),i=((new Date).getTime()-t.getTime())/1e3,s=Math.floor(i/86400);return(isNaN(s)||0>s)&&(t=new Date((e||"").replace(/-/g,"/").replace(/[TZ]/g," ")),i=((new Date).getTime()-t.getTime())/1e3,s=Math.floor(i/86400)),(isNaN(s)||0>s)&&(i=1,s=0),0==s&&(60>i&&{just:!0}||120>i&&{minute:!0}||3600>i&&{minutes:!0,n:Math.floor(i/60)}||7200>i&&{hour:!0}||86400>i&&{hours:!0,n:Math.floor(i/3600)})||1==s&&{yesterday:!0}||7>s&&{days:!0,n:s}||31>s&&{weeks:!0,n:Math.floor(s/7)}||365>s&&{months:!0,n:Math.floor(s/30)}||{years:!0,n:Math.floor(s/365)}}function _(e,t){var s=t(e),a=p(s);return S.duostache(i(589),a)}function m(e,t){var i=t(e);return i.toLowerCase().charAt(0)in D?"an":"a"}function v(e,t){return t(C(e))}function f(e,t){return t(e)}function b(e,t){var i=t("{{"+e+"}}");return t(C(i))}function w(e,t){var i=t("{{{"+e+"}}}");return t(C(i))}function y(e,t){var i=t(e);return t(C(i))}function k(e,t){var i=t(e).split(","),s=parseFloat(i[0],10);return s.toFixed(parseInt(i[1]))}function x(e,t){var i=t(e);-1!==i.indexOf("default_1");return t(i.replace("default_1","default_2"))}var $=i(178),S=i(1),T=i(2),C=i(5),D={a:!0,e:!0,i:!0,o:!0,u:!0},E={pluralize:function(){return a},ranked_number:function(){return l},_i:function(){return v},_ivar:function(){return b},_ivaru:function(){return w},_iv:function(){return y},_i_in:function(){return v},_i_en:function(){return f},genderize:function(){return n},caserize:function(){return r},numberize:function(){return o},from_index:function(){return d},day_of_week:function(){return c},short_list:function(){return u},format_seconds:function(){return g},pretty_date:function(){return _},determiner:function(){return m},toFixed:function(){return k},default_avatar:function(){return x}};e.exports=S.duostache=function(e,t){var i={};T.each(duo.ab_options,function(e,t){i[t+"_"+e]=!0}),duo.user?(T.extend(i,duo.user.toJSON().ab),i.logged_in=!0,i.trial_account=!!duo.user.get("trial_account"),i.prebeta_experimental_mode=duo.prebeta_experimental_mode,i.immersion_enabled=duo.immersion_enabled,i["ui_language_"+duo.user.get("ui_language")]=!0,i.stream_enabled=duo.user.hasFeatureEnabled("stream"),i.discussions_enabled=duo.user.hasFeatureEnabled("discussions"),i.immersion_tab_enabled=duo.user.hasFeatureEnabled("immersion")):i["ui_language_"+duo.browser_language]=!0,i.in_house_localized=duo.in_house_localized,i.dir=duo.script_direction,i.rtl="rtl"==duo.script_direction,i.cn_extension=duo.cn_extension,T.each(duo.feature_flags,function(e,t){i[t+"_ff_"+e]=!0});var s=S.extend({},E,i,t);return $.render(e,s)}},,function(e,t,i){var s=i(2),a=i(3);e.exports=a.View.extend({addChildView:function(e){e&&e.close&&(this.childViews||(this.childViews=[]),this.childViews.push(e))},closeChildViews:function(){s.invoke(this.childViews,"close"),this.childViews=void 0},close:function(){this.closeChildViews(),this.unbind(),this.stopListening(),this.onClose&&this.onClose()}})},function(e,t,i){var s,a=i(1),n=i(3);e.exports=n.Router.extend({switchView:function(e,t,i,n){a("#app").replaceWith(e.render().el),a("#app").removeClass(duo.view),s&&a("body").removeClass(s),t&&a("#app").addClass(t),i&&a("body").addClass(i),n&&a("#meta-description").attr("content",n),duo.view=t,s=i,a(document).scrollTop(0),a(".logged-out-message").empty(),a("#join").hide(),a("#topbar-menu").show(),duo.topbar&&duo.topbar.closeMobileMenu&&duo.topbar.closeMobileMenu(),a("body").css({overflow:"auto"})}})},function(e,t){e.exports='{{^deactivated}}<a href="/{{username}}" class="avatar avatar-medium {{#show_badges}}{{#expert}}expert{{/expert}} {{#admin}}expert{{/admin}} {{#mod}}moderator{{/mod}}{{/show_badges}}" {{#show_badges}}{{#mod}}data-toggle="tooltip" title="{{#_i}}Moderator{{/_i}}"{{/mod}}{{#admin}}data-toggle="tooltip" title="{{#_i}}Admin{{/_i}}"{{/admin}}{{/show_badges}} >{{#lazy_avatars}}{{#avatar}}<img class="lazy" src="//s3.amazonaws.com/duolingo-images/avatar/default_2/xlarge" data-original="{{#default_avatar}}{{avatar}}/xlarge{{/default_avatar}}" width="50" height="50">{{/avatar}}{{^avatar}}<img class="lazy" src="//s3.amazonaws.com/duolingo-images/avatar/default_2/xlarge" data-original="{{#default_avatar}}//www.duolingo.com/avatars/{{id}}/xlarge{{/default_avatar}}" width="50" height="50">{{/avatar}}{{/lazy_avatars}}{{^lazy_avatars}}{{#avatar}}{{#default_avatar}}<img src="{{avatar}}/xlarge">{{/default_avatar}}{{/avatar}}{{^avatar}}{{#default_avatar}}<img src="//www.duolingo.com/avatars/{{id}}/xlarge">{{/default_avatar}}{{/avatar}}{{/lazy_avatars}}<span class="ring"></span>{{#show_badges}}{{#admin}}<span class="avatar-badge admin"><span class="icon icon-star-white-tiny"></span></span>{{/admin}}{{#mod}}<span class="avatar-badge moderator"><span class="icon-shield-white-tiny icon"></span></span>{{/mod}}{{/show_badges}}</a>{{/deactivated}}{{#deactivated}}<span class="avatar avatar-medium" title="{{#_i}}[deactivated user]{{/_i}}"><img src="//s3.amazonaws.com/duolingo-images/avatar/default_2/xlarge"></span>{{/deactivated}} '},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(4),r=i(120),l=i(422),d=i(71);
e.exports=n.View.extend({tagName:"li",className:"stream-item",template:l,events:{"click .show-comments":"showComments","click .upvotes .vote":"like","click .event-context":"showContext","click .follow-channel":"followChannel","click .unfollow-channel":"unfollowChannel","click .delete-stream-post":"deleteStreamPost"},initialize:function(e){this.show_time=e.show_time,this.read_only_stream=this.options.read_only_stream,this.model.bind("change",this.reRender,this)},render:function(){var e=0;this.model.has("skills")&&(e=a.reduce(this.model.get("skills"),function(e,t){return e+t.improvement},0)),this.$el.html(s.duostache(this.template,a.extend(this.model.toJSON(),this.getRenderData(),{total_improvement:e,following_short_list:this.model.get("followings")?o.createShortList(this.model.get("followings")):null})));var t=!0;return"friends"===this.model.get("channel")&&(t=a.contains(a.pluck(duo.user.get("following"),"id"),this.model.get("channel_source"))),this.$(".event-context").attr("data-channel-subscribed",t),this.renderComments(),this},getRenderData:function(){var e=this.model.has("comments")&&this.model.get("comments").length>0;return{is_blocked:this.model.isBlocked(),show_time:this.show_time,read_only_stream:this.read_only_stream,has_comments:e,merged:this.model.get("count")>1,liked_short_list:o.createShortList(this.model.get("liked_users")),can_comment:duo.user&&duo.user.metSocialXPThreshold()}},reRender:function(){var e=0===this.$(".show-comments").size(),t=this.$(".post-footer:visible").size()>0;this.render(),e&&(this.$(".stream-comments").show(),this.$(".show-comments").remove(),t&&this.$(".stream-comments .post").focus().blur())},renderComments:function(){if(this.model.has("comments")){var e=new d({model:this.model,el:this.$(".stream-comments"),read_only_stream:this.read_only_stream});e.render()}},showComments:function(){this.$(".stream-comments").show(),this.$(".show-comments").remove(),this.$(".stream-comments .post").focus()},like:function(){o.track("like event"),this.model.like()},showContext:function(){this.$(".event-context").toggleClass("active"),this.$(".even-context-menu").toggle();var e=this;return s(document).one("click.event",function(){e.$(".even-context-menu").hide()}),!1},followChannel:function(){if("friends"===this.model.get("channel"))duo.user.follow(this.model.get("channel_source"));else if("topics"===this.model.get("channel")){var e=new r({id:this.model.get("channel_source")});e.follow(function(){duo.user.trigger("change")})}this.$el.closest(".activity-stream").find(".event-context[data-channel="+this.model.get("channel")+"][data-channel-source="+this.model.get("channel_source")+"]").attr("data-channel-subscribed",!0)},unfollowChannel:function(){if("friends"===this.model.get("channel"))duo.user.unfollow(this.model.get("channel_source"));else if("topics"===this.model.get("channel")){var e=new r({id:this.model.get("channel_source")});e.unfollow(function(){duo.user.trigger("change")})}this.$el.closest(".activity-stream").find(".event-context[data-channel="+this.model.get("channel")+"][data-channel-source="+this.model.get("channel_source")+"]").attr("data-channel-subscribed",!1)},deleteStreamPost:function(){this.model.deletePost()}})},function(e,t){e.exports='<div class="footer-main"><ul class="nav-footer"><li><a href="/info" tabindex="100">{{#_i}}About{{/_i}}</a></li>{{^logged_in}}<li><a href="https://schools.duolingo.com/" tabindex="101">{{#_i}}Schools{{/_i}}</a></li>{{/logged_in}}<li><a href="https://testcenter.duolingo.com/" tabindex="102">Test Center</a></li><li class="mobile-hidden"><a href="/mobile" tabindex="103">{{#_i}}Mobile{{/_i}}</a></li><li class="mobile-hidden"><a href="http://gear.duolingo.com" tabindex="104" target="_blank">{{#_i}}Gear{{/_i}}</a></li><li class="mobile-hidden"><a href="/help" tabindex="105">{{#_i}}Help{{/_i}}</a></li>{{#logged_in}}<li class="mobile-hidden"><a href="/guidelines" tabindex="106">{{#_i}}Guidelines{{/_i}}</a></li>{{/logged_in}}<li><a href="/jobs" tabindex="107">{{#_i}}Jobs{{/_i}}</a></li><li class="mobile-hidden"><a href="/terms" tabindex="108">{{#_i}}Terms{{/_i}}</a></li><li class="mobile-hidden"><a href="/privacy" tabindex="109">{{#_i}}Privacy{{/_i}}</a></li><li class="mobile-hidden"><a href="http://twitter.com/duolingo" tabindex="130"><span class="icon icon-twitter-small"></span></a></li><li class="mobile-hidden"><a href="http://facebook.com/duolingo" tabindex="140"><span class="icon icon-fb-small"></span></a></li><span class="social-footer"><li><a href="http://twitter.com/duolingo" tabindex="130"><span class="icon icon-twitter-small"></span></a></li><li><a href="http://facebook.com/duolingo" tabindex="140"><span class="icon icon-fb-small"></span></a></li></span></ul>{{#cn_extension}}<ul class="nav-footer cn-footer"><li>京ICP备14061397号</li></ul>{{/cn_extension}}</div> '},,function(e,t,i){"use strict";var s=i(1),a=i(2),n=i(4),o=e.exports={},r=function(e){return a.isEmpty(e)?"":"?"+a.map(a.pairs(e),function(e){return a.map(e,encodeURIComponent).join("=")}).join("&")},l=function(e){e.getResponseHeader("JWT")},d=function(e){return function(t,i,a){var n={cache:!1,contentType:"application/json; charset=UTF-8",dataType:"json",headers:{},type:e,url:t};return"PATCH"===e&&(navigator.userAgent||"").match(/MSIE|Trident|PhantomJS\/1\./)&&(n.type="POST",n.headers["X-HTTP-Method-Override"]="PATCH"),void 0!==i&&(n.data=JSON.stringify(i)),a&&(n.dataFilter=a),s.ajax(n).done(function(e,t,i){l(i)}).fail(l)}};o.get=d("GET"),o.patch=d("PATCH"),o.post=d("POST"),o.put=d("PUT");var c="/2016-04-13",u={skill:{iconId:"new_index",lessons:"num_lessons",shortName:"short",urlName:"url_title"},user:{autoFacebookPost:"auto_facebook_post",currentPassword:"current-password",emailAnnouncement:"notify_announcement",emailAssignment:"notify_assignment",emailAssignmentComplete:"notify_assignment_complete",emailClassroomJoin:"notify_classroom_join",emailClassroomLeave:"notify_classroom_leave",emailComment:"notify_comment",emailEditSuggested:"notify_edit_suggested",emailFollow:"notify_follow",emailPass:"notify_pass",emailSchoolsAnnouncement:"notify_schools_announcement",emailStreamPost:"notify_stream_post",emailWeeklyReport:"notify_weekly_report",enableSoundEffects:"sound_effects",enableSpeaker:"speaker",insiteImmersionLingots:"insite_immersion_lingots",insiteSentenceEdited:"insite_sentence_edited",name:"fullname",password:"new-password",pushAnnouncement:"push_announcement",pushComment:"push_comment",pushEditSuggested:"push_edit_suggested",pushFollow:"push_follow",pushPassed:"push_passed",pushStreamPost:"push_stream_post",xpGoal:"daily_goal"}},h=function(e,t,i){a.each(t,function(t,s){var a=2===i?t:s,n=2===i?s:t;void 0!==e[a]&&(e[n]=e[a],delete e[a])})};o.login=function(e,t,i){return o.get(c+"/jwt"+r({identifier:e,password:t})).done(function(){n.track("login",{distinct_id:i})})},o.forgotPassword=function(e){return o.post(c+"/password-reset",{email:e})},o.createUser=function(e,t){return t.timezone=s.getTimezone(),t.fromLanguage=e,o.post(c+"/users"+r({fields:"id"}),t)},o.updateUser=function(e,t){if(t=a.clone(t),t.language_direction){var i=t.language_direction.split("_");t.fromLanguage=n.languageAbbrevToId(i[0]),t.learningLanguage=n.languageAbbrevToId(i[1]),delete t.language_direction}return t.locales&&(t.locales.zs&&(t.zhTw="zt"===t.locales.zs),delete t.locales),h(t,u.user,2),o.patch(c+"/users/"+e+r({fields:a.keys(t).join(",")}),t,function(e){return e=JSON.parse(e),h(e,u.user,1),JSON.stringify(e)})};var g={"default":"blue",1:"blue",2:"red",3:"red",4:"green",5:"green",6:"blue",7:"blue",8:"green",9:"green",10:"red",11:"green",12:"green",13:"red",14:"blue",15:"green",16:"red",17:"green",18:"red",19:"green",20:"blue",21:"green",22:"blue",23:"red",24:"blue",25:"blue",26:"red",27:"blue",28:"green",29:"blue",30:"red",31:"green",32:"blue",33:"red",34:"green",35:"green",36:"blue",37:"blue",38:"red",39:"blue",40:"red",41:"green",42:"blue",43:"red",44:"green",45:"red",46:"red",47:"red",48:"green",49:"green",50:"blue",51:"blue",52:"red",53:"blue",63:"purple",64:"purple",65:"purple",66:"purple"};o.getSkill=function(e,t){return o.get(c+"/skills"+r({learningLanguage:n.languageAbbrevToId(e),urlName:decodeURIComponent(t),fields:"skills{"+["accessible","bonus","explanation","finishedLessons","iconId","id","lessonWords","lessons","name","shortName","strength","urlName"].join(",")+"}"}),void 0,function(t){return t=JSON.parse(t).skills[0],h(t,u.skill,1),t.bonus=!!t.bonus,t.disabled=!t.accessible,t.has_explanation=t.explanation&&!!t.explanation.length,t.icon_color=g[t.new_index]||g["default"],t.language=e,t.language_string=duo.user.getSkills().language_string,t.learned=t.mastered=t.num_lessons===t.finishedLessons,t.title=t.name,t.path=a.map(t.lessonWords,function(e,i){return{active:i===t.finishedLessons,index:i+1,lesson:i+1,open:i<=t.finishedLessons,strength:1,words:e}}),t.learned&&t.path.push({learned:!0,learn_marker:!0}),t.progress_percent=0,delete t.finishedLessons,delete t.lessonWords,JSON.stringify(t)})}},function(e,t,i){function s(e,t){var i=e,s=0;return l.each(t,function(e){i=i.slice(0,e[0]+s)+"<b>"+i.slice(e[0]+s,e[1]+s)+"</b>"+i.slice(e[1]+s),s+=7}),i}function a(e){for(var t={tokens:[]},i=0;i<e.length;i++){var s={};l.isArray(e[i])?s.value=e[i][0]:s.value=e[i],e[i].length>1&&(s.hint_table={rows:[{cells:[{hint:e[i][1]}]}]},s.index=i+1),t.tokens.push(s)}return t}function n(e){return-1==e.indexOf("://")?window.location.protocol+"//"+e:e}function o(e,t,i){r.ajax({url:n(e),dataType:"jsonp",data:{tokens:JSON.stringify(l.pluck(i,"text"))},type:"GET",success:function(e){var s=l.map(e,function(e,t){if(e.length>0&&l.isArray(e[0])){var i=e[0];e=i[1]}var s={value:t,hint_table:{rows:l.map(e,function(e){return{cells:[{hint:e}]}})},id:t};return s}),a=new p.TokenList;a.reset(s),l.each(i,function(e){var i=a.get(e.text);if(i){var s=new p.TextTokenSideView({model:i,settings:t,el:r(e.el)});s.render()}else console.error(e.text,"is missing from hints")})}})}var r=i(1),l=i(2),d=i(3),c=i(26);i(113),i(13),i(6);var u={HOST_PHASE1:"d.duolingo.com/",HOST_PHASE2:"d2.duolingo.com/"};t.getDictionarySettings=function(){return u};var h=u.HOST_PHASE1,g=(u.HOST_PHASE2,{m:"Masculine",f:"Feminine",nt:"Neuter"}),p={},_=0,m=!1,v=null,f={"hints-sentence":i(438),"hints-token":i(440),"hints-link":i(437)};p.settings={url:h+"words/hints",verb_table_url:h+"words/verb_tables",source_language:"es",target_language:"en",callback:null,callback_context:null,show_hints:3,hover_options:{sensitivity:3,interval:120},templates:f,example:!1,show_tokens:[],top:20,highlights:null,language_information:null,reverse:!1,highlight_verb_endings:!1,style_mapping:null,explanations:null,new_explanation_ids:[],reorder_using_machine_translations:!1,is_document_sentence:!1,speak_solution_sequence:null},p.verb_table_settings={url:h+"words/verb_tables",source_language:"es",templates:f,language_information:null},p.token_hints_settings={url:u.HOST_PHASE2+"api/1/dictionary/hints",source_language:"es",target_language:"en",templates:f,show_hints:3,language_information:null},p.Token=d.Model.extend({defaults:{type:"text",index:null},toJSON:function(){var e=d.Model.prototype.toJSON.call(this);if(0===r.trim(e.value).length&&(e.is_space=!0),r.support.leadingWhitespace||(e.value=e.value.replace(" ","&nbsp; ")),"hint_table"in e&&!("headers"in e.hint_table))for(var t=0;t<e.hint_table.rows.length;t++)for(var i=e.hint_table.rows[t],s=0;s<i.cells.length;s++){var a=i.cells[s];"infinitives"in a&&a.infinitives.length>0&&(a.has_infinitives=!0,a.infinitives_string=JSON.stringify(a.infinitives))}return e},getHints:function(){return this.has("hint_table")?this.get("hint_table").rows[0].cells[0].hint:""}}),p.TokenList=d.Collection.extend({model:p.Token}),p.VerbTable=d.Model.extend({defaults:{title:!0},fetch:function(e){e=e||{},e.data=e.data||{},e.data.infinitives=JSON.stringify(this.get("infinitives")),e.data.verb_patterns=!0,e.dataType="jsonp",d.Model.prototype.fetch.call(this,e)},toJSON:function(){var e=d.Model.prototype.toJSON.call(this);if(!("language_information"in e&&e.language_information))return e;var t=3;e.infinitives_data={};for(var i=0;i<e.infinitives.length;i++){var a=e.infinitives[i],n={};e.infinitives_data[a]={infinitive:a,tables:n};for(var o in e.language_information.tenses){var r=e.language_information.tenses[o];e.infinitives_data[a]["has_"+o]=!0,n[o]=[];for(var c=0;c<Math.ceil(r.length/t);c++)n[o].push({tenses:r.slice(c*t,(c+1)*t),table:[],more_tables:c<Math.ceil(r.length/t)-1});var u=e.language_information.pronoun_mapping;"others"==o&&(u=u.slice(0,1));for(var h=0;h<u.length;h++){for(var g=[],p=u[h],_=0;_<r.length;_++){var m=r[_].tense,v=e.data[a][p.tenses[m]];p.tenses[m]in e.data[a]||(v=e.data[a][p.tenses[m].split("_")[0]]),"de"==this.get("language")&&"present_first_person_singular"==p.tenses[m]&&(v=v.slice(0,1));var f=l.map(v,function(e){return s.apply(this,e)}).join(", ");g.push({word:f})}for(var c=0;c<Math.ceil(r.length/t);c++)n[o][c].table.push({pronoun:p.pronoun,row:g.slice(c*t,(c+1)*t)})}}}return e},parse:function(e){for(var t={},i=0;i<this.get("infinitives").length;i++){var s=this.get("infinitives")[i];t[s]=e[i]}return{data:t}}}),p.SentenceView=d.View.extend({tagName:"span",initialize:function(e){this.settings=e.settings,this.template=this.settings.templates["hints-sentence"],_=0,m=!1,r(this.el).html(r.duostache(this.template)),this.addAll(),this.$(".verb-table-modal").modal({backdrop:!0,show:!1}),void 0!=e.render_callback&&e.render_callback()},addAll:function(){this.collection.each(this.addOne,this)},addOne:function(e){var t=e.get("type").toTitleCase()+"TokenView";this.settings.specials&&e.get("value")in this.settings.specials&&e.set(this.settings.specials[e.get("value")]),this.settings.bold&&l.indexOf(this.settings.bold,e.get("value").toLowerCase())>=0&&e.set({bold:!0});var i=new p[t]({model:e,settings:this.settings});this.$(".hints-sentence").append(i.render().el)}}),p.TextTokenView=d.View.extend({tagName:"span",events:{"hover .more-hints":"moreHints","click .btn.conjugate":"showVerbTable","click .conjugate-small":"showReverseVerbTable","click .btn.explain":"showExplanation","click .btn.dismiss":"hideExplanation"},initialize:function(e){this.settings=e.settings,this.template=this.settings.templates["hints-token"];var t=this.model.get("hint_table");if(t&&t.rows.length>this.settings.show_hints){for(var i=this.settings.show_hints;i<t.rows.length;i++)t.rows[i].hide=!0;t.more_hints=!0}if(t&&t.rows.length>0&&(t.max_colspan=1,"colspan"in t.rows[0].cells[0]&&(t.max_colspan=t.rows[0].cells[0].colspan)),null!=this.settings.explanations&&null!=this.model.get("index")){var s=this.settings.explanations[this.model.get("index")];null!=s&&this.model.set("explanation",s)}this.ignore_mouse_leave=!1},bindHover:function(){var e=this,t=function(t){e.renderHints.apply(e,[t])},i={over:t,out:t,sensitivity:this.getSensitivity()};r.extend(i,this.settings.hover_options),this.$(".token-wrapper").hoverIntent(i)},render:function(){if(null!=this.settings.highlights){for(var e=this.model.get("value"),t=0;t<this.settings.highlights.length;t++){var i=this.settings.highlights[t];_>=i[0]&&_<i[1]&&this.model.set({highlighted:!0})}_+=e.length}null!=this.settings.new_words&&l.indexOf(this.settings.new_words,this.model.get("value").toLowerCase())>=0&&this.model.set({new_word:!0});var a=this.settings.style_mapping||{},n="language_information"in this.settings&&null!=this.settings.language_information,o=this.model.get("infinitives"),d=this.model.get("PoS"),c="VERB"===d&&null!=o&&o.length>0,u=n&&!this.settings.reverse&&c,h=n&&this.settings.reverse,p=a[this.model.get("value").toLowerCase()],f=this.model.get("modifiers"),b=this.model.get("hint_table"),w=null!=f&&"gender"in f&&f.gender in g;w=w&&("POS"in f&&"n"==f.POS||"NOUN"===d),w=w&&null!=b&&null==b.headers;var y=w?g[f.gender]:null,k=this.prettifyHint,x=null;if(null!==v&&/\S/.test(this.model.get("value"))&&(x=v.shift()||"highlighted-correct-word"),r(this.el).html(r.duostache(this.template,l.extend(this.model.toJSON(),{prettify_hint:function(){return k},show_verb_table:u,show_reverse_verb_table:h,render_verb_table_div:u||h,position:this.getPosition(),gender:y,highlight_class:x,style_classes:p}))),this.bindHover(),!m&&null!=this.model.get("explanation")){var $=this.model.get("explanation");-1!=l.indexOf(this.settings.new_explanation_ids,$.id)&&(m=!0,l.defer(l.bind(this.renderNewExplanation,this)))}var S=this.model.get("value").toLowerCase();if(m||-1==l.indexOf(this.settings.show_tokens,S)||(this.settings.show_tokens=l.without(this.settings.show_tokens,S),l.defer(l.bind(this.renderNewWord,this))),this.settings.highlight_verb_endings&&!this.settings.reverse&&this.model.has("verb_patterns")){var e=s(this.model.get("value"),this.model.get("verb_patterns"));this.model.get("highlighted")?this.$(".token strong").html(e):this.$(".token").html(e)}return this},renderNewWord:function(){var e=this.model.get("hint_table");if(e){if(this.settings.callback){var t=[this.model.get("value"),this.model.get("index"),this.el,void 0,!0],i=this.settings.callback.apply(this.settings.callback_context,t);if(i===!1)return}var s=r(this.el).parents(".hints-sentence");if(this.$(".token").toggleClass("highlighted"),e.references)for(var a=0;a<e.references.length;a++)s.find("#token_"+e.references[a]).toggleClass("highlighted");r(this.el).css("position","relative"),this.$(".hint-table").toggle(),this.centerHints()}},renderNewExplanation:function(){this.$(".content").hide(),this.$(".explanation").show(),this.renderNewWord()},showExplanation:function(){this.ignore_mouse_leave=!0,this.$(".content").hide(),this.$(".explanation").show(),this.centerHints(),this.resetMoreHints()},hideExplanation:function(){this.ignore_mouse_leave=!0,this.$(".explanation").hide(),this.$(".content").show(),this.$(".fadeInUp").removeClass("animated").removeClass("fadeInUp"),this.centerHints()},renderHints:function(e){var t=this.model.get("hint_table");if(t){var i=this.ignore_mouse_leave;if(this.ignore_mouse_leave=!1,"mouseenter"===e.type){if(this.$(".hint-table").is(":visible"))return;if(this.hideAllHints(),this.toggleHintClasses(),this.$(".hint-table").show(),this.centerHints(),this.settings.callback){var s=[this.model.get("value"),this.model.get("index"),this.el,this.model.getHints()];this.settings.callback.apply(this.settings.callback_context,s)}}else if("mouseleave"===e.type){if(i)return;this.hideAllHints(),this.$(".explanation").hide(),this.$(".content").show(),this.$(".fadeInUp").removeClass("animated").removeClass("fadeInUp"),this.resetMoreHints()}}},moreHints:function(e){this.$("tr.hidden").show(),this.$(".more-hints").hide(),this.centerHints()},resetMoreHints:function(){this.$("tr.hidden").hide(),this.$(".more-hints").show()},getPosition:function(){return"below"},getSensitivity:function(){return 7},centerHints:function(){var e=-10,t=this.$(".token"),i=this.$(".hint-table"),s=t.outerWidth(),a=t.offset().left,n=i.outerWidth(),o=s/2-n/2;if(e>a+o){var l=100*(a-e+s/2)/n;this.$(".arrow").css({left:l+"%"}),o=e-a}else this.$(".arrow").css({left:"50%"});var d=this.settings.top;"fixed"==i.css("position")&&(d=t.offset().top+t.outerHeight()-r(document).scrollTop(),o+=a),i.css({top:d,left:o})},hideAllHints:function(){var e=r(this.el).parents(".hints-sentence");null!=e&&0!=e.length||(e=r(this.el).parents("#app")),e.find(".explanation").hide(),e.find(".content").show(),e.find(".fadeInUp").removeClass("animated").removeClass("fadeInUp"),e.find(".hint-table").hide(),e.find(".token").removeClass("highlighted"),e.find(".new").fadeOut(400)},toggleHintClasses:function(){var e=this.model.get("hint_table"),t=r(this.el).parents(".hints-sentence");if(this.$(".token").toggleClass("highlighted"),e.references)for(var i=0;i<e.references.length;i++)t.find("#token_"+e.references[i]).toggleClass("highlighted");r(this.el).css("position","relative")},prettifyHint:function(e,t){var i=t(e);return i.replace(/\((.+?)\)/g,"<i>($1)</i>")},showVerbTable:function(){if(this.model.get("infinitives")){var e=new p.VerbTable({infinitives:this.model.get("infinitives"),language_information:this.settings.language_information,language:this.settings.source_language});e.url=n(this.settings.verb_table_url+"/"+this.settings.source_language);var t=this.$(".verb-table-modal").clone().appendTo("body").modal({backdrop:!0});new p.VerbTableView({settings:this.settings,model:e,el:t.find(".modal-body")});t.on("hidden",function(){t.remove()})}},showReverseVerbTable:function(e){var t=r(e.target);if(t.data("infinitives")){var i=new p.VerbTable({infinitives:t.data("infinitives"),language_information:this.settings.language_information,language:this.settings.target_language});i.url=n(this.settings.verb_table_url+"/"+this.settings.target_language);var s=this.$(".verb-table-modal").clone().appendTo("body").modal({backdrop:!0});new p.VerbTableView({settings:this.settings,model:i,el:s.find(".modal-body")});s.on("hidden",function(){s.remove()})}}}),p.HintTableView=p.TextTokenView.extend({events:{"hover .more-hints":"moreHints","mouseleave .hint-table":"lessHints","click .conjugate-container .btn":"showVerbTable","click .conjugate-small":"showReverseVerbTable"},initialize:function(e){p.TextTokenView.prototype.initialize.call(this,e),this.template=i(181),this.anchor=e.anchor},render:function(){return p.TextTokenView.prototype.render.call(this),this.centerHints(),this.$(".hint-table").show(),this},centerHints:function(){this.$(".hint-table").anchor({anchor:this.anchor,type:"below"})},moreHints:function(){p.TextTokenView.prototype.moreHints.call(this),this.centerHints()},lessHints:function(){this.$("tr.hidden").hide(),this.$(".hint-footer").find(".footer-container").size()>0?this.$(".more-hints").show():this.$(".hint-footer").show(),this.centerHints()}}),p.TextTokenSideView=p.TextTokenView.extend({centerHints:function(){this.$(".hint-table").anchor({anchor:r(this.el),container:r(this.el),type:"right"}),r(this.el).css("position","")},toggleHintClasses:function(){},getPosition:function(){return"right"},getSensitivity:function(){return 7}}),p.LinkTokenView=d.View.extend({tagName:"span",initialize:function(e){this.settings=e.settings,this.template=this.settings.templates["hints-link"],r(this.el).html(r.duostache(this.template,this.model.toJSON())),this.collection=new p.TokenList,this.collection.reset(this.model.get("tokens")),this.addAll()},addAll:function(){this.collection.each(this.addOne,this)},addOne:function(e){e.set({in_link:!0,url:this.model.get("value")});var t=new p.TextTokenView({model:e,settings:this.settings});this.$(".hints-link").append(t.render().el)}}),p.VerbTableView=d.View.extend({events:{"click .tabs li":"switchTables","click a[data-infinitive]":"switchInfinitive","click .more-tenses":"moreTenses"},initialize:function(e){this.settings=e.settings,this.template=i(441),this.model.bind("sync",this.render,this),this.model.fetch()},render:function(){var e=this,t=this.model.toJSON();void 0===this.current_infinitive&&(this.current_infinitive=this.model.get("infinitives")[0]);var i=l.indexOf(this.model.get("infinitives"),this.current_infinitive);return r(this.el).html(r.duostache(this.template,l.extend({},t,{verb_table:function(){return e.getEntry},current_infinitive:this.current_infinitive,pre_infinitives:l.first(this.model.get("infinitives"),i),post_infinitives:l.rest(this.model.get("infinitives"),i+1),current_infinitive_data:t.infinitives_data[this.current_infinitive]}))),this.$("#subjunctive-tables").hide(),this.$(".verb-table").hide(),this.$(".verb-tables .verb-table:first, .verb-tables .more-tenses:first").show(),this},switchTables:function(e){var t=r(e.currentTarget),i=t.data("table");this.$(".tabs li").removeClass("active"),t.addClass("active"),this.$(".verb-tables").hide(),this.$("#"+i+"-tables").show(),this.$("#"+i+"-tables .verb-table:first, .verb-tables .more-tenses:first").show()},switchInfinitive:function(e){var t=r(e.currentTarget),i=t.data("infinitive");this.current_infinitive=i,this.render()},moreTenses:function(e){var t=r(e.currentTarget);t.hide(),t.next(".verb-table").show(),t.next(".more-tenses").show()}}),p.WordLookup=d.View.extend({events:{"keyup input":"onLookup","click .translate-lookup":"lookupWord","click .lookup-hints .close":"closeHints"},initialize:function(e){this.settings=e.settings,this.template=i(442)},render:function(){r(this.el).html(r.duostache(this.template,{id:this.settings.id}));var e=this;return r(document).bind("click.hints",function(){e.offSearchBox()}),this},onLookup:function(e){return this.$("input").val().length>0?(this.$(".translate-lookup").show(),13===e.which?this.lookupWord():this.closeHints()):this.$(".translate-lookup").hide(),!1},closeHints:function(){this.$(".hint-table").remove(),this.$(".lookup-hints").hide()},offSearchBox:function(){r("textarea:focus").size()>0||this.$("input:focus").size()>0||(this.$(".lookup-hints .hint-table").remove(),this.$(".lookup-hints").hide())},lookupWord:function(e){var t=r.trim(this.$("input").val());return this.$("input").hints({text:t,word_only:!0,source_language:this.settings.source_language,target_language:this.settings.target_language,reverse:!0,container:this.$(".lookup-hints")}),this.$(".lookup-hints").show(),this.settings.callback&&this.settings.callback.apply(this.settings.callback_context),!1}}),r.fn.hints=function(e){return this.each(function(){e.templates=r.extend({},f,e.templates);var t=r.extend({},p.settings,e),i=r(this),s=t.text?t.text:i.text(),o=[t.url,t.source_language,t.target_language];o=o.join("/")+"?callback=?";var l={format:"new",sentence:s,cache:!duo.prebeta_experimental_mode,reorder_using_machine_translations:e.reorder_using_machine_translations,is_document_sentence:e.is_document_sentence};duo.user&&(l.locale=duo.user.get("locale")),t.transliterate&&(l.transliterate=t.transliterate),r.getJSON(n(o),l,function(s){if(t.example&&(s=b),t.manual_hints&&(s=a(t.manual_hints)),s){if(t.transliterate&&c.transliterateObject(s),v=null,null!==t.speak_solution_sequence){v=[];for(var n=0,o=0,r=0;r<s.tokens.length;++r){var l=s.tokens[r].value,d=!1;if(/\S/.test(l)){if(n<t.speak_solution_sequence.length){var u=t.speak_solution_sequence[n].text,h=t.speak_solution_sequence[n].is_recognized?"highlighted-correct-word":"highlighted-wrong-word",g=u.substring(o).indexOf(l);-1!==g?(v.push(h),o+=g+l.length,o>=u.length&&(n+=1,o=0)):d=!0}else d=!0;d&&v.push("highlighted-correct-word")}}}var _;if(t.word_only){var m=new p.Token(s.tokens[0]);_=new p.HintTableView({model:m,settings:t,el:t.container,anchor:i}),_.render()}else{var f=new p.TokenList;f.reset(s.tokens),_=new p.SentenceView({collection:f,settings:t,render_callback:e.render_callback}),i.empty().append(_.render().el)}t.render_callback&&t.render_callback.call(t.callback_context)}},"json")})},r.fn.wordLookup=function(e){return this.each(function(){var t=new p.WordLookup({el:this,settings:e});t.render()})},r.fn.verbTable=function(e){return this.each(function(){var t=r.extend({},p.verb_table_settings,e),i=new p.VerbTable({infinitives:[t.infinitive],language_information:t.language_information,language:t.source_language,title:!1});i.url=n(t.url+"/"+t.source_language);new p.VerbTableView({settings:t,model:i,el:r(this)})})},r.fn.tokenHints=function(e){e.templates=r.extend({},f,e.templates);var t=r.extend({},p.token_hints_settings,e),i=500,s=[t.url,t.source_language,t.target_language];s=s.join("/");for(var a=0,n=l.map(this,function(e){return{text:r(e).text(),el:e}});a<n.length;){for(var d=[],c=0,u=a;u<n.length;u++){d.push(n[u]);var h=s+encodeURI(JSON.stringify(l.pluck(d,"text")));if(!(h.length<i)){d.pop();break}c+=n[u].text.length,a=u+1}o(s,t,d)}return this};var b={tokens:[{index:1,value:"The",hint_table:{rows:[{cells:[{hint:"el"}]},{cells:[{hint:"la"}]}]}},{value:" "},{index:2,value:"dog",hint_table:{rows:[{cells:[{hint:"perro"}]},{cells:[{hint:"macho"}]},{cells:[{hint:"tipo"}]},{cells:[{hint:"perseguir"}]}]}},{value:" "},{index:3,value:"is",hint_table:{rows:[{cells:[{hint:"(él/ella) es"}]}]}},{value:" "},{index:4,value:"black",hint_table:{references:[5,6],headers:[{token:"black",selected:!0},{token:"and"},{token:"white"}],rows:[{cells:[{hint:"blanco y negro",colspan:3}]},{cells:[{hint:"negro"},{},{}]}]}},{value:"-"},{index:5,value:"and",hint_table:{references:[4,6],headers:[{token:"black"},{token:"and",selected:!0},{token:"white"}],rows:[{cells:[{hint:"blanco y negro",colspan:3}]},{cells:[{},{hint:"y"},{}]},{cells:[{},{hint:"e"},{}]}]}},{value:"-"},{index:6,value:"white",hint_table:{references:[4,5],headers:[{token:"black"},{token:"and"},{token:"white",selected:!0}],rows:[{cells:[{hint:"blanco y negro",colspan:3}]},{cells:[{},{},{hint:"blanco"}]}]}},{value:";"},{value:" "},{index:7,value:"ruft",hint_table:{separable:!0,references:[10],headers:[{token:"ruft",selected:!0},{token:" … "},{token:"an"}],rows:[{cells:[{hint:"(he/she/it) calls (up)"}]},{cells:[{hint:"(he/she/it) is calling (up)"}]}]}},{value:" "},{type:"link",value:"http://www.duolingo.com",tokens:[{index:8,value:"the",hint_table:{rows:[{cells:[{hint:"la"}]},{cells:[{hint:"el"}]}]}},{value:" "},{index:9,value:"compoundword",hint_table:{headers:[{token:"compound",selected:!0},{token:"word",selected:!0}],rows:[{cells:[{hint:"palabra compuesta",colspan:2}]},{cells:[{hint:"compuesta"},{hint:"palabra"}]},{cells:[{hint:"compuesto"},{}]},{cells:[{hint:"mezcla"},{}]}]}},{value:" "},{index:10,value:"an",hint_table:{separable:!0,references:[7],headers:[{token:"ruft"},{token:" … "},{token:"an",selected:!0}],rows:[{cells:[{hint:"(he/she/it) calls (up)"}]},{cells:[{hint:"(he/she/it) is calling (up)"}]}]}}]},{value:"."}]}},function(e,t,i){e.exports='{{^stream_post}}<div class="stream-comments {{^has_comments}}hidden{{/has_comments}}"></div>{{/stream_post}}'+i(421)+'{{^read_only_stream}}<ul class="stream-item-social-links">{{#deletable}}<li><a href="javascript:;" class="delete-stream-post">{{#_i}}Delete{{/_i}}</a></li>{{/deletable}}{{#logged_in}}{{^trial_account}}{{^is_blocked}}<li class="upvotes"><a href="javascript:;" class="vote {{#user_liked}}liked{{/user_liked}}" {{#likes}} data-toggle="tooltip" data-original-title=" {{#liked_short_list}}{{#one}}{{item_one}}{{/one}}{{#two}}{{#_i}}{{item_one}} and {{item_two}}{{/_i}}{{/two}}{{#three}}{{#_i}}{{item_one}}}, {{item_two}} and {{item_three}}{{/_i}}{{/three}}{{#more}}{{#_i}}{{item_one}}, {{item_two}} and {{remainder}} {{#pluralize}}other,others,{{remainder}}{{/pluralize}}{{/_i}}{{/more}}{{/liked_short_list}}" {{/likes}}>{{#user_liked}}{{#_i}}Liked{{/_i}}{{/user_liked}}{{^user_liked}}{{#_i}}Like{{/_i}}{{/user_liked}} {{#likes}}({{likes}}){{/likes}}</a></li>{{^comment_data}}{{^stream_post}}{{#can_comment}}<li class="show-comments"><a href="javascript:;">{{#_i}}Comment{{/_i}}</a></li>{{/can_comment}}{{/stream_post}}{{/comment_data}}{{/is_blocked}}{{/trial_account}}{{/logged_in}}{{^logged_in}}{{#likes}}<li class="upvotes"><span class="gray" data-toggle="tooltip" data-original-title=" {{#liked_short_list}}{{#one}}{{item_one}}{{/one}}{{#two}}{{#_i}}{{item_one}} and {{item_two}}{{/_i}}{{/two}}{{#three}}{{#_i}}{{item_one}}}, {{item_two}} and {{item_three}}{{/_i}}{{/three}}{{#more}}{{#_i}}{{item_one}}, {{item_two}} and {{remainder}} {{#pluralize}}other,others,{{remainder}}{{/pluralize}}{{/_i}}{{/more}}{{/liked_short_list}}">{{#_i}}{{likes}} {{#pluralize}}like,likes,{{likes}}{{/pluralize}}{{/_i}}</span></li>{{/likes}}{{/logged_in}}{{#is_blocked}}{{#likes}}<li class="upvotes"><span class="gray" data-toggle="tooltip" data-original-title=" {{#liked_short_list}}{{#one}}{{item_one}}{{/one}}{{#two}}{{#_i}}{{item_one}} and {{item_two}}{{/_i}}{{/two}}{{#three}}{{#_i}}{{item_one}}}, {{item_two}} and {{item_three}}{{/_i}}{{/three}}{{#more}}{{#_i}}{{item_one}}, {{item_two}} and {{remainder}} {{#pluralize}}other,others,{{remainder}}{{/pluralize}}{{/_i}}{{/more}}{{/liked_short_list}}">{{#_i}}{{likes}} {{#pluralize}}like,likes,{{likes}}{{/pluralize}}{{/_i}}</span></li>{{/likes}}{{/is_blocked}}</ul>{{/read_only_stream}} '},function(e,t,i){var s=i(2),a=i(3),n=i(26),o=i(67);e.exports=a.Model.extend({initialize:function(){duo.user.get("locale")&&this.set({locale:duo.user.get("locale")
}),this.set({use_report_messages:!0})},url:function(){return this.has("session_type")?this.has("session_element")&&this.get("session_element").has("type")?"/session_element_solutions/"+this.get("session_type")+"/"+this.get("session_element").get("type"):"/session_element_solutions/"+this.get("session_type"):"/session_element_solutions"},parse:function(e){return e.session_element=new o(e.session_element),"correct_solutions"in e&&(duo.user.getSkills().can_transliterate&&duo.user.get("transliterate")&&n.transliterateObject(e),e.num_solutions=e.correct_solutions.length),e},isDone:function(){return"speak"==this.get("session_element").get("type")?this.has("try_again")&&!this.get("try_again"):!0},getDisplayText:function(){if(this.has("value"))return this.get("value");if(this.has("sentence"))return this.get("sentence");if(this.has("word"))return(this.has("article")?this.get("article")+" ":"")+this.get("word");if(this.has("choices")){var e=s.filter(this.get("session_element").get("sentences"),function(e,t){return"correct"===this.get("choices")[t]},this);return JSON.stringify(s.pluck(e,"sentence"))}return this.get("session_element").getDisplayText()},isSkipped:function(){return this.has("skipped")&&Boolean(this.get("skipped"))},isCorrect:function(){return Boolean(this.get("correct"))}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(14),r=i(4),l=i(26),d=i(5),c=i(20),u=i(47),h=i(189),g=i(121),p=i(133),_=i(56),m=i(91),v=i(90),f=i(42),b=i(355),w=i(356),y=i(96),k=i(92),x=i(95),$=i(154);i(7);e.exports=n.View.extend({id:"app",events:{"click #submit_button":"submit","click .redesign-check":"submit","click #continue_button":"next","click .redesign-next":"next","click #skip_button":"skip","click #show-report-options":"reportProblem","click #discussion-toggle":"displayDiscussion","click #too-difficult":"tooDifficult","click #too-easy":"tooEasy","click #redo-challenge":"redoChallenge","click #submit-suggestion":"sendSuggestionMessage","click #cancel-report":"cancelSuggestion","click #continue-learning":"continueLearning","click #submit-problem":"submitProblem","focus .free-write-box":"checkFreeWrite","click input[type=checkbox]":"checkSubmit","click #heart-refill":"refillHeart","click .t13n-toggle":"toggleT13n","click #quit-button":"quitSession","click #no-mic-link":"turnMicOff"},template:h,reportProblem:function(e){var t=s(e.target);if(t.closest("#report-options").size())return!0;if(s("#report-options").is(":hidden"))s("#report-options").fadeIn(),s(".player-inner").addClass("show-report-stuff"),s("html, body").animate({scrollTop:s(document).height()-s(window).height()},"slow");else{var i=this;s(".player-inner").removeClass("show-report-stuff"),s("html, body").animate({scrollTop:0},"slow",function(){i.$("#report-options").fadeOut()})}return!1},displayDiscussion:function(){if(s("#discussion-modal").size()>0)return void s("#discussion-modal").modal("show");if(!this.loading_comments){this.loading_comments=!0;var e=this,t=new g({id:this.model.currentElement().get("solution_key")});t.fetch({data:{ui_language:this.model.get("ui_language")||void 0,learning_language:this.model.get("language")},success:function(i){this.$("#discussion-modal-container").appendTo(document.body);var s=new p({el:this.$("#discussion-modal-container"),correct:e.model.getSubmittedSolution().get("correct"),model:t,ui_language:e.model.get("ui_language"),learning_language:e.model.get("language")});r.track("show sentence comment"),s.render(),e.loading_comments=!1}}),this.$("#discussion-modal").on("hidden",function(){return!1})}},submitDifficulty:function(e){var t=this.model.getSubmittedSolution(),i={too_easy:e};r.track("difficulty_feedback",i),s.post("/diagnostics/difficulty_feedback",a.extend(i,{referer:window.location.href,session_element_solution:JSON.stringify(t.toJSON()),language:this.model.get("language"),ui_language:this.model.get("ui_language")}),function(){s("#solution-suggested").show().delay(4500).fadeOut(1e3)})},tooDifficult:function(){s("#too-difficult").hide(),this.submitDifficulty(!1)},tooEasy:function(){s("#too-easy").hide(),this.submitDifficulty(!0)},redoChallenge:function(){alert("redo")},sendSuggestionMessage:function(){this.submitSuggestion(this.$(".free-write-box").val(),this.$("#user-solution").val())},submitSuggestion:function(e,t,i,a){if(!this.model.get("is_trial")){var n=this.model.getSubmittedSolution(),o={referer:window.location.href,flashversion:u.installed?u.raw:"",session_element_solution:JSON.stringify(n.toJSON()),user_solution:t,message:e,correct_solutions:JSON.stringify(n.get("correct_solutions")),language:this.model.get("language"),ui_language:this.model.get("ui_language"),report_types:i,free_write_message:a},l=this;r.track("submit suggestion/feedback",{language:this.model.get("language"),ui_language:this.model.get("ui_language"),direction:this.model.get("language")+" <- "+this.model.get("ui_language"),skill_id:this.model.get("skill_id"),solution_key:n.get("solution_key")}),s.post("/diagnostics/language_feedback",o,function(){l.continueLearning(),s("#solution-suggested").removeClass("hidden").delay(4500).fadeOut(1e3)})}},cancelSuggestion:function(){var e=this;s("html, body").animate({scrollTop:0},"slow",function(){e.$("#report-options").fadeOut()})},continueLearning:function(){this.cancelSuggestion(),this.$(".submit-solution-box").remove()},checkFreeWrite:function(){this.$("#report-options #free-write").prop("checked",!0),this.checkSubmit()},submitProblem:function(){var e="",t=[],i=this,a=null;if(this.$('#report-options input[type="checkbox"]:checked').each(function(){"free-write"==s(this).attr("id")?(t.push("free-write"),a=i.$(".free-write-box").val(),e+="User explanation: "+a+".\n",i.$(".free-write-box").val("")):"translate"==s(this).attr("id")?(t.push("translation"),e+=s(this).val()+"\n"):(t.push(s(this).attr("id")),e+=s(this).val()+"\n"),s(this).prop("checked",!1)}),t=JSON.stringify(t),""!=e){var n=this.model.getSubmittedSolution(),o=s.trim(n.getDisplayText());this.submitSuggestion(e,o,t,a),s("html, body").animate({scrollTop:0},"slow",function(){i.$("#report-options").fadeOut(),i.checkSubmit()})}return s(".player-inner").removeClass("show-report-stuff"),!1},getSourceName:function(e){var t={en:"English",es:"Spanish",pt:"Portuguese",fr:"French",de:"German",it:"Italian"};return t[e]},checkSubmit:function(){var e=0;this.$('#report-options input[type="checkbox"]:checked').each(function(){e++}),e>0?this.$("#submit-problem").removeAttr("disabled"):this.$("#submit-problem").attr("disabled","disabled")},bindEvents:function(e){a.bindAll(this,"keyCheck","preventKeys","keyUp","keyDown","keyPress","submit"),s(document).unbind(this.getEventClass()).bind("keyup"+this.getEventClass(),this.keyUp).bind("keydown"+this.getEventClass(),this.keyDown).bind("keypress"+this.getEventClass(),this.keyPress),this.model.bind("input",this.ready,this),this.model.bind("clear",this.notReady,this),this.model.bind("grade",this.graded,this),this.model.bind("retry",this.graded,this),this.model.bind("render",this.rendered,this),this.model.bind("fail",this.failed,this),"undefined"!=typeof e&&e!==!0||this.checkSound(),s("#box_feedback #activity_uuid").val(this.model.get("activity_uuid"))},keyUp:function(e){return this.preventKeys(e)},keyDown:function(e){return this.keyCheck(e)},keyPress:function(e){return this.preventKeys(e)},getEventClass:function(){return".session"},initialize:function(){var e=window.location.protocol+"//"+window.location.host+n.history.root;duo.sessionURL=document.URL.slice(e.length);var t=this.model.get("type"),i=["lesson","practice","skill_practice","lesson_preview"];this.model.set("use_strength",a.contains(i,t)),this.$el.html(s.duostache(this.template,a.extend(this.model.toJSON(),{can_transliterate:duo.user.getSkills().can_transliterate,transliterate:duo.user.get("transliterate"),notify_comment:duo.user.get("notify_comment"),heart_refill:"heart_refill"in duo.user.get("inventory")&&!("test"==this.model.get("type"))&&!("big_test"==this.model.get("type"))}))),this.bindEvents(),this.loading_comments=!1;var o={type:this.model.get("type"),lesson_number:this.model.get("lesson_number"),skill_name:this.model.get("skill_name"),skill_id:this.model.get("skill_id"),global_practice:this.model.get("global_practice"),from_email:this.model.get("from_email"),skill_tree_id:this.model.get("skill_tree_id"),request_hash:this.model.get("request_hash"),challenge_sequence_hash:this.model.get("challenge_sequence_hash")};"lesson"===this.model.get("type")&&(o.lesson=this.model.get("skill_name")+"--"+this.model.get("lesson_number"));var l=this.model.get("session_elements");l&&(o.num_elements=l.length);var d=this.model.get("tracking_properties");d&&a.extend(o,d),r.track("session_start",o),this.model.get("is_preview")&&r.track("preview_session_start",o),this.model.set({start_time:new Date}),this.initializeSubViews(),window.swfobject&&swfobject.switchOffAutoHideShow(),this.model.set({seen_explanations:[]}),this.soundEffectsEnabled=duo.user.playEffects()&&soundManager,this.adaptive_lessons=!1,this.last_extension_pos=0},initializeSubViews:function(){if(this.progress_view=new _({model:this.model}),this.$("#progress-bar").replaceWith(this.progress_view.render().el),this.model.get("use_strength"))this.model.initializeHearts(this.getNumHearts()),this.model.set("num_hearts",0);else{var e=this.getNumHearts();this.hearts_view=new m({model:this.model,el:this.$("#hearts"),num_hearts:e}),this.hearts_view.render()}this.explanation_view=new v({model:this.model}),this.$("#explanation").replaceWith(this.explanation_view.render().el),this.grade_view=new f({model:this.model}),this.$("#grade").replaceWith(this.grade_view.render().el),this.model.incrementPosition(),this.soundEffectsEnabled=duo.user.playEffects()&&soundManager;var t=duo.user.getSkills().notifications;if(t){var i=this;this.model.get("use_strength")&&t.lesson_strength_bar?(this.$("#modal-notification").appendTo("body").modal({keyboard:!1,backdrop:"static",show:!0}),this.modal_notif_view=new b({el:s("body > #modal-notification"),messages:a.compact(a.map(t,function(e,t){return e?t:null}))}),this.modal_notif_view.render(),n.history.once("route",this.cleanUp,this),a.defer(function(){if(i.modal_notif_view){var e=this.$("#progress-bar .bar"),t=280;s("#modal-notification").css({top:parseInt(e.offset().top+t)+"px"})}})):duo.user.getSkills().can_transliterate&&duo.user.get("transliterate")&&t.t13n_toggle&&this.showT13nToggleNotification(t)}},showT13nToggleNotification:function(e){var t=this;setTimeout(function(){t.$("#modal-notification").addClass("t13n-toggle-notification").appendTo("body").modal({keyboard:!1,backdrop:"static",show:!0}),t.modal_notif_view=new w({el:s("body > #modal-notification"),messages:a.compact(a.map(e,function(e,t){return e?t:null}))}),t.modal_notif_view.render(),n.history.once("route",t.cleanUp,t),a.defer(function(){if(t.modal_notif_view){var e=t.$(".t13n-toggle").offset();console.log(e),s("#modal-notification").css({left:parseInt(e.left-20)+"px",top:parseInt(e.top+40)+"px"})}})},500)},getNumHearts:function(){var e=this.model.get("beginner")?4:3;return duo.user.get("ab_options").hover_heart_experiment&&(e+=1),e},getViewFilename:function(e){return(e.get("example")?"example_":"")+e.get("type")+"_element"},createElementView:function(){var e=this.model.currentElement(),t=this.getViewFilename(e);duo.user.getSkills().can_transliterate&&duo.user.get("transliterate")&&(e=s.extend(!0,{},e),l.transliterateObject(e.attributes)),-1!=t.indexOf("speak")&&duo.isWebSpeechEnabled()&&(t="web_speech_"+t,e.recognition=duo.getSpeechRecognition());var a=i(325)("./"+t+".js");return new a({model:e,session:this.model})},renderElementView:function(e){var t=this.createElementView();this.$("#session-element-container #audio-recorder").attr("id","old-audio-recorder");var i=this.$("#session-element-container").clone();this.$("#session-element-container").replaceWith(t.render().el),this.$("#prev-session-element-container").append(i.html()),e=e!==!1&&(this.model.get("position")>0||this.model.get("timed")||this.model.get("in_class")||this.model.get("placement")),e&&(this.$("#prev-session-element-container").addClass("current-challenge "+duo.script_direction),this.$("#session-element-container").addClass("upcoming-challenge "+duo.script_direction)),this.$("#continue_button, #submit_button").attr("disabled","disabled").twipsy("hide"),this.changeState("next",!0),s("#app").removeClass("correct incorrect covert");var a=this.model.currentElement().get("type"),n="speak"==a||"reverse_speak"==a;return this.$("#no-mic-link").removeClass("hidden").toggle(n),this.$("#skip_button").toggle(!n),t},render:function(e){this.delegateEvents(),this.model.set({state:"empty"}),this.element_view=this.renderElementView(e),this.$(".pagination #element-"+this.model.get("position")).removeClass("active"),this.$(".pagination #element-"+(this.model.get("position")+1)).addClass("active"),this.changeState("check",!0);var t=this.model;return a.defer(function(){t.set({state:"rendered"})}),this.element_view&&"en"!==this.element_view.model.get("target_language")&&this.$("#speller_button").hide(),this},rendered:function(){"welcome"!=this.model.get("type")&&s("body").addClass("player"),s("#app").addClass(this.model.get("type")),s("#app").addClass(this.model.currentElement().get("type")),this.model.currentElement().get("unknown")?s("#app").addClass("unknown").removeClass("known"):s("#app").addClass("known").removeClass("unknown"),this.$("label").inFieldLabels(),this.$("#submit_button").attr("disabled","disabled").toggle(!a.contains(["title","hover"],this.model.currentElement().get("type"))),this.$("#continue_button").attr("disabled","disabled").show(),"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch||s("#continue_button, #submit_button").twipsy({live:!0,offset:15,animate:!1,placement:function(e,t){return s(t).data("placement")||"in above"}}).addClass("has-twipsy"),setTimeout(a.bind(function(){this.$("#prev-session-element-container").html(""),this.$("#controls").hide(),this.$("#controls").show(),this.$("#prev-session-element-container").removeClass("current-challenge "+duo.script_direction),this.$("#session-element-container").removeClass("upcoming-challenge "+duo.script_direction)},this),1e3)},renderEnd:function(){var e=this;return s(document).unbind(this.getEventClass()),s("#app").removeClass("leave-warning"),window.onbeforeunload=null,this.model.get("is_trial")?(window.location.href="//schools.duolingo.com",this):(this.model.save({end_time:new Date},{success:function(){e.showEndView()},error:function(){r.track("session_end save_session_end_failed")}}),this)},toggleT13n:function(e){if(!this.$(e.currentTarget).hasClass("disabled")){var t=!duo.user.get("transliterate");duo.user.set({transliterate:t},{silent:!0}),this.$(e.currentTarget).toggleClass("toggled-left toggled-right"),this.$("#session-element-container").html(""),this.render(!1),o.updateUser(duo.user.id,{transliteration:t})}},showPreviewEndView:function(){var e=new k({model:this.model});this.$el.replaceWith(e.render().el),this.soundEffectsEnabled&&soundManager.passedSound&&soundManager.passedSound.play();var t={failed:this.model.get("failed"),type:this.model.get("type"),position:this.model.get("position"),num_word_hints:this.getNumHoveredWords(this.model),skill_tree_id:this.model.get("skill_tree_id"),request_hash:this.model.get("request_hash"),challenge_sequence_hash:this.model.get("challenge_sequence_hash")};a.extend(t,this.model.get("tracking_properties")),r.track("session_end",t),r.track("lesson_preview_session_end",t)},showEndView:function(){if(this.model.get("is_preview"))return void this.showPreviewEndView();var e=this,t=duo.user.getStrengths(),i=duo.user.metSocialXPThreshold();duo.user.fetch({success:function(){var s=[],n=duo.user.getStrengths();a.each(a.keys(t),function(e){if(t[e]<n[e]){var i=duo.user.getSkills(),a=i.skills.where({name:e}),o=a.length>0?a[0]:i.bonus_skills.where({name:e})[0],r=o.get("icon_color"),l=o.get("new_index"),d=o.get("title");if(s.push({skill_name:e,strength:n[e],icon_color:r,new_index:l,skill_title:d}),s.length>=3)return void duo.user.set({delta_strengths:s},{silent:!0})}}),duo.user.set({delta_strengths:s});var o=!i&&duo.user.metSocialXPThreshold(),r=new y({model:e.model,can_now_comment:o});e.$el.replaceWith(r.render().el)},error:function(){r.track("session_end update_user_failed")}});var s={failed:this.model.get("failed"),type:this.model.get("type"),num_hearts:this.model.get("num_hearts"),position:this.model.get("position"),times_up:this.model.get("times_up"),timed:this.model.isTimed(),lesson_number:this.model.get("lesson_number"),skill_name:this.model.get("skill_name"),skill_id:this.model.get("skill_id"),global_practice:this.model.get("global_practice"),from_email:this.model.get("from_email"),num_word_hints:this.getNumHoveredWords(this.model),skill_tree_id:this.model.get("skill_tree_id"),request_hash:this.model.get("request_hash"),challenge_sequence_hash:this.model.get("challenge_sequence_hash"),tc_web_advertisement:!!this.model.get("fluency_score_show_testcenter"),fluency_gain:this.model.get("fluency_gain")};a.extend(s,this.model.get("tracking_properties")),"lesson"===this.model.get("type")&&(s.lesson=this.model.get("skill_name")+"--"+this.model.get("lesson_number")),s.gained_skill_points=this.model.get("gained_skill_points")||this.model.get("points"),r.track("session_end",s)},keyCheck:function(e){if(13==e.which){if(s("#feedback_form").is(":visible")||this.$("#report-options").is(":visible")||this.$("#discussion-modal").is(":visible")||s("body").hasClass("modal-open"))return!0;if(s(e.target).is("#submit_button, #continue_button, #skip_button, #next_button"))return!0;var t=this.$("#submit_button").attr("disabled"),i=this.$("#continue_button").attr("disabled")||this.$("#next_button").attr("disabled");"ready"==this.model.get("state")?t&&"undefined"!=typeof t||this.submit():"graded"==this.model.get("state")&&(i&&"undefined"!=typeof i||this.next())}else{if(32==e.which&&e.ctrlKey)return e.shiftKey?this.$("#big-speaker .icon_speaker_slow, #big-speaker .speaker-slow").click():this.$("#big-speaker .icon_speaker, #big-speaker .speaker-big, #big-speaker .speaker-small").click(),!1;if(8==e.which)return s(e.target).is('input[type="text"], input[type="password"], textarea')}return!0},preventKeys:function(e){return 8==e.which?s(e.target).is('input[type="text"], textarea'):13!=e.which||s("#feedback_form").is(":visible")||this.$("#report-options").is(":visible")||this.$("#discussion-modal").is(":visible")||s("body").hasClass("modal-open")?!0:s(e.target).is('input[type="text"], textarea, select')},skip:function(){return this.$(".col-left").removeClass("retry"),this.$("#no-mic-link").hide(),this.$("#submit_button").attr("disabled","disabled"),this.$(":focus").blur(),this.$("#skip_button").hide(),this.$("#continue_button").show(),this.$(".hint-popover").hide(),this.$(".t13n-toggle").addClass("disabled"),this.changeState("check",!0),"graded"===this.model.get("state")&&(this.$("#continue_button").removeAttr("disabled").show(),this.$("#submit_button").attr("disabled","disabled").show(),this.soundEffectsEnabled&&(soundManager.stopAll(),soundManager.retrySound&&soundManager.retrySound.play())),this.element_view.skip(),!1},turnMicOff:function(){this.model.trigger("micoff")},next:function(e){this.$(".t13n-toggle").removeClass("disabled"),this.$(".col-left").removeClass("retry"),this.changeState("check",!0),s("#discussion-modal-container").remove();var t=this.model.getSubmittedSolution();if(t.isDone()){var i=!1;if(this.model.get("use_strength")&&!this.model.get("is_preview")){i=this.model.get("strength_fraction")>=1;var a=!i&&this.model.get("position")>=this.model.get("session_elements").length-5;a&&this.extendSession()}else i=this.model.get("position")===this.model.get("session_elements").length-1;return i?"ended"!==this.model.get("state")&&(this.model.set({state:"ended"}),this.renderEnd()):(s("#app").removeClass(this.model.currentElement().get("type")),this.model.incrementPosition(),this.render()),this.cancelSuggestion(),!1}},extendSession:function(){if(!this.model.getUseMistakeExtension()){this.extend_session_throttled=!1;var e,t={skill_id:this.model.get("skill_id"),language:this.model.get("language"),session_type:this.model.getSpecificSessionType(),lesson_number:this.model.get("lesson_number"),device:"browser",kc_strength_model_version:duo.kcStrengthModelVersion(),activity_uuid:this.model.get("activity_uuid")};if(this.adaptive_lessons){for(var i=[],a=this.model.get("session_elements"),n=this.model.get("session_element_solutions"),o=50,r=0;r<n.length+1&&r<a.length&&o>r;r++){var l=a.at(r),d={generator_id:l.get("generator_id"),specific_type:l.get("specific_type"),correct:l.get("correct")};if(r<n.length){var c=n[r][0];d.correct=c.get("correct")}i.push(d)}e=i.length,t.history=JSON.stringify(i),t.kc_states=JSON.stringify(this.model.getKCStates())}else t.introduced_lexeme_ids=this.model.get("introduced_lexeme_ids").join();var u=this;s.post("/extend_session",t,function(t){var i=u.model.get("session_elements"),s=i.length;this.adaptive_lessons&&(s=Math.max(u.model.get("position")+1,e),s=Math.min(s,i.length)),i.add(t.session_elements,{at:s})})}},throttledExtendSession:function(){var e=7,t=this.model.get("position");a.contains(["submitted","grading","graded"],this.model.get("state"))&&(t+=1),t<this.last_extension_pos+e?this.extend_session_throttled=!0:this.extendSession()},failed:function(){s("#app").removeClass("leave-warning"),window.onbeforeunload=null;var e=this;return this.model.save({failed:!0},{success:function(){e.showFailView()}}),this},showFailView:function(){var e={failed:this.model.get("failed"),type:this.model.get("type"),num_hearts:this.model.get("num_hearts"),position:this.model.get("position"),times_up:this.model.get("times_up"),timed:this.model.isTimed(),lesson_number:this.model.get("lesson_number"),skill_name:this.model.get("skill_name"),skill_id:this.model.get("skill_id"),global_practice:this.model.get("global_practice"),from_email:this.model.get("from_email"),num_word_hints:this.getNumHoveredWords(this.model),skill_tree_id:this.model.get("skill_tree_id"),fluency_gain:this.model.get("fluency_gain")};"lesson"===this.model.get("type")&&(e.lesson=this.model.get("skill_name")+"--"+this.model.get("lesson_number")),r.track("session_end",e);var t=new x({model:this.model,appClasses:s("#app").attr("class"),hearts_view:this.hearts_view,explanation_view:this.explanation_view,progress_view:this.progress_view,grade_view:this.grade_view,elementView:this.element_view,used_refill:this.used_refill});return this.$el.replaceWith(t.render().el),this},ready:function(){this.$("#submit_button, #speller_button").removeAttr("disabled"),this.changeState("check",!1)},notReady:function(){this.$("#submit_button, #speller_button").attr("disabled","disabled").show(),this.$("#continue_button").attr("disabled","disabled"),this.changeState("check",!0),s("#app").removeClass("correct").removeClass("incorrect")},submit:function(){this.$(".t13n-toggle").addClass("disabled"),this.$(".hint-popover").hide();var e=this.element_view.submit();return e!==!1&&("graded"!=this.model.get("state")&&this.changeState("grading",!0),this.$("#submit_button").attr("disabled","disabled").twipsy("hide")),!s("#app").hasClass("leave-warning")&&this.model.warnBeforeLeave()&&(s("#app").addClass("leave-warning"),window.onbeforeunload=function(){return d("Are you sure you want to quit? All progress in this session will be lost.")}),!1},graded:function(e){var t=this.model.getSubmittedSolution();t.isDone()&&(this.$("#continue_button").removeAttr("disabled").show(),this.$("#skip_button").hide()),t.get("try_again")?(this.changeState("next",!0),this.$(".col-left").addClass("retry"),this.$("#skip_button").show()):(this.$(".col-left").removeClass("retry"),this.$("#skip_button").hide(),this.changeState("next",!1)),this.$("#no-mic-link").hide();var i=this.model.currentElement();if(this.$("#submit_button").attr("disabled","disabled").toggle(i&&!a.contains(["title","hover"],i.get("type"))),this.model.get("answer_feedback")||t.get("try_again")?(t.get("correct")&&s("#app").removeClass("incorrect").addClass("correct"),t.get("incorrect")&&s("#app").removeClass("correct").addClass("incorrect"),this.soundEffectsEnabled&&(t.get("try_again")?(soundManager.stopAll(),soundManager.retrySound&&soundManager.retrySound.play()):t.get("correct")?(soundManager.stopAll(),soundManager.rightSound&&soundManager.rightSound.play()):t.get("incorrect")&&(soundManager.stopAll(),soundManager.wrongSound&&soundManager.wrongSound.play()))):(s("#app").removeClass("incorrect correct").addClass("covert correct"),this.soundEffectsEnabled&&(soundManager.stopAll(),soundManager.testSound&&soundManager.testSound.play()),this.grade_view.next()),this.adaptive_lessons&&this.model.get("use_strength")){var n=this.model.getSubmittedSolution(),o=n&&n.get("correct");o&&!this.extend_session_throttled||this.throttledExtendSession()}var r=duo.feature_flags.allow_web_local_grading,l=a.isUndefined(t)?!0:t.get("error")||!1,d=!a.isUndefined(this.element_view)&&!a.isUndefined(this.element_view.regressionCheck);r&&!l&&d&&"regression_test"===c.getConditionAndTreat("web_local_grading_test2")&&this.element_view.regressionCheck(t);var u=!t.get("try_again")&&!t.get("correct")&&this.model.getUseMistakeExtension();if(u){var h=this.model.get("session_elements"),g=i.clone();g.set("highlight",[]),g.set("unknown_words",[]),h.push(g)}},getNumHoveredWords:function(e){return e.get("session_elements").reduce(function(e,t){return t.has("hovered_words")?e+t.get("hovered_words").length:e},0)},checkSound:function(){try{if(soundManager){var e=soundManager.createSound({id:"sm2TestSound",url:"//s3.amazonaws.com/duolingo-data/s3/quartersec.mp3"});soundManager._disabled?this.showNoSound():(e.play(),soundManager._disabled&&this.showNoSound())}else this.showNoSound()}catch(t){this.showNoSound()}},showNoSound:function(){var e=this.model.get("type");try{if(1==duo.user.get("speaker")&&"welcome"!=e&&"in_class"!=e){var t=u.installed?u.major:"";r.track("no sound",{user_agent:navigator.userAgent,flash_version:t});var i=this.$("#no-sound-modal"),s=new $({el:i.find(".modal-body"),version_too_low:8>t});s.render(),i.removeClass("hidden"),i.appendTo("body").modal("show"),this.$("a").click(function(){i.modal("hide")})}"welcome"!=e&&"in_class"==e||(this.soundNotReady=!0)}catch(a){}},refillHeart:function(){var e=this;s.post("/store/use_item",{item_name:"heart_refill"},function(t){if("ok"===t.response){e.hearts_view.adjustHearts(1),s("#heart-refill-container").fadeOut(1e3);var i=duo.user.get("inventory");delete i.heart_refill}else{s("#heart-refill-container").hide();var i=duo.user.get("inventory");delete i.heart_refill}}),this.used_refill=!0},quitSession:function(){this.model.get("is_trial")?window.location.href="//schools.duolingo.com":(s("#app").addClass("leave-warning"),"in_class"===this.model.get("type")||"lesson_preview"===this.model.get("type")?duo.classroomSessionRouter.navigate("quit_classroom_session",!0):(duo.homeRouter.navigate("/",!0),(this.progress_view&&1===this.progress_view.challenge_number||!this.model.warnBeforeLeave())&&s("#app").removeClass("leave-warning")))},changeState:function(e,t){var i=this.model.currentElement();if(i&&"title"!=i.get("type")&&("select"!=i.get("type")||"grading"!=e||!t)){var a=this.$("#next_button");"check"==e||"grading"==e?(a.removeAttr("disabled"),a.addClass("redesign-check"),a.removeClass("redesign-next"),a.text(d("grading"==e?"Grading...":"Check")),a.attr("data-original-title",d("Press Enter to Check"))):"wait"==e?(a.removeAttr("disabled"),a.removeClass("redesign-check"),a.addClass("redesign-next"),a.text(d("Wait..."))):"next"==e&&(a.removeAttr("disabled"),a.removeClass("redesign-check"),a.addClass("redesign-next"),a.text(d("Continue")),a.attr("data-original-title",d("Press Enter to Continue"))),1==t?a.attr("disabled","disabled"):a.removeAttr("disabled"),1==t?(s("#next_button").tooltip("disable"),s("#next_button").tooltip("hide")):duo.mobile_web_view||s("#next_button").tooltip("enable")}},cleanUp:function(){this.modal_notif_view&&(this.modal_notif_view.remove(),s(".modal-backdrop").remove())}})},function(e,t,i){var s=i(1),a=i(2),n=i(3);i(6),e.exports=n.View.extend({id:"tab-container",initialize:function(){this.model.bind("change",this.render,this)},render:function(){var e={};return e["ui_"+this.model.get("ui_language")]=!0,e.experimental=duo.prebeta_experimental_mode,this.$el.html(s.duostache(this.template,a.extend(this.model.toJSON(),e))),this.postRender(),this},postRender:function(){this.$("#submit_button").prop("disabled","disabled")},submit:function(e){e(!1)},success:function(){}})},function(e,t,i){var s=i(1),a=i(2),n=i(4),o=t;o.getConditionAndTreat=function(e,t){var i=duo.informant_reference[e];if(!i)return"control";if(!i.eligible)return i.condition;var r=void 0!==t&&!a.contains(i.contexts,t),l=!i.treated||r;if(l){var d="/api/1/experiments/"+e+"/treatments",c={};t&&(c.context=t),s.post(d,c),i.treated=!0,r&&(i.contexts=a.union(i.contexts,[t])),o.registerTrackingProperties(),n.track("treatment_record_updated",{experiment_name:e})}return i.condition},o.getTrackingProperties=function(){var e=duo.informant_reference,t={};return a.each(e,function(e,i){e.treated&&(t[i]=e.destiny,e.contexts&&e.contexts.length>0&&(t[i+"_contexts"]=e.contexts))}),t},o.registerTrackingProperties=function(){var e=o.getTrackingProperties();mixpanel.register(e)}},function(e,t){e.exports="{{#visible}}<span id=\"speaker-{{aid}}-button\" class=\"speaker-{{size}}\" {{^slowEnabled}}style=\"margin-right: 20px\"{{/slowEnabled}}><span class=\"icon icon-speaker-{{size}} {{#rtl}}img-flipped{{/rtl}}\"></span></span>{{/visible}}<div id='speaker-{{aid}}' src='{{sound_path}}' class='hidden'></div>{{#slowEnabled}}{{#visible}}<span class=\"speaker-slow\" id='speaker-{{aid}}-slow-button'><span class=\"icon icon-turtle {{#rtl}}img-flipped{{/rtl}}\"></span></span>{{/visible}}<div id='speaker-{{aid}}-slow' src='{{sound_path}}&speed=70p' class='hidden'></div>{{/slowEnabled}} "},,function(e,t,i){var s=i(2),a=i(3);e.exports=s.extend({},a.Events)},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(551);i(63);var r=e.exports=n.View.extend({template:o,events:{"click .modal-close":"closeModal","click .modal-success":"triggerCallback"},render:function(){var e=this.options;e[this.options.type]=!0,e[this.options.message_type]=!0,this.$el.html(s.duostache(this.template,a.extend({custom_view:!!this.options.custom_view},e))),this.$(".modal").modal({keyboard:!0,backdrop:!0,show:!1}),this.options.custom_view&&(this.options.custom_view.render(),this.$(".modal-dialog").append(this.options.custom_view.el)),this.$(".modal").modal("show")},closeModal:function(){this.$(".modal").modal("hide"),this.undelegateEvents()},triggerCallback:function(){this.$(".modal").modal("hide"),this.undelegateEvents(),this.options.callback&&this.options.callback()}});e.exports.createModal=function(e){e.el=s("#alert-modals");var t=new r(e);t.render()}},function(e,t){e.exports='{{^deactivated}}<a {{^trial_account}}href="/{{username}}"{{/trial_account}} class="avatar avatar-small {{#is_admin}}expert{{/is_admin}}" {{^trial_account}}title="{{username}}"{{/trial_account}}>{{#lazy_avatars}}{{#avatar}}<img class="lazy" src="//s3.amazonaws.com/duolingo-images/avatar/default_2/large" data-original="{{#default_avatar}}{{avatar}}/large{{/default_avatar}}" width="50" height="50">{{/avatar}}{{^avatar}}<img class="lazy" src="//s3.amazonaws.com/duolingo-images/avatar/default_2/large" data-original="{{#default_avatar}}http://www.duolingo.com/avatars/{{id}}/large{{/default_avatar}}" width="50" height="50">{{/avatar}}{{/lazy_avatars}}{{^lazy_avatars}}{{#avatar}}{{#default_avatar}}<img src="{{avatar}}/large">{{/default_avatar}}{{/avatar}}{{^avatar}}{{#default_avatar}}<img src="http://www.duolingo.com/avatars/{{id}}/large" class="avatar">{{/default_avatar}}{{/avatar}}{{/lazy_avatars}}<span class="ring"></span></a>{{/deactivated}}{{#deactivated}}<span class="has-twipsy avatar-small" title="{{#_i}}[deactivated user]{{/_i}}"><img src="http://www.duolingo.com/avatars/deactivated_user/small" class="avatar"></span>{{/deactivated}} ';
},function(e,t,i){"use strict";var s=i(2),a=e.exports={NATIVE_PROPERTY_SUFFIX:"_pret13n",T13N_PROPERTY_SUFFIX:"_t13n"};a.transliterateObject=function(e){return s.each(e,function(t,i){var n=(""+i).split(a.T13N_PROPERTY_SUFFIX);n.length>1&&(e[n[0]+a.NATIVE_PROPERTY_SUFFIX]=e[n[0]],e[n[0]]=t),s.isObject(t)&&a.transliterateObject(t)}),e}},function(e,t,i){var s=i(1),a=(i(6),i(117)),n=0,o=[],r=null;s.need_flash=!1,s.tts={},s.tts.playerError=function(e){console.error(e),s.post("/diagnostics/js_error",{msg:e,name:"TTS flash error",url:window.location.href})},s.tts.setUp=function(e){soundManager.setup({preferFlash:e})},s.tts.setupSoundManager=function(){var e=(-1!=navigator.userAgent.toLowerCase().indexOf("chrome")&&-1==navigator.userAgent.toLowerCase().indexOf("chromium"),-1!=navigator.userAgent.toLowerCase().indexOf("firefox"),"//s3.amazonaws.com/duolingo-data/s3/sounds/");a.setup({url:"/swf/sm2/2015",debugMode:!1,flashLoadTimeout:8e3,onready:function(){console.log("Duolingo is hiring software engineers: https://www.duolingo.com/jobs"),soundManager.passedSound=soundManager.createSound({id:"pass",url:e+"lesson_complete.mp3",volume:50}),soundManager.pageSound=soundManager.createSound({id:"page",url:e+"page.mp3"}),soundManager.bonusSound=soundManager.createSound({id:"bonus",url:e+"lesson_bonus.mp3",volume:50}),soundManager.failedSound=soundManager.createSound({id:"fail",url:e+"lesson_failed.mp3",volume:50}),soundManager.rightSound=soundManager.createSound({id:"rightAnswer",url:e+"right_answer.mp3",volume:35}),soundManager.wrongSound=soundManager.createSound({id:"wrongAnswer",url:e+"wrong_answer.mp3",volume:35}),soundManager.testSound=soundManager.createSound({id:"testAnswer",url:e+"test_answer.mp3",volume:40}),soundManager.retrySound=soundManager.createSound({id:"tryAgain",url:e+"try_again.mp3",volume:40}),soundManager.timerSound=soundManager.createSound({id:"timer",url:e+"timer_click.mp3",volume:60}),soundManager.levelSound=soundManager.createSound({id:"levelUp",url:e+"level_up.mp3",volume:50})},ontimeout:function(e){e.error?("NO_FLASH"===e.error.type&&(s.need_flash=!0),s.tts.playerError("SM2 failed to start. Status: "+e.success+"; Error type: "+e.error.type)):s.tts.playerError("SM2 failed to start. Status unavailable.")}}),soundManager=a},s.tts.cleanAll=function(){for(var e=0;e<o.length;e++)soundManager.destroySound(o[e]);o=[]},s.fn.tts=function(e){var t={host:null,path:null,sound_path:null,voice_map:null,voices:null,language:null,tts_type:null,tts_id:null,autoplay:!0,visible:!0,slowEnabled:!1,beginner:!1,size:"small"};return this.each(function(){if("cleanUp"!==e){e&&(e.aid||(e.aid="audio-"+ ++n),s.extend(t,e));var i="speaker-"+t.aid;t.speaker_id=i,null==t.host&&(t.host=duo.tts_base_url),null==t.path&&(t.path=duo.tts_path),null==t.voice_map&&(t.voice_map=duo.tts_multi_voices),null==t.voices&&(t.language in t.voice_map?t.voices=t.voice_map[t.language]:t.voices=[t.language]),null==t.sound_path&&(t.sound_path=duo.tts_base_url+duo.tts_path,t.sound_path=t.sound_path.replace("{type}",t.tts_type),t.sound_path=t.sound_path.replace("{id}",t.tts_id)),null==t.slow_sound_path&&(t.slow_sound_path=t.sound_path+"_slow"),t.template&&s(this).html(s.duostache(t.template,t));var a=null;null!==r&&null!==e.use_last&&e.use_last?a=r:(a=t.voices[Math.floor(Math.random()*t.voices.length)],r=a);var l=t.sound_path.replace("{voice}",a),d=soundManager.createSound({id:i,url:l,autoPlay:t.autoplay&&!t.beginner,onload:function(){t.onload&&t.onload()}});o.push(i);var c=null;if(t.slowEnabled){t.slow_speaker_id=i+"-slow";var u=t.slow_sound_path.replace("{voice}",a);duo.mobile_web_view||(c=soundManager.createSound({id:t.slow_speaker_id,url:u,autoPlay:t.autoplay&&t.beginner})),o.push(t.slow_speaker_id)}s(this).data("tts",t),t.click&&(t.play_trigger="click"),t.visible?(s(this).find("#"+i+"-button").click(function(){soundManager.stopAll(),d.play()}),s(this).find("#"+i+"-slow-button").click(function(){duo.mobile_web_view&&(c=soundManager.createSound({id:t.slow_speaker_id,url:u,autoPlay:t.autoplay&&t.beginner})),soundManager.stopAll(),c.play()})):t.play_trigger&&s(this).bind(t.play_trigger,function(){soundManager.stopAll(),d.play()})}else{t=s(this).data("tts");for(var h=0;h<o.length;h++)o[h]!==t.speaker_id&&o[h]!==t.slow_speaker_id||(soundManager.destroySound(o[h]),o.splice(h,1),h--)}})},s.tts.ttsIDFromWord=function(e){return encodeURIComponent(e.toLowerCase())}},function(e,t,i){var s=i(1),a=(i(2),i(8));e.exports=a.extend({gatherInput:function(e){var t=this.$(e+" :input"),i={};return t.each(function(){var e=s(this).val();"radio"===this.type||"checkbox"===this.type?s(this).prop("checked")&&("true"===e||"false"===e?i[this.name]="true"===e:i[this.name]=e):i[this.name]=e}),i}})},function(e,t,i){var s=i(1),a=i(2),n=i(3);i(30),i(6);i(13);e.exports=n.View.extend({id:"session-element-container",initialize:function(e){this.session=e.session,a.bindAll(this,"graded"),this.session.bind("continue",this.clear,this),this.session.bind("end",this.clear,this)},render:function(){return this.$el.html(s.duostache(this.template,a.extend(this.model.toJSON(),{need_flash:s.need_flash}))),this},clear:function(){},graded:function(e,t){this.session.set({state:"graded"});var i=e.toJSON(),s=this.model.get("type");i[s]=!0,i.has_discussion="name"!==s&&"select"!==s},skip:function(){this.submit()},submit:function(){},save:function(e,t){var i=this;t=t||{},t.success=t.success||this.graded;var s=function(){e.set({correct:!0,error:!0}),i.graded(e,null)};t.error=t.error||s,a.contains(["submitted","graded"],this.session.get("state"))||("ready"!==this.session.get("state")&&this.session.set({state:"ready"}),e.set({time_taken:this.stopTiming()}),this.session.addSolution(e),this.session.set({state:"submitted"}),e.save(null,t))},addGradedSolution:function(e){this.session.addSolution(e),this.session.set({state:"submitted"}),e.set({time_taken:this.stopTiming()}),this.graded(e);var t=this.session.getNumberQuestionsAnswered(),i=this;this.session.get("is_trial")||e.save(null,{success:function(){var a=e.get("num_comments");if(a&&i.session.getNumberQuestionsAnswered()==t){var n="{{#_i}}Discuss sentence{{/_i}} {{#num_comments}}({{num_comments}}){{/num_comments}}";s("#discussion-toggle").text(s.duostache(n,{num_comments:a}))}}})},startTiming:function(){var e=new Date;this.startTime=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())},stopTiming:function(){var e=new Date;return this.stopTime=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),this.stopTime-this.startTime},showBlame:function(){var e=this.session.getSubmittedSolution(),t=e.toJSON();if("wrong_language"!=t.blame){if(t.blame&&"wrong_word"!=t.blame&&""!=s.trim(t.blame_message)){this.$("#blame-1 .icon-warning").after('<span class="blame-text">'+t.blame_message+"</span>");try{this.$("#blame-1").anchor({type:"above",margin:15,anchor:s(".red-bold"),container:s("#app")})}catch(i){this.$("#blame-1").anchor({type:"above",margin:15,anchor:s(".line-through"),container:s("#app")})}s("#blame-1").show(),setTimeout(function(){s("#blame-1").removeClass("slide-in")},500)}if(void 0!=t.highlights&&t.highlights.length>0&&!this.hints_shown){var n=a.map(t.highlights,function(e){return e[0]});t.isGradedLocally?(s(".blame_solution").first().highlight("highlight",n),s(".highlight").css({"text-decoration":"underline"})):(s(".translation_source").first().highlight("highlight",n),s(".highlight").css({"font-weight":"bold"}))}}},closeFail:function(){}})},,function(e,t,i){var s=i(1),a=i(3),n=i(229);e.exports=a.Model.extend({urlRoot:"/events",parse:function(e){if("comment_data"in e){var t=n.prototype.parse.call(this,e.comment_data);e.comments=new n(t),e.comments.event_id=this.id||e.id}return e},deletePost:function(){var e=this;s.post("/events/"+this.id+"/delete",{user_id:this.get("for_user").id},function(t){e.set(e.parse(e,t))})},like:function(){var e=this;s.post("/events/"+this.id+"/like",function(t){e.set(e.parse(t))})},isBlocked:function(){var e=duo.user&&(duo.user.isBlocking(this.get("user").id)||"stream_post"==this.get("type")&&duo.user.isBlocking(this.get("for_user").id)),t=duo.user&&(duo.user.isBlockedBy(this.get("user").id)||"stream_post"==this.get("type")&&duo.user.isBlockedBy(this.get("for_user").id));return e||t}},{getView:function(e){var t=e.toLowerCase()+"_event.js";return i(307)("./"+t)}})},function(e,t,i){var s=i(3);e.exports=s.Model.extend({getDefault:function(e,t){return this.has(e)?this.get(e):t},multiGet:function(e){for(var t={},i=0;i<e.length;i++){var s=e[i];t[s]=this.get(s)}return t}})},function(e,t,i){var s=i(2),a=i(3),n=i(247),o=i(250),r=i(4),l=i(66);e.exports=a.Model.extend({transitions:{"empty,rendered":"render","rendered,ready":"input","ready,rendered":"clear","ready,submitted":"submit","submitted,ready":"retry","submitted,graded":"grade","graded,empty":"continue","graded,ended":"end","submitted,failed":"fail","ready,failed":"fail","rendered,failed":"fail"},url:function(){var e=this.get("activity_uuid");return void 0===e&&(e=Math.floor(1e12*Math.random())),"/sessions/"+e},fetch:function(e){e=e||{},e.data=e.data||{},e.data.type=this.type,e.data.id=this.id,e.data.locale=duo.user.get("locale"),e.data.speak_capable=!duo.cn_extension&&navigator.userAgent.toLowerCase().indexOf("ipad")<0&&navigator.userAgent.toLowerCase().indexOf("iphone")<0,e.data.web_speech_enabled=duo.isWebSpeechEnabled(),e.data.kc_strength_model_version=duo.kcStrengthModelVersion();var t=duo.user.get("learning_language"),i=duo.user.get("ui_language"),n=l.fetchGradingDataFromLocalStorage(t,i),o=s.isUndefined(n)?-1:n.version;e.data.client_grading_data_version=o,a.Model.prototype.fetch.call(this,e)},initialize:function(){this.set({session_element_solutions:[],state:"empty",position:-1,failed:!1,answer_feedback:!0}),duo.feature_flags.allow_web_local_grading&&(l.fetchLanguageTokens(this.get("language"),!0),l.fetchLanguageTokens(duo.user.get("ui_language"),!0)),this.bind("change:state",this.fireStateEvents,this),this.bind("error",this.defaultErrorHandler)},parse:function(e){duo.cn_extension&&s.each(e.session_elements,function(e){"select"===e.type?s.each(e.options,function(e){e.image=r.relative_protocol_url(e.image)}):"name"===e.type&&s.each(e.images,function(t,i){e.images[i]=r.relative_protocol_url(t)})}),e.session_elements=new n(e.session_elements),null==e.tts_enabled&&(e.tts_enabled=!0);var t=duo.user.get("learning_language"),i=duo.user.get("ui_language");return s.isUndefined(e.grading_data)?e.grading_data=l.fetchGradingDataFromLocalStorage(t,i):l.storeGradingData(t,i,e.grading_data),e},toJSON:function(){var e=a.Model.prototype.toJSON.call(this);return e.session_elements=void 0,e.session_element_solutions=s.map(this.get("session_element_solutions"),function(e){return s.map(e,function(e){var t=e.toJSON();return t.session_element=void 0,t})}),e.language_information=void 0,e.choose_language=!!e.available_languages,e.choose_language&&(e.available_languages=duo.available_languages),e},defaultErrorHandler:function(e,t){window.location="/"},fireStateEvents:function(e,t){var i=e.previous("state");e.trigger(this.transitions[i+","+t])},incrementPosition:function(){this.set({position:this.get("position")+1})},currentElement:function(){return this.get("session_elements").at(this.get("position"))},previousElement:function(){return this.get("session_elements").at(this.get("position")-1)},initializeHearts:function(e){for(var t=[],i=0;e>i;i++){var a=null;a=duo.user.get("ab_options").hover_heart_experiment?s.map([1,3,2,4],function(e){return{quarter:e,used:!1,value:i+e/4,index:4*i+e-1}}):{used:!1,value:i+1,index:i+1},t.push(a)}this.set({num_hearts:e,hearts:t,max_hearts:e})},adjustHearts:function(e){var t=s.min([this.get("num_hearts")+e,this.get("max_hearts")]),i=this.get("hearts");return s.each(i,function(e){s.each(e.parts,function(e){e.used=e.value>t})}),this.set({num_hearts:t}),t},addSolution:function(e){e.set({learning_language:this.get("language"),session_type:this.get("type"),skill_id:this.get("skill_id"),lesson_number:this.get("lesson_number"),from_language:this.get("ui_language")}),e.get("session_element").set({activity_uuid:this.get("activity_uuid")});var t=e.get("session_element");if(e.set({depth:t.get("depth"),type:t.get("type"),solution_key:t.get("solution_key"),total_times_correct:t.get("total_times_correct"),total_times_asked:t.get("total_times_asked")}),this.get("session_element_solutions").length<=this.get("position")&&this.get("session_element_solutions").push([]),this.get("session_element_solutions").length!=this.get("position")+1)throw"";this.get("session_element_solutions")[this.get("position")].push(e)},getSubmittedSolution:function(){var e=this.get("session_element_solutions")[this.get("position")];return e?s.last(e):void 0},calculateExtraTime:function(e){var t=2.54,i=e.get("language")||e.get("target_language");switch(i){case"de":t+=-.1392;break;case"en":t+=.4381;break;case"es":t+=-.0328;break;case"fr":t+=-.1947;break;case"it":t+=.0032;break;case"pt":t+=-.0747}switch(e.get("type")){case"judge":t+=-.8097;break;case"listen":t+=.1465;break;case"name":t+=.0067;break;case"reverse_speak":t+=1.1075;break;case"speak":t+=.3766;break;case"translate":t+=-.219;break;case"form":t+=-.6087}var s="translate"==e.get("type")?e.get("sentence"):e.get("text");void 0!=s&&(t+=.0707*s.split(" ").length,t+=.024*s.length);var a=Math.round(Math.pow(2,t));return Math.min(20,Math.max(5,a))},getNumberSubmittedSolutionsForCurrentElement:function(){var e=this.get("session_element_solutions")[this.get("position")];return e?e.length:0},getNumberCorrectSolutionsForCurrentElement:function(){var e=this.get("session_element_solutions")[this.get("position")];return e?s.reduce(e,function(e,t){return e+Number(t.isCorrect())},0):void 0},getNumberCorrectOnFirstTry:function(){var e=s.filter(this.get("session_element_solutions"),function(e){return e[0].get("correct")}).length;return e},getNumberQuestionsAnswered:function(){return this.get("session_element_solutions").length},isTest:function(){return!1},isTimed:function(){return Boolean(this.get("timed"))},getSpecificSessionType:function(){var e=this.get("type");return"practice"==e?this.get("skill_id")?"skill_practice":"global_practice":e},getUseMistakeExtension:function(){var e=["lesson","lesson_preview"];return s.contains(e,this.getSpecificSessionType())},updateStrength:function(e,t,i,s){this.strength_updater||(this.strength_updater=new o(this)),this.strength_updater.updateStrength(e,t,i,s)},getKCStates:function(){return this.strength_updater||(this.strength_updater=new o(this)),this.strength_updater.student_model.getKCStates()},warnBeforeLeave:function(){var e=["welcome"],t=s.contains(e,this.get("type")),i=this.get("skill_tree_level"),a=1===i,n=this.get("position")===this.get("session_elements").length-1;return!t&&(a||n)}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(4),r=e.exports=n.Model.extend({urlRoot:"/comments",toJSON:function(){var e=n.Model.prototype.toJSON.call(this),t=300,i=e.marked_down_message;if("marked_down_message"in e||(i=e.message),!("processed_message"in e)&&"message"in e&&(e.processed_message=this.replaceURLs(e.message)),i&&(e.short_message=this.replaceURLs(i.substring(0,t)),e.shortened_message=e.message.length>t),"best_comment"in e&&e.best_comment){var s=e.best_comment,o=s.marked_down_message;"marked_down_message"in s||(i=s.message),s.best_short_message=this.replaceURLs(o.substring(0,t)),s.best_shortened_message=s.message.length>t}else"comments"in e&&(e.comments=e.comments.toJSON());return a.each(e.followers,function(t){t.expert=a.indexOf(e.experts,t.id)>=0},this),e},replaceURLs:function(e){if(-1===e.indexOf("<a href")){var t=/(src=")?\b(((https?|ftp):\/\/|www\.)(?:\([-A-Z0-9+&@#\/%=~_|$?!:,.]*\)|[-A-Z0-9+&@#\/%=~_|$?!:,.])*(?:\([-A-Z0-9+&@#\/%=~_|$?!:,.]*\)|[A-Z0-9+&@#\/%=~_|$]))/gi;e=e.replace(t,function(e,t,i,s,a){return t?e:("www."!==s||a||(i="http://"+i),'<a href="'+i+'" class="blue-link" target="_blank">'+i+"</a>")})}return e=e.replace(/<a href=/g,'<a rel="nofollow" href='),e.replace(/<a rel="nofollow" href=("https?:\/\/[a-zA-Z0-9.\-]*duolingo\.(?:com|cn))/g,"<a href=$1")},parse:function(e){var t=i(50);if("user"in e&&e.user.flair&&(e.user.flair.level_data_sorted=e.user.flair.level_data.sort(function(e,t){return t.level-e.level})),"comments"in e){e.comments=a.map(e.comments,function(t){return a.extend(t,{experts:e.experts||this.get("experts")}),r.prototype.parse.call(this,t)},this),e.comments=new t(e.comments),e.comments.parent=this,"votes"in e&&(e.hidden=e.votes<-2);var s=0;e.comments.each(function(t){t.get("votes")>2&&(e.hidden=!1),t.get("hidden")&&(s+=1,s+=t.get("num_comments")),t.get("user")&&t.get("user").flair&&(t.get("user").flair.level_data_sorted=t.get("user").flair.level_data.sort(function(e,t){return t.level-e.level}))},this),e.num_hidden=s}else"best_comment"in e&&null!==e.best_comment&&(e.best_comment.processed_message=this.replaceURLs(e.best_comment.marked_down_message));return"message"in e&&(e.processed_message=this.replaceURLs(e.marked_down_message)),e},voteUp:function(){var e=this;o.track("comment upvote"),s.post("/comments/"+this.id+"/upvote",{best_only:this.has("best_only")},function(t){e.set(r.prototype.parse.call(e,t))})},voteDown:function(){var e=this;o.track("comment downvote"),s.post("/comments/"+this.id+"/downvote",{best_only:this.has("best_only")},function(t){e.set(r.prototype.parse.call(e,t))})},del:function(e){var t=this;o.track("comment delete"),s.post("/comments/"+this.id+"/delete",{del_thread:e},function(e){t.set(r.prototype.parse.call(t,e))})},giveLove:function(){var e=this;s.post("/comments/"+this.id+"/love",function(t){"love"in t&&e.set({love:t.love})})},undel:function(e){var t=this;o.track("comment undelete"),s.post("/comments/"+this.id+"/undelete",{del_thread:e},function(e){t.set(r.prototype.parse.call(t,e))})},reply:function(e){var t=this;s.post("/comments/"+this.id+"/reply",{message:e,best_only:this.has("best_only")},function(e){o.track("Questions reply"),t.set(r.prototype.parse.call(t,e))})},watch:function(){var e=this;s.post("/comments/"+this.id+"/watch",{best_only:this.has("best_only")},function(t){e.set(t,{silent:!0})})},unwatch:function(){var e=this;s.post("/comments/"+this.id+"/unwatch",{best_only:this.has("best_only")},function(t){e.get("all_topics")?null:{silent:!0};e.set(t,{silent:!0})})}})},function(e,t,i){var s=i(3),a=i(2),n=i(14);e.exports=s.Model.extend({url:function(){var e="/skills/"+this.get("language")+"/"+this.get("url_title");return e},sync:function(e,t,i){if("read"!==e)return s.sync(e,t,i);var a=i.xhr=n.getSkill(this.get("language"),this.get("url_title"));return i.success&&(a=a.done(function(e){i.success(t,e,i)})),i.error&&(a=a.fail(function(e){i.error(t,e,i)})),a},parse:function(e){return e.url_title=encodeURIComponent(e.url_title),e},getActiveLesson:function(){return a.find(this.get("path"),function(e){return 1==e.active})}})},function(e,t,i){var s=(i(1),i(2)),a=i(11),n=i(43),o=i(35);e.exports=a.extend({render:function(){return a.prototype.render.call(this),this.renderSkills(),this},renderSkills:function(){var e=this;s.each(this.model.get("skills"),function(t){var i=null;"improvement"in t?(t.skill&&(i=new n({model:new o(o.prototype.parse.call(e,t.skill)),improvement:t.improvement,size:"small",current_user:duo.user?e.model.get("user").id==duo.user.id:null,disable_hover:null!=duo.user})),t=t.skill):i=new n({model:new o(o.prototype.parse.call(e,t)),size:"small",current_user:duo.user?e.model.get("user").id==duo.user.id:null,disable_hover:null!=duo.user}),i&&e.$("#event-skills-"+t.id).append(i.render().el)})}})},function(e,t,i){var s=i(1),a=i(3);e.exports=a.View.extend({render:function(){return this.$el.html(s.duostache(this.template,this.data)),window.scrollTo(0,0),this}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(14),r=i(5),l=i(4),d=i(40),c=i(254),u=i(234),h=i(24).createModal,g=i(124);i(4);e.exports=n.Model.extend({url:function(){return"/users/"+this.get("username")},toJSON:function(){var e=n.Model.prototype.toJSON.call(this);return this.has("language_data")&&(e.learning_language_points=this.getSkills().points),this.has("ab_options")&&(e.ab={},a.each(this.get("ab_options"),function(t,i){e.ab[i+"_"+t]=!0})),delete e.language_data,e},parse:function(e){if(e.language_data&&a.each(e.language_data,this.parseLanguageData),e.events){var t=e.events.p_view,i=new u;i.reset(e.events,{parse:!0}),i.user_id=this.id||e.id,i.before=e.before,i.more_events=e.more_events,i.p_view=t,i.error=e.events_error,e.events=i}return e},parseLanguageData:function(e){e.show_practice=a.any(e.skills,function(e){return e.progress_percent}),e.skills=new c(c.prototype.parse(e.skills)),e.bonus_skills=new c(c.prototype.parse(e.bonus_skills))},save:function(e,t){e=e||this.attributes,t=t||{},this.set(e);var i=o.updateUser(this.id,e);return t.success&&(i=i.done(t.success)),t.error&&(i=i.fail(t.success)),i},getSkills:function(){var e=this.get("language_data"),t=this.get("learning_language");return e&&t?e[t]:{}},getOwnedBonusSkills:function(){for(var e=duo.user.getSkills().bonus_skills,t=[],i=0;i<e.models.length;i++){var s=e.models[i],a=s.get("name").toLowerCase()+"_"+duo.user.get("learning_language");if(a in duo.user.get("inventory")){var n={short_name:s.get("url_title"),date:duo.user.get("inventory")[a]};t.push(n)}}return t},getStrengths:function(){var e={},t=duo.user.getSkills().skills.where({learned:!0});return t.push.apply(t,duo.user.getSkills().bonus_skills.where({learned:!0})),a.each(t,function(t){e[t.get("name")]=t.get("strength")}),e},trialExpired:function(){var e=duo.getCookie();return"skill_finished_"+duo.user.get("learning_language")in e},impersonatingUser:function(){var e=duo.getCookie();return"true"===e.impersonate},switchLanguage:function(e){var t=this;duo.prebeta_experimental_mode||(l.track("switch_language",{learning_language:e,from_language:duo.user.get("ui_language")}),s.post("/switch_language",{learning_language:e},function(i){duo.immersion_enabled=i.immersion_enabled;var s=t.get("language_data");s&&(t.parseLanguageData(i),s[e]=i);for(var a=t.get("languages")||[],n=0;n<a.length;n++)if(a[n].language===e){if(a[n].learning===!1&&duo.user.get("auto_facebook_post")){var o=FB.getAuthResponse();if(o){var r=duo.debug?"og_debug":"og",d={language:"http://duolingo.com/"+r+"/"+e};l.postFacebookAction(duo.fb_app,"start_learning",d)}}a[n].learning=!0,a[n].current_learning=!0}else a[n].current_learning=!1;t.set({learning_language:e,learning_language_string:i.language_string}),mixpanel.register({learning_language:t.get("learning_language")}),duo.topbar.render(),duo.userRouter&&duo.userRouter.navigate("",!0),duo.user&&window.Zenbox&&window.Zenbox.update({dropboxID:duo.zendesk_ids[duo.user.get("ui_language")]})}))},switchDirection:function(e,t,i){duo.prebeta_experimental_mode||s.post("/api/1/me/switch_language",{learning_language:e,from_language:t},function(s){l.trackAndRedirect("switch_language",{learning_language:e,from_language:t},i)})},isTestCenterEligible:function(){var e=duo.test_center_languages,t=this.get("learning_language"),i=this.get("ui_language");return!this.get("trial_account")&&a.has(e,t)&&a.contains(e[t],i)},updateActivity:function(e,t,i){var a=this;s.ajax({url:"/activity/"+this.id,data:i?{home_view:!0}:void 0,success:function(i){i.events=i.events||[],a.set(a.parse(i),t),e&&e()},error:function(i,s,n){var o={events:[],events_error:n};a.set(a.parse(o),t),e&&e()}})},fetchTranslationTiers:function(e){var t=this;s.ajax({url:"/translation_tiers/"+this.id,success:function(i){t.set(i,{silent:!0}),e&&e()}})},follow:function(e,t){s.post("/follow",{user_id:e},function(e){e.user_following&&(a.extend(duo.user.getSkills(),e.user_following.skill_rank_data),duo.user.set(e.user_following.data,{silent:t}))}),l.track("follow")},unfollow:function(e,t){s.post("/unfollow",{user_id:e},function(e){e.user_following&&(a.extend(duo.user.getSkills(),e.user_following.skill_rank_data),duo.user.set(e.user_following.data,{silent:t}))}),l.track("unfollow")},block:function(){s.post("/api/1/users/block",{user_id:this.id}),l.track("block",{blocked_user_id:this.id}),duo.user.get("blocking").push(this.id),this.set("is_blocking",!0),this.set("is_following",!1),this.set("is_followed_by",!1)},unblock:function(){s.post("/api/1/users/unblock",{user_id:this.id}),l.track("unblock",{blocked_user_id:this.id}),duo.user.set("blocking",a.without(duo.user.get("blocking"),this.id)),this.set("is_blocking",!1)},hasFriendshipsLoaded:function(){return this.get("num_followers")==this.get("followers").length&&this.get("num_following")==this.get("following").length},getFriendships:function(e,t,i){var a=this;s.getJSON("/friendships/"+this.id,function(s){a.set(s,{silent:e}),t&&(i=i||this,t.call(i,s))})},hasFeatureEnabled:function(e){var t=this.get("observee_privacy_settings")||{};switch(e){case"stream":return!duo.cn_extension&&!t.disable_stream;case"discussions":return!duo.cn_extension&&!t.disable_discussions;case"immersion":return duo.immersion_enabled&&!t.disable_immersion;default:return!0}},fetchAvatar:function(e){duo.debug||s.post("/avatars",{user_id:this.id,fetch:!0,image:e},function(e){})},dismissNotification:function(e){s.post("/dismiss_notification",{message:e},function(t){if("ok"===t.response){var i=duo.user.getSkills().notifications;i&&(i[e]=!1)}})},addObserver:function(e,t,i){d.addObserver(e,t,function(e){duo.user.set("has_observer",!0),i&&i(e)},function(e){try{var t,i=JSON.parse(e.responseText);if("invalid email"===i.error)t="invalid_email";else if("too many observees"===i.error)t="observee_limit";else if("email already an observer"===i.error)return;h({custom_title:!0,type:"alert",message_type:t})}catch(s){}})},joinClassroom:function(e,t,i){s.ajax({type:"POST",url:"/api/1/observers/join_classroom",data:{classroom_id:e},dataType:"json",success:function(e){duo.user.set("has_observer",!0),l.track("add_observer",a.extend({with_classroom:!0},t)),i&&i(e)},error:function(e){try{var t,i=JSON.parse(e.responseText);if("invalid email"===i.error)t="invalid_email";else if("too many observees"===i.error)t="observee_limit";else if("email already an observer"===i.error)return;h({custom_title:!0,type:"alert",message_type:t})}catch(s){}}})},confirmObserver:function(e){var t=new g,i=function(){h({type:"custom_type",custom_title:!0,custom_class:"modal-magic-link",message_type:"add_observer",okay_text:r("Continue"),cancel_text:r("Not now"),observer:e.observer_email,observer_name:e.observer_email,num_classrooms:t.length,classrooms:t.toJSON(),classroom_name:e.classroom_name||r("My students"),callback:function(){duo.user.addObserver(e)}})};t.fetch({success:i,error:i})},shouldAutoPlay:function(){return this.get("autoplay")&&this.get("speaker")},playEffects:function(){return this.get("sound_effects")&&this.get("speaker")},incrementSkillPoints:function(e){var t=this.getSkills();t.points+=e,t.level_progress+=e,t.level_progress=Math.min(Math.max(0,t.level_progress),t.level_points),e>0&&!duo.user.get("ab_options").coach_web_experiment&&!duo.user.get("daily_goal")&&this.extendStreak()},extendStreak:function(){this.get("streak_extended_today")||this.set({streak_extended_today:!0,site_streak:1+this.get("site_streak")})},isBlocking:function(e){return a.contains(this.get("blocking"),e)},isBlockedBy:function(e){return a.contains(this.get("blockers"),e)},metSocialXPThreshold:function(){var e=60,t=duo.user.getSkills().points_ranking_data_dict[duo.user.id].points_data.total,i=a.pluck(duo.user.get("languages"),"points");if(a.reduce(i,function(e,t){return e+t})<t)return t>=e;var s=a.pluck(duo.user.get("languages"),"level");return void 0!==a.find(s,function(e){return e>=2})}})},function(e,t,i){"use strict";var s=i(1),a=e.exports={supported:!1,enabled:!1},n=null,o="/gcm-service-worker.js",r=function(e){var t=e.endpoint;return 0===t.indexOf("https://android.googleapis.com/gcm/send")&&e.subscriptionId&&-1===t.indexOf(e.subscriptionId)?e.subscriptionId:t.split("/").pop()},l=function(e){s.post("/api/1/me/register_device",{registration_id:r(e)})},d=function(e){s.post("/api/1/me/unregister_device",{registration_id:r(e)})},c=function(e,t){return a.supported?void navigator.serviceWorker.ready.then(e):void(t&&t())},u=function(e){"showNotification"in ServiceWorkerRegistration.prototype&&"denied"!==Notification.permission&&"PushManager"in window&&navigator.serviceWorker.ready.then(function(t){t.pushManager.getSubscription().then(function(t){a.supported=!0,t&&(n=t,a.enabled=!0,l(t)),e&&e(t)})["catch"](function(e){})})};a.subscribe=function(e,t){c(function(i){i.pushManager.subscribe({userVisibleOnly:!0}).then(function(t){l(t),a.enabled=!0,n=t,e&&e()})["catch"](function(e){t&&t(e)})},t)},a.unsubscribe=function(e,t){c(function(i){i.pushManager.getSubscription().then(function(t){t&&(t.unsubscribe(),d(t),a.enabled=!1,n=null),e&&e()})["catch"](function(e){t&&t(e)})},t)},a.init=function(e,t){return duo.cn_extension?void 0:a.supported?void(e&&e(n)):"serviceWorker"in navigator?void navigator.serviceWorker.register(o).then(function(){u(e)}):void(t&&t())}},function(e,t,i){var s=i(1),a=i(2),n=i(4);e.exports.getObserverInfo=function(e,t,i,n,o){void 0!==e?s.ajax({url:"/api/1/observers/get_observer_for_code",data:{link_code:e},success:function(t){t.already_in_classroom?o():n(a.extend({link_code:e},t))},error:function(){o()},dataType:"json",type:"get"}):t?n({observer_email:decodeURIComponent(t),classroom_name:i?decodeURIComponent(i):""}):o()},e.exports.addObserver=function(e,t,i,a){s.ajax({type:"POST",url:"/api/1/observers/add_observer",data:{observer_email:e.observer_email,tag:e.classroom_name},dataType:"json",success:function(e){n.track("add_observer",t),i&&i(e)},error:a})}},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(5),r=i(408),l=i(43),d=i(101),c=i(35),u=i(135);i(7),i(15);e.exports=n.View.extend({id:"app",template:r,events:{"click .vote-up":"upvote","click .vote-down":"downvote","click #post-comment":"reply","click .delete-comment":"deleteComment","click .delete-thread":"deleteThread","click .freeze-thread":"freezeThread","click .unfreeze-thread":"unfreezeThread","click .make-sticky":"stickThread","click .make-unsticky":"unstickThread","click .edit-comment":"editComment","click .update-comment":"updateComment","click .add-reply":"addReply","click .give-love":"giveLove","click #post-reply":"postReply","click .cancel-update-comment":"cancelUpdate","click #watch":"toggleWatch","click #post-text-box":"focusReplyBox","click #show-toggle":"showHiddenComments"},_DICT_HOST:"d2.duolingo.com/api/1/dictionary/hints",initialize:function(e){this.model.bind("change",this.render,this),this.has_hidden=!1,this.document_comment=e&&e.document_comment},render:function(){var e=this.model.get("title");'"'==e[0]&&'"'==e[e.length-1]&&(e=e.slice(1,-1)),this.$(".modal").modal("hide");var t=duo.user?{id:duo.user.id,avatar:duo.user.get("avatar"),username:duo.user.get("username"),admin:duo.user.get("admin"),mod:this.model.get("mod_user")}:null,n=duo.user?duo.user.get("ui_language"):duo.browser_language;this.$el.html(s.duostache(this.template,a.extend(this.model.toJSON(),{different_ui:n!=this.model.get("topic").from_language_abbrev,got_related:this.model.has("related")&&this.model.get("related").length>0,num_followers:this.model.has("followers")?this.model.get("followers").length:0,logged_in_user:t,show_badges:!0,num_hidden:this.model.get("num_hidden"),format_title:e,show_tts:this.model.get("show_tts"),show_date:!this.model.get("sentence_comment")||!this.model.get("old_comment"),document_comment:this.document_comment,rupees:duo.user&&duo.user.get("rupees")>0&&duo.user.get("id")!=this.model.get("user").id,delete_thread:duo.user&&duo.user.get("delete-permissions")||this.model.get("mod_user"),freeze_thread:duo.user&&duo.user.get("freeze-permissions")||this.model.get("mod_user"),show_dropdown:this.model.get("mod_user")||this.model.get("admin_user"),can_comment:duo.user&&duo.user.metSocialXPThreshold()||"Troubleshooting"===this.model.get("topic").name||"Educators"===this.model.get("topic").name||this.model.get("sentence_comment"),
new_forum_cta:this.options.new_forum_cta})));var o=new d({el:this.$(".trial-account-overlay"),type:"comment"});if(o.render(),this.model.has("skill")){var r=new l({model:new c(c.prototype.parse.call(this,this.model.get("skill"))),el:this.$("#comment-skill")});r.render()}var u=i(134);this.model.get("comments").each(function(e){var t=new u({model:e,el:this.$("#comment-"+e.id),sentence_comment:this.model.get("sentence_comment")});e.get("hidden")&&(this.$("#comment-"+e.id).addClass("hidden-comment"),this.$("#comment-"+e.id).hide(),this.has_hidden=!0,this.num_hidden+=1),t.render()},this),0==this.has_hidden&&this.$("#show-toggle").hide();var h=this.model.get("is_forward")?this.model.get("sentence_language"):this.model.get("translation_language"),g=this.model.get("is_forward")?this.model.get("sentence_id"):this.model.get("translation_id"),p=this;if(duo.user?a.defer(function(){p.$(".listen-button-small").tts({language:h,tts_type:"sentence",tts_id:g,template:i(21),visible:!1,autoplay:!1,click:!0})}):this.$(".listen-button-small").css({opacity:.3,cursor:"default"}),a.defer(function(){p.$("label").inFieldLabels()}),this.$(".modal").modal({keyboard:!0,backdrop:!0,show:!1}),this.model.get("sentence_comment")){var _={url:this._DICT_HOST};duo.user&&duo.user.getSkills().can_transliterate&&duo.user.get("transliterate")&&(_.transliterate="source_language"),this.model.get("is_forward")?this.$(".title").hints(a.extend({source_language:p.model.get("sentence_language"),target_language:p.model.get("translation_language"),top:20},_)):this.$(".trans").hints(a.extend({source_language:p.model.get("translation_language"),target_language:p.model.get("sentence_language"),top:5},_))}return this.options.comment_id&&a.defer(function(){p.scrollToComment(p.options.comment_id),p.options.comment_id=void 0}),this},reply:function(){var e=s.trim(this.$("#post-text-box").val());e.length>0&&(this.$("#post-text-box, #post-comment").attr("disabled","disabled"),this.$("#post-text-box").val(""),this.$(".save-message").fadeIn(250).delay(400).fadeOut(250),this.model.reply(e))},focusReplyBox:function(){this.$("#post-button").show(),this.$(".comment-box").autosize({append:"\n"})},upvote:function(e){return this.model.voteUp(),e.stopPropagation(),!1},downvote:function(e){return this.model.voteDown(),e.stopPropagation(),!1},deleteComment:function(e){var t=confirm(o("Delete this comment?"));if(t)return this.model.del(),duo.commentRouter.navigate("/topic/"+this.model.get("root").id,!0),!1},deleteThread:function(e){var t=confirm("Delete this thread?");if(t)return this.model.del(!0),duo.commentRouter.navigate("/topic/"+this.model.get("root").id,!0),!1},freezeThread:function(e){return s.post("/comments/"+this.model.id+"/freeze",{},function(e){window.location.reload()}),!1},unfreezeThread:function(e){return s.post("/comments/"+this.model.id+"/unfreeze",{},function(e){window.location.reload()}),!1},stickThread:function(){return s.post("/comments/"+this.model.id+"/stick",{},function(e){window.location.reload()}),!1},unstickThread:function(){return s.post("/comments/"+this.model.id+"/unstick",{},function(e){window.location.reload()}),!1},editComment:function(e){var t=new u({el:this.$("#edit-modal"),edit:!0,type:this.model.get("question")?"question":"insight",model:this.model,all_topics:this.model.get("all_topics"),selected:this.model.get("topic").id,success:this.onPost});return t.render(),this.$("#edit-modal").show(),this.$(".page-main > .discussion-header").hide(),this.$(".discussion-comments").hide(),this.$(".discussion-main").hide(),!1},updateComment:function(e){var t=s.trim(this.$(".comment-head .title-edit-box").val()),i=s.trim(this.$("#main-post-edit").val());t.length>0?this.model.save({title:t,message:i}):alert("Title cannot be empty!")},cancelUpdate:function(){return this.$("#post-text-box").val(""),this.$("#post-text-box").animate({height:"45px"},500),this.$("#post-button").hide(),!1},giveLove:function(){var e=confirm(o("You're about to give a lingot away! Are you sure you love this comment so much?"));return e?(this.model.giveLove(),!1):!1},addReply:function(){return this.$("#postreply-"+this.model.id).autosize({append:"\n"}),this.$("#reply-box-"+this.model.id).fadeToggle(400),this.$("#postreply-"+this.model.id).focus(),!1},postReply:function(e){var t=s.trim(this.$("#postreply-"+this.model.id).val());t.length>0&&(this.$("#post-reply, #postreply-"+this.model.id).attr("disabled","disabled"),this.$("#postreply-"+this.model.id).val(""),this.model.reply(t))},onPost:function(){this.$(".modal").modal("hide")},toggleWatch:function(){this.model.get("watching")?(this.model.unwatch(),this.$("#watch").removeClass("success").removeClass("checkmark"),this.$("#watch").attr("value",o("Follow Discussion")),this.$("#watch").text(o("Follow Discussion"))):(this.model.watch(),this.$("#watch").addClass("success"),this.$("#watch").attr("value",o("Following Discussion")),this.$("#watch").text(o("Following Discussion")),this.$("#watch").addClass("checkmark"))},showHiddenComments:function(e){var t=s(".discussion-comments-list > .hidden-comment").fadeIn(400);return t.find(".hidden-comment").show(),t.find(".show-toggle").hide(),this.$("#show-toggle").hide(),e.stopPropagation(),!1},scrollToComment:function(e){s("#nested-comment-"+e).length>0&&s("html, body").animate({scrollTop:s("#nested-comment-"+e).offset().top-.2*s(window).height()},500)}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=(i(30),i(15),i(505));i(7),i(64);e.exports=n.View.extend({id:"grade",template:o,events:{},initialize:function(e){this.model.bind("grade",this.graded_,this),this.model.bind("retry",this.graded_,this),this.model.bind("continue",this.next,this),this.data={},this.points_per_correct=e.points,this.extra_time=e.extra_time,this.long_sentence_bonus=e.long_sentence_bonus,this.sentence={}},render:function(){if(this.data.judge===!0){var e=this.data.correct_solutions;this.data.formatted_judge='"'+e.slice(0,e.length).join('" and "')+'"'}if(this.data.session_element&&(this.data.source_language_name=this.getSourceName(this.data.session_element.get("source_language"))),this.data.language_name=this.getSourceName(this.data.learning_language),this.data.has_audio=this.data.session_element?this.data.session_element.get("source_language")==this.data.learning_language:!1,this.data.correct_solutions&&this.data.correct_solutions.length>1&&(this.data.solution_string=this.data.correct_solutions.join(", ")),this.$el.html(s.duostache(this.template,this.data)),this.hints_shown=!1,this.data.session_element&&(this.data.session_element.get("target_language")===this.model.get("language")||this.data.session_element.get("language")===this.model.get("language"))){this.hints_shown=!0;var t={url:this.model.get("hints_url"),top:10,source_language:this.model.get("language"),target_language:duo.user.get("ui_language"),highlights:this.data.highlights,language_information:this.model.get("language_information")};this.$(".translation_source").first().hints(t)}return this.$(".free-write-box").autosize({append:"\n"}),this.$("#submit-problem").attr("disabled","disabled"),this.$("label").inFieldLabels(),this},highlight:function(){void 0!=this.data.highlights&&this.data.highlights.length>0&&!this.hints_shown&&(this.data.isGradedLocally?(s(".blame_solution").first().highlight("highlight",this.data.highlights),s(".highlight").css({"text-decoration":"underline"})):(s(".translation_source").first().highlight("highlight",this.data.highlights),s(".highlight").css({"font-weight":"bold"})))},graded_:function(){var e=this.model.getSubmittedSolution(),t=e.get("session_element"),i=t.get("type"),n=s.trim(e.getDisplayText()),o=t.get("backoff"),r=t.get("num_correct");this.data=e.toJSON(),e.set("backoff",o),e.set("num_correct",r),this.data[i]=!0,this.data.has_solutions=this.data.correct_solutions&&this.data.correct_solutions.length>0,this.data.user_solution=n,a.isUndefined(this.data.highlights)||(this.data.highlights=a.map(this.data.highlights,function(e){return e[0]}),this.data.num_highlights=this.data.highlights.length);var l=this.data.blame;if(this.data.correct||!this.data.isGradedLocally||a.isNull(l)||(this.data.custom_blame_message=!0,this.data[l]=!0),this.data.points_per_correct=this.points_per_correct,this.data.extra_time=1e3*this.model.calculateExtraTime(t),"score"in this.data){var d=this.data.score,c=[88,71,55,38,21,5,0],u={88:100,71:85,55:65,38:50,21:35,5:15,0:0};this.data.score_bracket=u[a.find(c,function(e){return d>=e})]}if(this.data["session_"+this.model.get("type")]=!0,this.data.has_discussion="name"!==i&&"select"!==i,"judge"===i&&!e.get("correct")){var h=e.get("correct_choices"),g=e.get("choices"),p=0;a.each(g,function(e,t){"correct"===e&&"correct"===h[t]?this.data.judge_one_correct=!0:"correct"===e&&"incorrect"===h[t]&&p++},this),this.data.judge_one_wrong=1==p,this.data.judge_more_wrong=p>1,this.data.judge_missed=0==p}var _=this.model.getSubmittedSolution();this.model.get("answer_feedback")||_.get("try_again")||this.data.session_element.set("covert",!0),this.render(),void 0!=this.data.highlights&&this.highlight()},clear:function(){this.data={},this.render()},next:function(){this.clear()},getSourceName:function(e){var t={en:"English",es:"Spanish",pt:"Portuguese",fr:"French",de:"German",it:"Italian"};return t[e]}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(548),r=(i(20),i(89));i(13);e.exports=n.View.extend({template:o,events:{"click .skill-item":"goToSkill"},initialize:function(e){null!==this.model&&this.model.bind("change",this.render,this)},render:function(){var e=5,t=Math.round(this.model.get("strength")*e),i=a.map(a.range(e),function(e){return{filled:t>e}},this),n=a.filter(i,function(e){return e.filled}).length,o=this.model.get("name").toLowerCase(),r="bonus"==this.model.get("category"),l=this.model.get("progress_percent")>0?Math.round(100*this.model.get("missing_lessons")/(100-this.model.get("progress_percent"))):this.model.get("missing_lessons"),d=(duo.user&&duo.user.get("language_data")[duo.user.get("learning_language")].max_tree_level,duo.user&&this.model.get("locked")&&!r||r&&!(o+"_"+duo.user.get("learning_language")in duo.user.get("inventory"))),c={short_name:o,locked:d,strengths:i,perfect_strength:t==e,no_dep:this.no_dep,percent_left:100-this.model.get("progress_percent"),lessons_completed:l-this.model.get("missing_lessons"),total_lessons:l,skill_strength:n};c["strength_"+n]=!0,duo.user.getSkills().first_time&&1==this.model.get("coords_y")&&(c.hide_first_skill=!0),this.$el.html(s.duostache(this.template,a.extend(this.model.toJSON(),c)));var u=this;return c.locked===!1&&this.model.get("missing_lessons")&&a.defer(function(){u.$("#overlay-progress").pie({colors:["#abcdef","#fff"],proportion:1.01}),u.$("#overlay-progress path").css({opacity:.3}),u.$("#overlay-progress circle").css({opacity:0}),u.$('#overlay-progress path[fill="#abcdef"]').css({opacity:0})}),a.defer(function(){0===document.body.scrollTop&&(u.model.get("coords_y")<8||"bonus"==u.model.get("category")?u.$el.find(".fade-this-in").css("opacity","0"):u.$el.find(".fade-this-in").css("opacity","1").removeClass("fade-this-in"))}),this},goToSkill:function(){if(duo.user.get("trial_account")&&duo.user.trialExpired()&&!this.model.get("learned")){var e=new r({hard:!0});return e.render(),s("body").append(e.el),e.$(".modal").modal({backdrop:"static",keyboard:!1},"show"),!1}}})},function(e,t,i){e.exports='{{^splash_skip_delayed}}<div id="signup-main" class="{{#show_form}}hidden{{/show_form}}"><section class="section-white dark-theme"><div class="section-inner center fold"><div class="earth-container"><span class="splash-globe"></span></div><div class="cta-container"><h1 class="splash">{{#single_learning_language}}{{#_i}}Learn English for free. Forever.{{/_i}}{{/single_learning_language}}{{^single_learning_language}}{{#_i}}Learn a language for free. Forever.{{/_i}}{{/single_learning_language}}</h1><div class="email-div"><a class="btn btn-green sign-up signup-trial" href="javascript:;" id="signup-link" style="margin-bottom: 15px;" data-track-click="splash page register facebook">{{#_i}}Get started{{/_i}}</a><div class="have-account">{{#_i}}Have an Account?{{/_i}}</div></div></div></div></section></div><div class="{{^show_form}}hidden{{/show_form}} splash-signup-form" id="signup-language"><section class="section-white space"><div class="section-inner-wide section-inner"><div class="language-selection-container">{{^needs_a_learning_language}}<h1 class="course-picker">{{#_i}}I want to learn...{{/_i}}</h1>{{/needs_a_learning_language}}{{#needs_a_learning_language}}<h1 class="course-picker small-margin-bottom">{{#_i}}Welcome to Duolingo!{{/_i}}</h1><h2 class="course-picker subtitle small-margin-bottom">{{#_i}}Which language do you want to learn first?{{/_i}}</h2>{{/needs_a_learning_language}}<div class="login-signup-flag-list-container {{#one_row}}one-row{{/one_row}}">{{#languages_from_ui}}<div class="choose-language-flag-container choose-language" data-from="{{from_language}}" data-language="{{learning_language}}"><div class="vertical-align"><div class="flag-box"><span class="flag flag-svg-large flag-flex-size flag-{{learning_language}}"></span></div><h2 class="white course-name">{{#_iv}}{{base_learning_language_name}}{{/_iv}}</h2>{{#num_learners_string}}<p class="num-learners">{{#_i}}{{num_learners_string}} {{#pluralize}}learner,learners,{{num_learners}}{{/pluralize}}{{/_i}}</p>{{/num_learners_string}}</div></div>{{/languages_from_ui}}</div>{{#single_learning_language}}<div class="see-more-courses"><span class="btn btn-white btn-outline expand-english"><span class="link-text">I speak English, show me courses I can take</span></span></div><div class="login-signup-flag-list-container {{#one_row}}one-row{{/one_row}} hidden english-courses">{{#languages_from_en}}<div class="choose-language-flag-container choose-language" data-from="{{from_language}}" data-language="{{learning_language}}"><div class="vertical-align"><div class="flag-box"><span class="flag flag-svg-large flag-flex-size flag-{{learning_language}}"></span></div><h2 class="white course-name">{{learning_language_name}}</h2>{{#num_learners_string_en}}<p class="num-learners">{{num_learners_string_en}} {{#pluralize}}learner,learners,{{num_learners}}{{/pluralize}}</p>{{/num_learners_string_en}}</div></div>{{/languages_from_en}}</div>{{/single_learning_language}}</div><div class="ui-language-selection-container hidden"><h1 class="course-picker">What language do you speak?</h1><table class="form-table choose-ui-language">{{#courses_teaching_en}}<tr><td><li class="choose-ui-language-row" data-from="{{from_language}}" data-language="{{learning_language}}"><span class="flag flag-svg-tiny flag-{{from_language}}"></span><span class="language-name">{{#_iv}}{{from_language_name}}{{/_iv}}</span></li></td></tr>{{/courses_teaching_en}}</table><div class="ui-language-not-available"><h1 class="course-picker">Don\'t see the language you speak? We\'re still working on an English course for you. Coming soon!</h1><span class="btn btn-white btn-outline choose-another-course"><span class="link-text">Choose another course</span></span></div></div></div></section></div>{{/splash_skip_delayed}}{{#splash_skip_delayed}}<div id="signup-email" class="splash-signup-form"><section class="section-white space"><div class="section-inner-wide section-inner">'+i(104)+'</div></section></div>{{/splash_skip_delayed}}<div dir="{{dir}}" class="login" style="display: none;"><div id="login-form" class="login-form"><ul class=\'login-signup-list\'><form id="login-form"><table border="0" cellspacing="0" cellpadding="0" class="form-table" style="margin-bottom: 20px;"><input type="hidden" name="came_from" value="{{came_from}}"/><tr><td><input id="login" name="login" size="30" type="text" placeholder="{{#_i}}Username{{/_i}}"></td></tr><tr><td><input id="password" name="password" size="30" type="password" placeholder="{{#_i}}Password{{/_i}}"></td></tr></table><div id=\'message\' class="warning-message hidden margin-bottom"></div><input id="login-button" readonly class="btn btn-lg btn-blue btn-block more-margin-bottom" value="{{#_i}}Log in{{/_i}}"/><p class="center no-margin"><a href="/forgot_password" class="forgot-password">{{#_i}}Forgot password?{{/_i}}</a></p></form></ul></div></div> '},function(e,t){e.exports='<div class="correct-solution-box">{{#correct}}{{#blame}}{{#closest_translation}}<h5>{{#_i}}Correct solution:{{/_i}}</h5><div class="input-meta"><div class="another-correct-solution"><div class="solution-item translation-source translation_source">{{closest_translation}}</div></div></div>{{/closest_translation}}{{^closest_translation}}{{#correct_solutions}}<h5>{{#solution_translation}}<div class="translation-headline">{{#_i}}Translation:{{/_i}}</div>{{/solution_translation}}{{#_i}}Correct solution:{{/_i}}</h5><div class="input-meta"><div class="correct-solution-gray"><div class="solution-item translation-source translation_source">{{.}}</div></div>{{#solution_translation}}<div class="translation">{{solution_translation}}</div>{{/solution_translation}}</div>{{/correct_solutions}}{{/closest_translation}}{{/blame}}{{^blame}}{{#solution_translation}}<h5>{{#_i}}Translation:{{/_i}}</h5><div class="input-meta"><div class="another-correct-solution"><div class="solution-item translation-source translation_source">{{solution_translation}}</div></div></div>{{/solution_translation}}{{#display_translation}}<h5>{{#_i}}Another correct solution:{{/_i}}</h5><div class="input-meta"><div class="another-correct-solution"><div class="solution-item translation-source translation_source">{{display_translation}}</div></div></div>{{/display_translation}}{{/blame}}{{/correct}}{{#incorrect}}{{#has_solutions}}{{^closest_translation}}<h5>{{^wrong_language}}{{#solution_translation}}<div class="translation-headline">{{#_i}}Translation:{{/_i}}</div>{{/solution_translation}}{{/wrong_language}}{{#_i}}Correct {{#pluralize}}solution, solutions,{{num_solutions}}{{/pluralize}}:{{/_i}}</h5><div class="input-meta"><div class="correct-solution">{{#correct_solutions}}<div class="solution-item translation_source">{{.}}</div>{{/correct_solutions}}</div>{{^wrong_language}}{{#solution_translation}}<div class="translation">{{solution_translation}}</div>{{/solution_translation}}{{/wrong_language}}</div>{{/closest_translation}}{{#closest_translation}}{{^display_translation}}<h5>{{#_i}}Correct solution:{{/_i}}</h5><div class="input-meta"><div class="correct-solution"><div class="solution-item translation-source translation_source">{{closest_translation}}</div></div></div>{{/display_translation}}{{#display_translation}}<h5>{{#_i}}Correct solutions:{{/_i}}</h5><div class="input-meta"><div class="correct-solution"><div class="solution-item translation-source translation_source">{{closest_translation}}</div><div class="solution-item translation-source translation_source">{{display_translation}}</div></div></div>{{/display_translation}}{{/closest_translation}}{{/has_solutions}}{{/incorrect}}{{^correct}}{{#speak_challenge}}{{#solution_translation}}<h5>{{#_i}}Translation:{{/_i}}</h5><div class="input-meta"><div class="another-correct-solution"><div class="solution-item translation-source translation_source">{{solution_translation}}</div></div></div>{{/solution_translation}}{{/speak_challenge}}{{/correct}}</div> '},,,,,function(e,t,i){var s=i(2),a=i(3),n=i(34);e.exports=a.Collection.extend({model:n,url:"/comments",fetch:function(e){return e=e||{},e.data=e.data||{},e.data.sort_by=this.sort_by,e.data.filter=this.filter_option,a.Collection.prototype.fetch.call(this,e)},parse:function(e){return this.page=e.page,this.more=e.more,this.user_skills=e.user_skills,this.experts=e.experts,this.limits=e.limits,s.map(e.comments,function(e){return n.prototype.parse(e)})}})},function(e,t,i){var s=i(33);e.exports=s.extend({type:"test",isTest:function(){return!0}})},function(e,t,i){var s=i(1),a=i(2),n=i(418),o=i(31),r=i(11);e.exports=r.extend({template:n,initialize:function(){this.collapsed=a.map(this.model.attributes,function(e){return new o(e)})},render:function(){this.$el.html(s.duostache(this.template,{events:this.collapsed}));var e=this;return a.each(this.collapsed,function(t){var s=t.get("type").toLowerCase(),a=i(308)("./"+s+"_event.js"),n=new a({model:t});e.$("#collapsed-event-"+t.id).replaceWith(n.render().el)}),this}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(423),r=i(31),l=i(52);e.exports=n.View.extend({template:o,events:{"click #more-stream":"moreStream"},initialize:function(e){this.collection=e.collection,this.home_view=e.home_view,this.collection.bind("add",this.addOne,this),this.collection.bind("remove",this.render,this),this.collection.bind("change:deleted",this.eventDeleted,this),a.bindAll(this,"render","moreStream"),this.last_request_length=0,n.history.once("route",this.cleanUp,this)},render:function(){var e=this.model.get("observee_privacy_settings");this.read_only_stream=e&&e.disable_stream,this.$el.html(s.duostache(this.template,a.extend(this.model.toJSON(),{more_events:this.collection.more_events,error:this.collection.error,current_user_profile:duo.user&&duo.user.get("id")==this.model.get("id"),user:duo.user?duo.user.toJSON():void 0,viewer_trial_account:duo.user&&duo.user.get("trial_account"),read_only_stream:this.read_only_stream,can_comment:duo.user&&duo.user.metSocialXPThreshold()}))),this.$("#stream-post-btn").attr("disabled","disabled"),this.addAll();var t=this;return s(document).unbind(".stream_scroll").bind("scroll.stream_scroll.infinite_scroll",function(e){var i=s(document).height(),a=i-s(document).scrollTop(),n=s(window).height();1.5*n>a&&t.collection.length>t.last_request_length&&(t.$("#more-stream").hide(),t.last_request_length=t.collection.length,t.moreStream())}),this},addAll:function(){this.collection.each(this.addOne,this)},addOne:function(e,t,i){var s=null,a=["level","unlock","test","comment","follow","stream_post","translation","store_purchase","streak","welcome","translator_promotion"];if(e.has("type")){if(-1==a.indexOf(e.get("type")))return;var n=void 0===this.last_datetime||e.get("datetime_string")!==this.last_datetime,o=r.getView(e.get("type"));s=new o({model:e,show_time:n,read_only_stream:this.read_only_stream}),this.last_datetime=e.get("datetime_string")}else s=new l({model:e});0===i.at?this.$(".activity-stream>li:nth-child(1)").after(s.render().el):this.$(".activity-stream").append(s.render().el)},eventDeleted:function(e){this.collection.remove(e)},moreStream:function(){this.model.get("events").fetch({update:!0,remove:!1,data:{home_view:this.home_view}})},cleanUp:function(){s(document).unbind(".stream_scroll")}})},function(e,t,i){var s=i(1),a=i(3),n=i(31),o=i(430);e.exports=a.View.extend({id:"app",template:o,initialize:function(){var e=n.getView(this.model.get("type"));this.event_view=new e({model:this.model})},render:function(){return this.$el.html(s.duostache(this.template)),this.$(".activity-stream").append(this.event_view.render().el),this}})},function(e,t,i){"use strict";var s=i(1),a=i(3),n=i(5),o=i(4),r=i(68),l=i(494);e.exports=a.View.extend({id:"app",template:l,events:{"click .step-tab":"changeStep","click .paste-submit":"pasteSubmitToPreview","click .url-submit":"urlSubmitToPreview","click .edit-preview":"editPreview","click .cancel-preview":"cancelPreview","click #continue-preview":"submitToPay","click #stripe-button":"clickStripe"},initialize:function(){this.currentPage="input",duo.user.set({word_price:4}),s.get("/translate_jobs/get_word_price",function(e){duo.user.set({word_price:e.word_price})})},render:function(){var e=i(317),t=i(320),a=i(319);3783191===duo.user.id&&this.model.set({can_prioritize:!0,charged_monthly:!0});var n=this.model.toJSON();return n.input_enabled="pay"==this.currentPage,this.$el.html(s.duostache(this.template,n)),this.input_view=new e({model:this.model,el:this.$("#self-service-input-step")}),this.input_view.render(),this.preview_view=new t({model:this.model,el:this.$("#self-service-prev-step")}),this.pay_view=new a({model:this.model,el:this.$("#self-service-pay-step")}),this},switchTo:function(e,t){this.$("#self-service-"+e+"-step").hide(),this.$("#self-service-"+t+"-step").show(),this.$("."+e+"-step").removeClass("active"),this.$("."+t+"-step").addClass("active").removeClass("inactive"),this.currentPage=t},changeStep:function(e){s(e.currentTarget).hasClass("inactive")||s(e.currentTarget).hasClass("active")||this.switchTo(this.currentPage,s(e.currentTarget).prop("id"))},countWords:function(){var e=0,t=s.trim(this.$("#article-headline").val()+" "+this.$("#article-body").val());t&&(e=t.split(/\s+/g).length);var i=(e*duo.user.get("word_price")*.01).toFixed(2);this.$("#word-count").html(s.duostache("{{count}}",{count:e})),this.$("#cost").html(s.duostache("{{cost}}",{cost:i})),this.model.set({words:e,cost:i})},editPreview:function(){this.switchTo(this.currentPage,"input"),this.input_view.changeType("paste")},cancelPreview:function(){this.switchTo(this.currentPage,"input")},fileSubmitToPreview:function(){},pasteSubmitToPreview:function(){if(!s("#prev").hasClass("inactive"))return void this.switchTo("input","prev");var e=s.trim(this.$("#article-body").val()),t=s.trim(this.$("#article-headline").val()),i=this.$("#image-url").val(),a=this.$("#document-url").val(),o=s("#continue-input").html(),r=this;this.$("#continue-input").html(s("#continue-input").data("wait")),this.$("#continue-input").attr("disabled","disabled"),s.when(s.post("/translate_jobs/manual_preview",{text:e,title:t,user_id:duo.user.id}),s.post("/translate_jobs/manual_parse",{text:e,title:t})).always(function(){r.$("#continue-input").html(o),r.$("#continue-input").removeAttr("disabled")}).done(function(e,t){r.stripe_customer=e[0].stripe_customer,r.stripe_publishable_key=e[0].stripe_publishable_key,r.countWords(),r.model.get("words")>=25?(r.model.set(e[0]),r.model.set(t[0]),r.model.set({custom_html:null,image_url:i,document_url:a}),r.preview_view.data_source="text",r.preview_view.render(),r.switchTo("input","prev")):r.$("#input-errors").html(n("Document contains too few words.")).show()}).fail(function(){r.$("#input-errors").html("Unable to parse text.").show()})},urlSubmitToPreview:function(){if(!s("#prev").hasClass("inactive"))return void this.switchTo("input","prev");var e=s.trim(this.$("#url").val());if(""===e)return!1;var t=s("#continue-input").html(),i=this;this.$("#continue-input").html(s("#continue-input").data("wait")),this.$("#continue-input").attr("disabled","disabled");var a=n("This web address is invalid or the page could not be loaded.");s.post("/translate_jobs/preview",{url:e,user_id:duo.user.id}).always(function(){i.$("#continue-input").html(t),i.$("#continue-input").removeAttr("disabled")}).done(function(s){s.success?(i.stripe_customer=s.stripe_customer,i.stripe_publishable_key=s.stripe_publishable_key,i.$("#article-body").val(s.text),i.$("#article-headline").val(s.title),i.$("#image-url").val(s.image_url),i.$("#document-url").val(s.document_url),i.$("#continue-input").html(t),i.$("#continue-input").removeAttr("disabled"),i.model.set(s),i.countWords(),i.model.get("words")>=25?(o.track("preview_document",{document_url:e}),i.preview_view.data_source="url",i.preview_view.render(),i.model.get("text")?i.$("#edit").show():i.$("#edit").hide(),i.switchTo("input","prev")):i.$("#input-errors").html("Document contains too few words.").show()):i.$("#input-errors").html(a).show()}).fail(function(){i.$("#input-errors").html(a).show()})},submitToPay:function(){if(this.model.set({category:this.$("#category option:selected").text(),target_language:this.$("#language option:selected").text()}),this.pay_view.render(),s("#confirm-cost").html(s.duostache("{{cost}}",{cost:this.model.get("cost")})),s("#confirm-words").html(s.duostache("{{words}}",{words:this.model.get("words")})),s("#confirm-headline").text(this.model.get("title")),s("#confirm-category").text(this.model.get("category")),s("#confirm-language").text(this.model.get("target_language")),null!==this.stripe_customer){var e=this.stripe_customer.cards.data;e.length>=5&&this.$("#cards option").remove();for(var t=0;t<e.length;++t)this.$("#cards").prepend('<option value="'+e[t].id+'">'+e[t].type+" ****"+e[t].last4+" (Exp. "+e[t].exp_month+"/"+e[t].exp_year+")</option>");s("#cards").val(this.stripe_customer.default_card)}this.pay_view.toggleCardFields(),this.switchTo("prev","pay")},clickStripe:function(){Stripe.setPublishableKey(this.stripe_publishable_key);var e=this.$("#stripe-button").html();if(this.$("#payment-errors").hide(),s(".input-step, .prev-step").addClass("inactive"),this.$("#stripe-button").attr("disabled","disabled").html(s("#stripe-button").data("wait")),this.$("#cards").val().indexOf("card_")>=0)this.submitUpload(e,this.$("#cards").val());else{var t=this;Stripe.card.createToken(s("#payment-form"),function(i,s){s.error?t.showUploadError(e,s.error.message):t.submitUpload(e,s.id)})}},submitUpload:function(e,t){var i={url:this.model.get("document_url"),target_language:this.$("#language").val(),category:this.$("#category").val(),cost:this.model.get("cost"),stripe_object:t};this.model.get("can_prioritize")&&(i.priority=parseInt(this.$("#priority").val(),10)),null===this.model.get("custom_html")&&(s.extend(i,{plaintext:this.model.get("text"),title:this.model.get("title"),image_url:this.model.get("image_url"),url:this.model.get("document_url")}),this.model.image_url&&(i.image_url=this.model.image_url));var a=this,l=new r(i);l.save(i,{success:function(t,i){l.get("success")?(o.track("upload_document",{translation_id:i.translation_id,source_language:i.source_language,target_language:i.target_language}),duo.selfServiceRouter.navigate("",!0)):l.get("translation_id")?a.showUploadError(e,n("This translation job already exists.")):(a.model.set({upload_failed:!0,upload_failure_reason:l.get("failure_reason")}),a.showUploadError(e,s.duostache("{{#_ivar}}upload_failure_reason{{/_ivar}}",{upload_failure_reason:l.get("failure_reason")})))},error:function(){a.showUploadError(e,n("Upload interrupted."))}})},showUploadError:function(e,t){this.$(".input-step, .prev-step").removeClass("inactive"),this.$("#stripe-button").removeAttr("disabled").html(e),this.$("#payment-errors").html(t+" "+n("(You have not been charged.)")).show()}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=(i(6),i(512));e.exports=n.View.extend({id:"progress-bar",template:o,initialize:function(){this.model.on("grade",this.graded,this),this.model.on("continue",this.continued,this),this.model.on("change:timed",this.changeIsTimed,this),this.model.on("change:use_strength",this.render,this),this.model.on("change:strength_fraction",this.updateStrength,this),this.model.on("change:position",this.updateChallengeNum,this),this.model.get("session_elements").on("remove",this.elementRemoved,this),this.challenge_number=1},render:function(){var e=a.size(this.model.get("session_elements"));this.model.set({elements:a.range(1,e+1)}),this.$el.html(s.duostache(this.template,a.extend({},this.model.toJSON(),{elements:a.range(1,e+1),challenge_num:this.challenge_number})));for(var t=0;t<this.model.get("position");t++)this.$(".nothing:first").removeClass("nothing").addClass("done");return this},graded:function(){var e=this.model.currentElement(),t=this.model.getSubmittedSolution();this.challenge_number+=1;var i=!1;if(!e||"speak"!==e.get("type")&&"reverse_speak"!==e.get("type")||(i=t.get("mic_off")||t.get("skipped")||t.get("incorrect")||!t.get("correct")),this.model.get("is_preview")){var s=a.size(this.model.get("session_elements")),n=(this.challenge_number-1)/s;this.model.set("strength_fraction",n)}else this.model.get("use_strength")&&!i&&this.model.updateStrength(e,t.get("correct"),t.get("error_info"),e.get("hovered_lexeme_ids"));e&&("title"===e.get("type")||"name"===e.get("type")&&e.get("example"))||t.isDone()&&1==this.model.getNumberSubmittedSolutionsForCurrentElement()&&this.$(".nothing:first").removeClass("nothing").addClass("done")},continued:function(){var e=this.model.previousElement();e&&("title"===e.get("type")||"name"===e.get("type")&&e.get("example"))&&this.$(".nothing:first").removeClass("nothing").addClass("done");
},elementRemoved:function(e,t){this.$(".nothing:last").remove()},changeIsTimed:function(){this.model.isTimed()&&this.model.set("use_strength",!1)},updateStrength:function(){var e=this.$(".progress-bar-dynamic .bar"),t=this.model.get("strength_fraction");if(0>=t)e.animate({opacity:0},50),e.width("0px"),this.$(".bubbles").fadeOut(),this.$(".triangle-end").hide(),this.$(".icon-lightning-green").addClass("opacity-0").removeClass("bounce-in");else if(e.css({opacity:1}),e.width(100*t+"%"),duo.user.get("ab_options").web_strength_v2_experiment&&.06>t&&e.width("6%"),this.$(".bubbles").fadeIn(),this.$(".triangle-end").show(),this.$(".icon-lightning-green").addClass("bounce-in").removeClass("opacity-0"),t>=1){duo.user.get("ab_options").web_strength_v2_experiment&&(e.width("101.0%"),this.$(".progress-bar-dynamic.v2 .bar").addClass("bar-border-radius"));var i=this,a=function(){i.$(".finished-skill").show(),i.$(".bubbles",".backing").fadeOut();var e=i.model.get("global_practice")?"bg-blue":"bg-"+i.model.get("skill_color");i.$(".challenge-num-circle").addClass(e).removeClass("white"),i.$(".challenge-number-container").addClass("filled")};void 0!=s.support.transition?e.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(e){a()}):a()}},updateChallengeNum:function(){this.$(".challenge-num").text(this.challenge_number)}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(4),r=i(20),l=(i(6),i(496));e.exports=n.View.extend({id:"awesome-modal",template:l,className:"hidden",events:{"click .continue":"hideModal","click #facebook-post-action:not(.shared)":"postFacebook","change #fb-auto-post":"changeAutoPost","keyup #fb-auto-post":"changeAutoPost","click .share":"showShareDropdown","click .btn-take-test":"takeTest"},initialize:function(e){this.options.skipToAwesome||this.options.tcBigBoss||this.model.bind("change",this.render,this),this.can_now_comment=e.can_now_comment},render:function(){a.defer(function(){window.twttr&&twttr.widgets&&twttr.widgets.load()});var e=this.model.get("ui_language"),t="en"===e?"www":o.languageAbbrevToId(e);if(this.options.skipToAwesome)this.model.set({finished_tree:!0},{silent:!0}),this.$el.html(s.duostache(this.template,{finished_tree:!0,ui_language:e,language:this.model.get("learning_language"),language_string:this.model.get("learning_language_string"),subdomain_prefix:t}));else if(this.options.tcBigBoss)this.model.set({finished_tree:!0},{silent:!0}),this.$el.html(s.duostache(this.template,{tc_big_boss:!0,test_dollars:49,review_hours:48}));else{var i=duo.user.getSkills().skills,n=this.model.has("learned_skills")&&this.model.get("learned_skills").length&&i.checkFinished(),l="en"===duo.user.get("learning_language")&&i.checkLastRowFinished()&&"experiment"===r.getConditionAndTreat("web_tc_big_boss_experiment","show_finished_modal");this.model.set({finished_tree:n},{silent:!0}),this.$el.html(s.duostache(this.template,a.extend(this.model.toJSON(),{num_unlocked:this.model.has("unlocked_skills")?this.model.get("unlocked_skills").length:null,learned:this.model.has("learned_skills")&&this.model.get("learned_skills").length,index:this.model.get("learned_skills")&&this.model.get("learned_skills").length>0?this.model.get("learned_skills")[0].index:null,auto_facebook_post:duo.user.get("auto_facebook_post"),learned_short_list:o.createShortList(this.model.get("learned_skills")),unlocked_short_list:o.createShortList(this.model.get("unlocked_skills")),can_now_comment:this.can_now_comment&&!duo.user.get("trial_account"),subdomain_prefix:t,tc_big_boss:l,test_dollars:49,review_hours:48}))),duo.user.get("auto_facebook_post")&&this.autoPostFacebook()}},hideModal:function(){this.$el.modal("hide"),this.remove()},postFacebook:function(){if(window.FB){var e=this;o.track("facebook share click"),FB.login(function(t){if(t.authResponse&&(e.postToFacebook(t.authResponse),!duo.user.get("facebook_id"))){var i=t.authResponse.userID;s.post("/facebook_connect",{facebook_id:i,facebook_friends:"[]",auto_follow:!1}),duo.user.set({facebook_id:i})}},{scope:"publish_actions"})}},autoPostFacebook:function(){if(window.FB){var e=FB.getAuthResponse();e&&(o.track("facebook auto post"),this.postToFacebook())}},postToFacebook:function(){if(this.$("#facebook-post-action").addClass("shared").text(this.$("#facebook-post-action").data("shared")).attr("disabled","disabled"),this.model.get("finished_tree")){var e=duo.debug?"og_debug":"og",t=this.model.get("language")||this.model.get("learning_language"),i={language:"http://www.duolingo.com/"+e+"/"+t,"fb:explicitly_shared":!0};o.postFacebookAction(duo.fb_app,"conquer",i)}else if(this.model.has("level_event")){var e=duo.debug?"og_debug":"og",i={level:"http://www.duolingo.com/"+e+"/"+this.model.get("language")+"/"+this.model.get("level_event").new_level,"fb:explicitly_shared":!0};o.postFacebookAction(duo.fb_app,"reach",i)}o.track("facebook shared")},changeAutoPost:function(){var e=this.$("#fb-auto-post").is(":checked");o.track("toggle auto post",{new_value:e}),e&&this.$("#facebook-post-action").click(),duo.user.save({auto_facebook_post:e})},takeTest:function(){o.track("tc_big_boss_button_click"),window.open("https://testcenter.duolingo.com/test","_blank")},showShareDropdown:function(){this.$(".dropdown-menu").toggle()}})},function(e,t,i){var s=i(1),a=i(2),n=i(4),o=i(8),r=i(447);e.exports=o.extend({template:r,events:{"click .persistent-notification .close":"dismissNotification","click .persistent-notification .dismiss":"dismissNotification","click .persistent-notification.net_promoter .feedback-widget>ul>li":"trackNetPromoter","click .persistent-notification #get-chrome-app":"getChromeApp"},initialize:function(e){this.messages=a.filter(e.messages,function(e){return duo.user.get("trial_account")?!1:("toefl_study"!=e||duo.user.get("ab_options").toefl_study_notification_experiment)&&("chrome_app_ad"!=e||window.chrome&&window.chrome.app&&!window.chrome.app.isInstalled)?!a.contains(["duolingo_for_schools","lesson_strength_bar","new_years_resolution","t13n_toggle"],e):!1});var t=["new_tree_change_v2","schools_ad"],i=this;this.current_message=a.find(t,function(e){return i.messages.indexOf(e)>-1})||this.getRandomMessage(),this.message_data={},e.message_data&&(this.message_data=e.message_data)},getRandomMessage:function(){return this.messages.length>0?a.shuffle(this.messages)[0]:null},getHtml:function(e){if(e){var t=a.extend(this.message_data,{message:e});return t[e]=!0,s.duostache(this.template,t)}return""},render:function(){return this.$el.html(this.getHtml(this.current_message)),this.current_message?"schools_ad"===this.current_message&&n.track("schools_ad",{action:"render"}):this.$el.removeClass("message"),this},dismissNotification:function(){a.contains(this.messages,this.current_message)&&("net_promoter"===this.current_message?n.track("net_promoter",{dismiss:!0}):"chrome_app_ad"===this.current_message?n.track("chrome_app_ad",{action:"dismiss"}):"schools_ad"===this.current_message&&n.track("schools_ad",{action:"dismiss"}),duo.user.dismissNotification(this.current_message),this.nextMessage())},nextMessage:function(){if(a.contains(this.messages,this.current_message)){this.messages=a.without(this.messages,this.current_message);var e=this.getRandomMessage();e||this.$el.removeClass("message"),this.$el.animate({opacity:0},a.bind(function(){this.current_message=e,this.message_data={},this.$el.html(this.getHtml(e)).css({opacity:""})},this))}},trackNetPromoter:function(e){var t=Number(s(e.target).data("score"));n.track("net_promoter",{npscore:t,npcategory:t>=9?"promoter":6>=t?"detractor":"passive"}),duo.user.dismissNotification("net_promoter");var i=this.$(".persistent-notification");i.children(":not(.hidden)").css("visibility","hidden"),i.children().removeClass("hidden"),a.delay(a.bind(function(){this.nextMessage()},this),400)},getChromeApp:function(e){return chrome.webstore.install(void 0,a.bind(function(){n.track("chrome_app_ad",{action:"success"}),this.nextMessage()},this),function(){n.track("chrome_app_ad",{action:"abort"})}),!1}})},function(e,t,i){"use strict";var s=i(1),a=i(2),n=i(3),o=i(553);e.exports=n.View.extend({template:o,initialize:function(e){this.is_splash=e.is_splash;var t=["en","es","pt","fr","it","ru","de","ar","hi","zs","tr","pl","hu","vi","ja","ro","cs","dn","ko","uk","id","el"],i=a.indexBy(duo.ui_languages,"language");delete i[duo.browser_language];for(var n=[],o=0;o<t.length;o++){var r=t[o],l=i[r];"undefined"!=typeof l&&(delete i[r],n.push({language:r,id:l.id,label:l.label}))}s.each(i,function(e,t){n.push({language:e,id:t.id,label:t.label})}),this.ui_languages=n,this.tc_language=a.contains(duo.tc_ui_languages,duo.browser_language)?duo.browser_language:""},render:function(){this.$el.html(s.duostache(o,{is_splash:this.is_splash,language_id:duo.browser_language_id,path:window.location.pathname,tc_language:this.tc_language,troubleshooting_id:duo.troubleshooting_id,ui_languages:this.ui_languages}));var e=this;return a.defer(function(){e.$(".footer-language-options a").click(function(e){e.preventDefault(),duo.switchLanguage(s(this).data("abbrev"))})}),this}})},function(e,t){e.exports='<div id="blame-1" class="popover above blame-popover animated slide-in"><div class="inner"><div class="icon-warning"></div></div></div> '},function(e,t,i){e.exports='<div id="context-view"></div>{{^use_strength}}<header class="player-header">{{#can_transliterate}}<div id="t13n-toggle-container">'+i(190)+'</div>{{/can_transliterate}}<div id="progress-bar"></div><ul class="player-header-right" style="">{{^session_failed}}<li><a class="player-quit" style="cursor:pointer;" id="quit-button">{{#welcome}}{{^no_direction}}{{#_i}}Skip tour{{/_i}}{{/no_direction}}{{/welcome}}{{^welcome}}{{#_i}}Quit{{/_i}}{{/welcome}}</a></li>{{/session_failed}}{{^points_per_correct}}{{#explanation}}<li id="explanation"></li>{{/explanation}}{{/points_per_correct}}{{#points_per_correct}}<li class="points"><span class="icon icon-xp-small"></span><span id="point-count"></span></li>{{/points_per_correct}}{{#timed}}{{#owned_timed_practice}}<li class="timer" id="timer"></li>{{/owned_timed_practice}}{{/timed}}{{^points_per_correct}}{{#heart_refill}}<li id="heart-refill-container" style="display:none;"><div id="heart-refill" class="btn btn-standard btn-outline">{{#_i}}Refill heart{{/_i}}</div></li>{{/heart_refill}}{{/points_per_correct}}<li class="hearts-container"><div id="hearts"></div></li></ul></header>{{/use_strength}}{{#use_strength}}<header class="player-header dynamic {{#web_strength_v2_experiment_true}}v2{{/web_strength_v2_experiment_true}}">{{^web_strength_v2_experiment_true}}<ul class="player-header-left" style="">{{#explanation}}<li id="explanation" class="tip-and-notes"></li>{{/explanation}}{{#can_transliterate}}<li id="t13n-toggle-container">'+i(190)+'</li>{{/can_transliterate}}</ul>{{/web_strength_v2_experiment_true}}<ul class="player-header-right">{{#web_strength_v2_experiment_true}}{{#explanation}}<li id="explanation"><li>{{/explanation}}{{/web_strength_v2_experiment_true}}<li><a class="player-quit" style="cursor:pointer;" id="quit-button">{{#web_strength_v2_experiment_true}}<span class="icon icon-x-gray"></span>{{/web_strength_v2_experiment_true}}{{#_i}}Quit{{/_i}}</a></li></ul><div class="progress-bar-container"><div id="progress-bar"></div></div></header>{{/use_strength}} '},function(e,t){e.exports='{{^deactivated}}<a href="/{{username}}" class="avatar avatar-micro" title="{{username}}">{{#avatar}}<img src="{{avatar}}/medium">{{/avatar}}{{^avatar}}<img src="//www.duolingo.com/avatars/{{id}}/medium" class="avatar">{{/avatar}}<span class="ring"></span></a>{{/deactivated}}{{#deactivated}}<span class="has-twipsy avatar-micro" title="{{#_i}}[deactivated user]{{/_i}}"><img src="//www.duolingo.com/avatars/deactivated_user/small" class="avatar"></span>{{/deactivated}} '},,,,function(e,t,i){var s=i(399),a=i(1),n=i(2),o=i(294),r=0,l=function(e){return e===r};t.isCurrentElementJSONVersion=l;var d="languageTokensMap",c=function(e){var t=o.getItem(d);if(!n.isNull(t))return t[e]},u=function(e,t){var i={isPriority:!0},s=o.getItem(d);n.isNull(s)&&(s={}),s[e]=t,o.setItem(d,s,i)};t.storeLanguageTokens=u;var h=function(e,t){var i=c(e);if(n.isUndefined(i)||n.isEmpty(i)){var s={language:e};t=n.isUndefined(t)?!1:t,a.ajax({async:t,method:"GET",url:"/api/1/get_language_tokens",data:s,success:function(t){i=t.tokens,u(e,i)},error:function(){i=[]}})}return i};t.fetchLanguageTokens=h;var g=function(e,t){return"sessionGradingData_"+e+"_from_"+t},p=function(e,t){var i=o.getItem(g(e,t));if(!n.isNull(i))return i};t.fetchGradingDataFromLocalStorage=p;var _=function(e,t,i){var s={isPriority:!0};o.setItem(g(e,t),i,s)};t.storeGradingData=_;var m={Accent:["accent",1e-12],Typo:["typo",1e-6],MissingSpace:["missing_space",.001],ExtraSpace:["extra_space",.002],MissingWord:["missing_word",.6],WrongWord:["wrong_word",.6]},v=[m.Accent,m.Typo,m.MissingSpace,m.ExtraSpace,m.MissingWord,m.WrongWord];t.BlameEnum=m;var f=.5,b=1,w=function(e,t){var i=t.toLowerCase();return n.each(e,function(e){var t=e[0];t=new RegExp(t,"g");var s=e[1];i=i.replace(t,s)}),i};t.simpleLenientCompareString=w;var y=function(e,t,i,a,o){var r=new s(function(e,t){return e[0]===t[0]?e[1]-t[1]:e[0]-t[0]});r.push([0,0,[],e]);var l=[];l.contains=function(e){return n.some(this,function(t){return n.isEqual(t,e)})};for(var d=1;r.size()>0;){var c=r.pop(),u=c[0],h=c[2],g=c[3];if(!l.contains(g)){if(l.push(g),o&&u>o)return[null,null];if(t(g))return[h,u];n.each(i(g),function(e){var t=e[0],i=e[1],s=a(t);if(0>s)throw Error("Negative weight edge in solution DAG");var n=h.concat([[g,t]]);r.push([u+s,d,n,i]),d+=1})}}return[null,null]},k=function(e,t,i){if(n.isUndefined(i)&&(i=function(e,t){return e===t}),Math.abs(e.length-t.length)>1)return 2;if(t.length>e.length){var s=e;e=t,t=s}for(var a=e.length,o=t.length,r=0;o>r&&i(e[r],t[r]);)r+=1;if(r===o)return a>o?1:0;for(var l=0;o>l&&i(e[a-1-l],t[o-1-l]);)l+=1;return r+l+1>=a?1:a===o&&a>r+1&&i(e[r],t[r+1])&&i(e[r+1],t[r])&&r+l+2===a?1:2};t.cappedEditDistance=k;var x=function(e,t,i){var s=function(e,t){return(i[e]||e)===(i[t]||t)};return k(e,t,s)};t.cappedEditDistanceIgnoringAccents=x;var $=function(e,t,s,a){var o=w(t,a),r=e.version;if(!l(r))throw Error("Client-side grading version ["+VERSION+"] is not equal to server-side version ["+r+"]");var d=e.language,c=e.vertices,u=e.whitespace_delimited;u=n.isUndefined(u)?!0:u;var h=i(249),g=new h({language:d,vertices:c,submittedValue:o,isWhitespaceDelimited:u,accentedCharacterMap:s}),p=y(g.startState(),g.isEndState,g.iterEdges,g.edgeWeight,b),_=p[0],m=p[1];if(n.isNull(_))return[!1,null,null,null];var k=f>=m,x={},$="";n.each(_,function(e){var t=e[1],i=t.type;i=n.isUndefined(i)?"correct":i;var s=t.orig;if(s=n.isUndefined(s)?t.lenient:s,"correct"!==i){var a=$.length,o=a+s.length;"missing_word"===i&&s.endsWith(" ")&&(o-=1);var r=x[i];r=n.isUndefined(r)?[]:r,r.push([a,o]),x[i]=r}$+=s});var S=[],T=[];n.each(v,function(e){S.push(e[0]),T.push(e[1])});var C=n.object(S,T),D=null;n.isEmpty(x)||(D=n.max(n.keys(x),function(e){return C[e]}));var E=x[D];return E=n.isUndefined(E)?null:E,[k,$,D,E]};t.grade=$},function(e,t,i){var s=i(3);e.exports=s.Model.extend({isOpener:function(){return"translate"===this.get("type")&&this.get("unknown")},getDisplayText:function(){return this.has("text")?this.get("text"):this.has("sentence")?this.get("sentence"):this.get("hint")}})},function(e,t,i){var s=i(3),a=i(1);e.exports=s.Model.extend({urlRoot:"/translate_jobs",parse:function(e){return e},cancel:function(){var e=this;a.post(this.urlRoot+"/"+this.get("id")+"/cancel",function(t){e.set(t)})},approve:function(){var e=this;a.post(this.urlRoot+"/"+this.get("id")+"/approve",function(t){e.set(t)})},reject:function(e){var t=this;a.post(this.urlRoot+"/"+this.get("id")+"/reject",{reason:e},function(e){t.set(e)})},save_revision:function(e){var t=this;a.post(this.urlRoot+"/"+this.get("id")+"/revision",{data:e},function(e){t.set(e)})},export_text:function(){window.location=this.urlRoot+"/"+this.get("id")+"/export"},send_email:function(e){a.post(this.urlRoot+"/"+this.get("id")+"/send",{},function(t){t.sent?e.html("Done!"):e.html("ERROR: "+t.error)})}})},function(e,t,i){var s=i(11),a=i(419);e.exports=s.extend({template:a})},function(e,t,i){var s=i(11),a=i(180);e.exports=s.extend({template:a})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(4),r=i(420);i(119),i(15),i(7);e.exports=n.View.extend({template:r,events:{"click .post-event-comment":"postComment","click .post":"onCommentBox","focus .post":"onCommentBox"},initialize:function(){this.collection=this.model.get("comments"),this.collection.bind("sync",this.render,this)},render:function(){this.$el.html(s.duostache(this.template,{is_blocked:this.model.isBlocked(),read_only_stream:this.options.read_only_stream,comments:this.collection.toJSON(),has_comments:this.collection.length>0,id:this.model.id,can_comment:duo.user&&duo.user.metSocialXPThreshold()})),duo.user&&(this.$(".post").vkeyboard({language:duo.user.get("learning_language"),placeholder:this.$("#vkeyboard-placeholder"),toggle_button:this.$("#toggle_vkeyboard"),shown:!1,caps:!1}),this.$(".search-box").wordLookup({source_language:duo.user.get("ui_language"),target_language:duo.user.get("learning_language"),id:this.model.id,callback:this.lookedupWord,callback_context:this}));var e=this;a.defer(function(){e.$("label").inFieldLabels(),e.$("textarea").autosize()})},postComment:function(){var e=s.trim(this.$(".post").val());e.length>0&&(this.collection.create({message:e,wait:!0}),o.track("post_activity_comment",{event_type:this.model.get("event_type")}))},onCommentBox:function(){return this.$(".post-footer").show(),this.$(".post").addClass("focus"),!0},lookedupWord:function(){o.track("post_hints_lookup")}})},function(e,t,i){var s=i(11),a=i(424);e.exports=s.extend({template:a})},function(e,t,i){var s=i(11),a=i(425);e.exports=s.extend({template:a,getRenderData:function(){var e=s.prototype.getRenderData.call(this);return e.just_one=1===this.model.get("count"),e}})},function(e,t,i){var s=i(11),a=i(426);e.exports=s.extend({template:a})},function(e,t,i){var s=i(36),a=i(427);e.exports=s.extend({template:a})},function(e,t,i){var s=i(11),a=i(428);e.exports=s.extend({template:a})},function(e,t,i){var s=i(2),a=i(11),n=i(429);e.exports=a.extend({template:n,getRenderData:function(){var e=0,t=this.model.has("skills")&&this.model.get("skills").length>0;return e=t?s.reduce(this.model.get("skills"),function(e,t){return e+t.improvement},0):10,s.extend(a.prototype.getRenderData.call(this),{refresh:t,total_improvement:e})}})},function(e,t,i){var s=i(2),a=i(11),n=i(431);e.exports=a.extend({template:n,getRenderData:function(){var e=duo.user&&(this.model.get("for_user").id==duo.user.id||this.model.get("user").id==duo.user.id||duo.user.get("admin")||duo.user.get("global_moderator"));return s.extend(a.prototype.getRenderData.call(this),{processed_text:this.replaceURLs(this.model.get("text")),deletable:e,stream_post:!0,can_comment:duo.user&&duo.user.metSocialXPThreshold()})},replaceURLs:function(e){var t=/\b(?:(?:https?|ftp):\/\/|www\.)(?:\([-A-Z0-9+&@#\/%=~_|$?!:,.]*\)|[-A-Z0-9+&@#\/%=~_|$?!:,.])*(?:\([-A-Z0-9+&@#\/%=~_|$?!:,.]*\)|[A-Z0-9+&@#\/%=~_|$])/gi;return e.replace(t,function(e){var t=0===e.indexOf("http")?e:"http://"+e;return'<a href="'+t+'" class="blue-link" target="_blank">'+e+"</a>"})}})},function(e,t,i){var s=i(2),a=i(11),n=i(36),o=i(432);e.exports=n.extend({template:o,getRenderData:function(){var e=this.model.has("skills")?this.model.get("skills").length:0;return s.extend(a.prototype.getRenderData.call(this),{any_unlocked:this.model.has("unlocked")&&this.model.get("unlocked").length>0,unlocked_string:s.pluck(this.model.get("unlocked"),"title").join(", "),num_skills:e,shortcut:e>1})}})},function(e,t,i){var s=i(2),a=i(11),n=i(433);e.exports=a.extend({template:n,getRenderData:function(){var e=0;return this.model.has("skills")&&(e=s.reduce(this.model.get("skills"),function(e,t){return e+t.improvement},0)),s.extend(a.prototype.getRenderData.call(this),{total_improvement:e,disable_upvotes:!0})}})},function(e,t,i){var s=i(11),a=i(434);e.exports=s.extend({template:a})},function(e,t,i){var s=i(2),a=i(435),n=i(11),o=i(36);e.exports=o.extend({template:a,getRenderData:function(){var e=this.model.get("skills").length;return s.extend(n.prototype.getRenderData.call(this),{any_unlocked:this.model.get("unlocked").length>0,unlocked_string:s.pluck(this.model.get("unlocked"),"title").join(", "),icon_index:e>0?this.model.get("skills")[e-1].new_index:1,icon_color:e>0?this.model.get("skills")[e-1].icon_color:"red",skill_title:e>0?this.model.get("skills")[e-1].title:null,multiple_unlocked:this.model.get("skills").length>1})}})},function(e,t,i){var s=i(11),a=i(436);e.exports=s.extend({template:a})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(23),r=i(146);i(7);e.exports=r.extend({events:function(){return a.extend({},r.prototype.events,{"click #site-language-btn":"toggleLanguages","click .ui-language-option":"switchLanguage","click .navigate-home":"goToSplash","click .show-log-in":"goToLogIn"})},start:function(){duo.loginRouter.on("all",this.navigate,this),duo.commentRouter.on("all",this.navigate,this),duo.courseRouter.on("all",this.navigate,this),duo.staticRouter.on("all",this.navigate,this)},render:function(){var e=navigator.userAgent,t=duo.isIOS()||void 0,i=duo.isAndroid()||void 0,n=e.match(/iemobile/i)?!0:void 0;this.$el.html(s.duostache(this.template,{ui_language_name:duo.ui_language_name,ui_languages_list:duo.ui_languages,show_login:!0,zs_branding:"zs"===duo.browser_language,can_download_app:t||i||n,ios:t,android:i,windows:n,show_social_signup:!duo.cn_extension}));var o=this;return a.defer(function(){o.$("label").inFieldLabels({periodic:!0})}),this},noTab:function(){this.$(".nav li").removeClass("active")},hideLogin:function(){this.$(".sign-in").hide()},navigate:function(e){this.$(".nav li").removeClass("active"),0===e.indexOf("route:register")||"route:splash"===e||"route:splashLanguage"===e||0===e.indexOf("route:magicLink")?(this.$(".hide-in-splash").hide(),this.$(".topbar").addClass("topbar-blue-dark").removeClass("topbar-blue"),this.$(".nav-footer .icon").addClass("white")):"route"!=e&&(this.$(".hide-in-splash").show(),this.$(".topbar").addClass("topbar-blue").removeClass("topbar-blue-dark"),this.$(".nav-footer .icon").removeClass("white"),"route:mobile"===e?this.$("#mobile-nav").addClass("active"):"route:listComments"===e&&this.$("#questions-nav").addClass("active")),s(document).unbind(".session, .infinite_scroll"),this.$("#login-modal").hide(),"route"==e&&this.trigger("navigate")},toggleLanguages:function(){this.$("#site-language-modal").toggle(),a.defer(function(){s(document).unbind("click.topbar-languages").bind("click.topbar-languages",function(e){var t=s(e.target);t.closest(".dropdown").size()>0||s("#site-language-modal").hide()})})},switchLanguage:function(e){duo.switchLanguage(s(e.currentTarget).data("abbrev")),e.preventDefault()},goToLogIn:function(){this.closeMobileMenu(),n.history.navigate("/",!0),o.trigger("logInClicked")},goToSplash:function(e){s("body").scrollTop()>0&&s("html, body").animate({scrollTop:0},1e3),s("#signup-language, .login").is(":visible")&&o.trigger("closeRegister"),this.closeMobileMenu();var t="/register"==window.location.pathname?void 0:{trigger:!0};n.history.navigate("/",t),e.preventDefault(),e.stopPropagation()}})},function(e,t,i){var s=i(1),a=i(14),n=i(5),o=i(4),r=i(40),l=i(482),d=i(28),c=i(139);e.exports=d.extend({id:"app",template:l,events:{"click .signup-facebook":"signupFacebook","click .signup-google":"signupGoogle","click .login":"switchToSignup","click .sign-up-btn":"switchToSignup","click .log-in":"switchToLogin","click .signup-email":"switchToLogin","click .log-out":"logOutUser","click #login-button":"login","keydown #login-form":"loginKeyInput"},initialize:function(){this.classroom_info=this.options.classroom_info,this.current_view="confirmation"},render:function(){return this.$el.html(s.duostache(this.template,{signup:"signup"===this.current_view,login:"login"===this.current_view,confirmation:"confirmation"===this.current_view,show_mobile_view:s.browser.mobile&&"confirmation"!==this.current_view,user_email:duo.user?duo.user.get("email"):void 0,observer_email:this.classroom_info.observer_email,observer_name:this.classroom_info.observer_email,classroom_name:this.classroom_info.classroom_name,ios:duo.isIOS()||void 0,android:duo.isAndroid()||void 0})),this.signup_view=new c({el:this.$(".signup"),splash_skip_delayed:!0,hide_language_select:!1,magic_link_view:!0,show_mobile_view:s.browser.mobile&&"confirmation"!==this.current_view,classroom_info:this.classroom_info}),this.signup_view.render(),s(".topbar").addClass("no-shadow"),this.$(".user-login").removeClass("hidden"),this},login:function(){var e=this,t=this.gatherInput("#login-form");a.login(t.login,t.password,t.mixpanel_id).done(function(){o.track("login old id",{login_method:"email",ui_location:"login page"},function(){var t=function(){window.location="/"};r.addObserver(e.classroom_info,{},t,t)},300),e.$("input[type!=submit]").removeClass("error")}).fail(function(){e.$("#message").text(n("Wrong username or password")),e.$("#message").show(),e.$("input[type!=submit]").addClass("error")})},loginKeyInput:function(e){return this.$(".error").removeClass("error"),this.$("#message").hide(),13===e.which?(this.login(),!1):void 0},switchToSignup:function(){this.current_view="signup",this.render()},switchToLogin:function(){this.current_view="login",this.render(),this.$(".login").removeAttr("data-dismiss")},logOutUser:function(){o.logout()},signupFacebook:function(){this.oneClickSignup(o.loginWithFacebook)},signupGoogle:function(){this.oneClickSignup(o.loginWithGoogle)},oneClickSignup:function(e){var t=this;e("magic link register",function(){var e=function(){window.location="/"};r.addObserver(t.options.classroom_info,{},e,e)},function(){var e=function(){window.location="/welcome"};r.addObserver(t.options.classroom_info,{},e,e)})}})},function(e,t,i){var s=i(1),a=i(2),n=i(8),o=i(136),r=i(142);e.exports=n.extend({events:{"click .signup-trial":"showForm","click .signup-language":"showForm","click .signup-facebook":"signupFacebook","click .signup-google":"signupGoogle","click #register-button":"register","click .have-account":"existingLoginMobile"},initialize:function(e){this._form_hidden=!0,this._single_learning_language=this.options.single_learning_language,this.show_magic_register_modal=e.show_magic_register_modal,this.classroom_info=this.options.classroom_info,this.languages_from_ui=[],this.languages_from_en=[],this.courses_teaching_en=[],this._form=this._createForm(e.ui_location),this.needs_a_learning_language=e.needs_a_learning_language||!1},_createForm:function(e){var t={ui_location:e,splash_skip_delayed:this.options.splash_skip_delayed,classroom_info:this.options.classroom_info,magic_link_view:this.options.magic_link_view,hide_language_select:this.options.hide_language_select,email:this.options.email,teacher_register:this.options.teacher_register,hide_username:this.options.teacher_register||this.options.magic_link_view};return duo.user&&duo.user.get("trial_account")?new o(t):new r(t)},render:function(){if(this.$el.html(s.duostache(this.template,{show_form:!this._form_hidden,has_facebook:this._form.hasFacebook(),single_learning_language:this._single_learning_language,languages_from_ui:this.languages_from_ui,one_row:this.languages_from_ui.length<=4,languages_from_en:this.languages_from_en,courses_teaching_en:this.courses_teaching_en,splash_skip_delayed:this.options.splash_skip_delayed,show_mobile_view:!this.options.teacher_register&&s.browser.mobile,hide_social_signup:s.browser.mobile||this.options.hide_social_signup||duo.cn_extension,google_only:this.options.google_only,magic_link_view:this.options.magic_link_view,show_magic_register_modal:this.show_magic_register_modal,teacher_register:this.options.teacher_register,needs_a_learning_language:this.needs_a_learning_language})),this.options.magic_link_view){var e=duo.browser_language,t=a.filter(duo.available_languages,function(t){return t.from_language==e}),i=this.classroom_info.learning_language_abbrev;if(i&&a.find(t,function(e){return e.learning_language===i}))this._form.prefill({ui_language:e,learning_language:i,hide_language_select:!0});else{var n=t[0],o=n?n.learning_language:void 0;this._form.prefill({ui_language:e,learning_language:o})}}return this.show_magic_register_modal&&this._form.prefill({ui_language:duo.user.get("ui_language"),learning_language:duo.user.get("learning_language")}),this._form.render(),this.$("#register-form-container").append(this._form.el),this},doNotAnimate:function(){this._form_hidden=!1},doAnimate:function(){this._form_hidden=!0},showForm:function(){},hideForm:function(){},showPrefilled:function(e){this._form.prefill(e),this.showForm()},showForm:function(e){this._form.clearSocialLogin(),this.showForm()},signupFacebook:function(e){var t=this;t._form.fillWithFacebook(function(){window.location.href="/"},function(){t.showForm()})},signupGoogle:function(){},register:function(){this._form.register()},existingLoginMobile:function(){this._form_hidden=!0,s("body").animate({scrollTop:0},250,function(){s("#signup-main:visible, #signup-language:visible").fadeOut(250,function(){s(".login").fadeIn()})})}})},function(e,t,i){var s=(i(1),i(2)),a=(i(3),i(86)),n=i(456);e.exports=a.extend({id:"register-view",template:n,events:s.extend({},a.prototype.events,{"hidden #signup-modal":"doAnimate"}),showForm:function(){this._form_hidden?(this.render(),this.$("#signup-modal").modal("show")):(this.$("#signup-modal").removeClass("fade").modal("hide"),this.render(),this.$("#signup-modal").removeClass("fade").modal("show").addClass("fade")),this._form_hidden=!1}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(479),r=i(4),l=i(480);e.exports=n.View.extend({template:o,id:"app",last_code:null,events:{"keyup #code":"codeChanged","change #code":"codeChanged","blur #code":"onBlur"},initialize:function(){r.track("schools_join_home")},render:function(){return this.delegateEvents(),this.$el.html(s.duostache(this.template)),this.$("#code").focus(),this},renderErrorMessage:function(e){this.$(".messages").html(s.duostache(l,{too_short:"too_short"===e,too_long:"too_long"===e,invalid_code:"invalid_code"===e}))},renderSuccessMessage:function(e,t){this.$(".messages").html(s.duostache(l,{success:!0,classroom_name:e,observer_email:t}))},onBlur:function(){var e=this.$("#code").val();return e.length>0&&e.length<6?this.renderErrorMessage("too_short"):e.length>8&&this.renderErrorMessage("too_long"),!1},codeChanged:function(){var e=this.$("#code").val();this.$("#code").focus(),e!==this.last_code&&(this.last_code=e,this.$("#join-button").addClass("disabled"),this.$(".messages").html(""),e.length>=6&&e.length<=8&&this.lookupCode(e))},setJoinButtonTarget:function(e){r.track("schools_join_correct_code"),this.$("#join-button").prop("href","https://duolingo.com/o/"+e)},clear:function(){this.$("#code").val(""),this.codeChanged()},getClassroomInfo:function(){return this.classroom_info},lookupCode:a.debounce(function(e){var t=this;s.get("/api/1/observers/get_observer_for_code",{link_code:e}).always(function(i,s){e===t.$("#code").val()&&("success"===s?(t.classroom_info=i,t.$("#join-button").removeClass("disabled"),t.renderSuccessMessage(i.classroom_name,i.observer_email),t.setJoinButtonTarget(e)):t.renderErrorMessage("invalid_code"))})},300)})},function(e,t,i){var s=i(1),a=i(3),n=i(5),o=i(23),r=i(4),l=(i(20),i(6),i(24).createModal),d=i(497);e.exports=a.View.extend({id:"app",className:"create-profile-nag",template:d,events:{"click .create":"createProfile","click .later":"callCallback","click .discard":"discard"},initialize:function(e){this._callback=e.callback||function(){},this.is_hard=e.is_hard||!1,this.in_player=e.in_player||!1},render:function(){return this.$el.html(s.duostache(this.template,{in_player:this.in_player,is_hard:this.is_hard})),this},createProfile:function(){this.hideAndRemoveModal(),o.trigger("registerDelayed")},callCallback:function(){this.hideAndRemoveModal(),
this._callback()},discard:function(){l({type:"custom_type",title:n("Discard your progress?"),message_type:"custom_message",message:n("This will reset all of your progress and cannot be undone."),okay_text:n("Discard"),cancel_text:n("Cancel"),callback:function(){r.logout()}})},hideAndRemoveModal:function(){this.in_player||(this.$(".modal").modal("hide"),this.$el.remove())}})},function(e,t,i){var s=i(1),a=i(3),n=(i(6),i(516));e.exports=a.View.extend({id:"explanation",tagName:"li",template:n,events:{click:"toggle","click .close":"close"},render:function(){this.$el.html(s.duostache(this.template,this.model.toJSON()));return this},toggle:function(){this.$(".popover").toggle()},close:function(){return this.$(".popover").hide(),!1}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=(i(6),i(518));e.exports=n.View.extend({template:o,initialize:function(e){this.model.initializeHearts(e.num_hearts),this.model.on("grade",this.graded,this),this.model.on("hovered",this.onHover,this)},render:function(){return this.$el.html(s.duostache(this.template,a.extend(this.model.toJSON(),{fraction_hearts:this.getFractionHearts()}),{},!0)),this},graded:function(){var e=this.model.currentElement(),t=this.model.getSubmittedSolution();t.get("remove_heart")!==!1&&!e.get("example")&&t.isDone()&&1==this.model.getNumberSubmittedSolutionsForCurrentElement()&&(t.isCorrect()||this.adjustHearts(-1))},onHover:function(e,t,i){duo.user.get("ab_options").hover_heart_experiment&&!i&&this.adjustHearts(-.25)},adjustHearts:function(e){var t=this.model.get("num_hearts"),i=this.model.adjustHearts(e);"heart_refill"in duo.user.get("inventory")&&0>e&&s("#heart-refill-container").fadeIn(),0>i&&this.model.set({state:"failed"});var a="#heart-"+parseInt(t);e>0&&(a="#heart-"+parseInt(i));e>0?this.$(a).removeClass("falling-heart"):this.$(a).addClass("falling-heart")},getFractionHearts:function(){var e=this.model.get("num_hearts"),t=parseInt(Math.floor(e)),i=e-t,s=t;if(i>0)switch(s+=" ",i){case.25:s+="¼";break;case.5:s+="½";break;case.75:s+="¾"}return s}})},function(e,t,i){var s=i(1),a=i(96),n=i(506);e.exports=a.extend({id:"app",className:"slide-session-end",template:n,render:function(){return this.$el.html(s.duostache(this.template,this.model.toJSON())),this}})},function(e,t,i){var s=i(2),a=i(4),n=i(20),o=i(29),r=i(17),l=i(66);e.exports=o.extend({getUserAnswer:function(){},getDisplayTranslation:function(){},continueSkip:function(){return!0},parseLocalSolution:function(e){return e},getSolution:function(e){return this.ses?(this.ses.set({value:e}),this.ses):new r({session_element:this.model,value:e})},gradeServerSide:function(e){var t=this.getSolution(e);this.save(t)},submit:function(){var e=this.getUserAnswer();if(!duo.feature_flags.allow_web_local_grading||"regression_test"===n.getConditionAndTreat("web_local_grading_test2"))return void this.gradeServerSide(e);var t;try{t=this.gradeClientSide(e)}catch(i){}if(s.isUndefined(t))return void this.gradeServerSide(e);var a="local_only"===n.getConditionAndTreat("web_local_grading_test2");if(t.get("correct")||this.session.get("is_trial")||a)this.addGradedSolution(t);else{var o=this.getSolution(e),r=this,l=function(){r.addGradedSolution(t)};this.save(o,{timeout:3e3,error:l})}},gradeClientSide:function(e){var t=this.session.get("grading_data"),i=this.model.get("grading_data");if(!s.isUndefined(t)&&!s.isUndefined(i)){var a=i.language,n=i.version,o=i.vertices,d=t.normalization_data[a],c=t.accented_character_maps[a];if(l.isCurrentElementJSONVersion(n)&&!s.some([o,d,c],function(e){return s.isUndefined(e)})){var u=l.grade(i,d,c,e),h=u[0],g=u[1]||this.getDisplayTranslation(),p=u[2],_=u[3];return _=s.map(_,function(e){return[e,[0,0]]}),this.parseLocalSolution(new r({session_element:this.model,correct:h,incorrect:!h,closest_translation:g,blame:p,highlights:_,value:e,isGradedLocally:!0}))}}},skip:function(){if(this.continueSkip()){var e="",t=new r({session_element:this.model,value:e,skipped:!0});if(!duo.feature_flags.allow_web_local_grading)return void this.save(t);var i;try{i=this.gradeClientSide(e)}catch(a){}if(this.session.get("is_trial"))return void this.addGradedSolution(i);if(s.isUndefined(i))return void this.save(t);i.set({skipped:!0});var n=this,o=function(){n.addGradedSolution(i)};this.save(t,{timeout:3e3,error:o})}},regressionCheck:function(e){var t=e.get("value"),i=this.gradeClientSide(t);if(!s.isUndefined(i)){var n=["correct","blame"],o=s.pick(e.attributes,n),r=s.pick(i.attributes,n);switch(o.blame){case"missing":o.blame=l.BlameEnum.MissingWord[0];break;case void 0:o.blame=null}var d=o.correct===r.correct,c=o.blame===r.blame,u={correctness_matches:d,server_correct:o.correct,local_correct:r.correct,blames_match:c,server_blame:o.blame,local_blame:r.blame,challenge_type:this.model.get("type")};a.track("local grading regression",u),d&&c||e.set({localSolution:i})}}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(5),r=i(4),l=i(502),d=i(18),c=i(155),u=i(42),h=i(67);e.exports=d.extend({events:a.extend({},d.prototype.events,{"click .ready-panel #start-button":"startSession"}),initialize:function(e){var t=window.location.protocol+"//"+window.location.host+n.history.root;duo.sessionURL=document.URL.slice(t.length),this.model.set({placement:!0}),this.challengeHistory=[],this.ready_to_start=!1,this.$el.html(s.duostache(this.template,a.extend(this.model.toJSON(),{can_transliterate:duo.user.getSkills().can_transliterate,transliterate:duo.user.get("transliterate"),requires_ready:!0,placement_test:"placement_test"==this.model.get("type"),certification_test:"certification_test"==this.model.get("type")}))),this.bindEvents(),this.initializeSubViews(e),this.soundEffectsEnabled=duo.user.playEffects()&&soundManager},render:function(){return s("body").addClass("player"),this.ready_to_start?d.prototype.render.call(this):this.$("#session-element-container").html(s.duostache(l,this.model.toJSON())),this},rendered:function(){return this.ready_to_start?d.prototype.rendered.call(this):void 0},startSession:function(){this.ready_to_start=!0,this.$(".ready-panel").remove(),this.$(".action-panel").show(),this.model.set({start_time:new Date}),this.render(),this.checkSound();var e={type:this.model.get("type"),skill_tree_id:this.model.get("skill_tree_id")};r.track("session_start",e)},initializeSubViews:function(e){this.progress_view=new c({model:this.model}),this.$("#progress-bar").replaceWith(this.progress_view.render().el),this.grade_view=new u({model:this.model}),this.$("#grade").replaceWith(this.grade_view.render().el),this.model.incrementPosition(),this.soundEffectsEnabled=duo.user.playEffects()&&soundManager;var t=duo.user.getSkills().notifications;t&&t.t13n_toggle&&duo.user.getSkills().can_transliterate&&duo.user.get("transliterate")&&this.showT13nToggleNotification(t)},graded:function(){d.prototype.graded.call(this,!1);var e=this.model.get("position"),t=this.model.get("session_elements").length,i=this.model.getSubmittedSolution();if(!i.get("try_again")){var a=i.get("session_element"),n=a.get("type"),r=a.get("solution_key"),l=a.get("depth"),c=i.get("correct"),u={type:n,solution_key:r,depth:l,correct:c,total_times_correct:a.get("total_times_correct"),total_times_asked:a.get("total_times_asked")};this.challengeHistory.push(u),e==t-1&&(s("#continue_button").attr("disabled","disabled"),s("#continue_button").text(o("Wait...")),this.changeState("wait",!0),this.getNextElements(0))}},getNextElements:function(e){if(e>3)return void window.alert(o("We're sorry, Duolingo is experiencing problems now. Please try this test again later."));var t=this;s.ajax({url:"/next_session_elements",data:JSON.stringify({type:this.model.get("type"),language:this.model.get("language"),activity_uuid:this.model.get("activity_uuid"),history:this.challengeHistory}),type:"POST",dataType:"json",contentType:"application/json; charset=utf-8",success:function(e){t.model.set({confidence:e.confidence}),a.each(e.session_elements,function(e){t.model.get("session_elements").add(new h(e))}),s("#continue_button").removeAttr("disabled"),s("#continue_button").text(o("Continue")),t.changeState("next",!1)},error:function(i){t.getNextElements(e+1)}})},renderEnd:function(){var e=this;return s(document).unbind(this.getEventClass()),this.model.save({end_time:new Date},{success:function(){return e.model.get("learned_skills").length>0?void e.showEndView():(e.model.set({no_placement:!0}),void e.showFailView())}}),s("#app").removeClass("leave-warning"),window.onbeforeunload=null,this}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(47),r=i(4),l=i(517),d=i(121),c=i(133);e.exports=n.View.extend({id:"app",events:{"click #retry-button, #in-class-retry-button":"retry","click #home-button":"goToHome","click #home-button-reload":"goToHomeWithReload","click .close-fail":"closeFail","click #show-report-options":"reportProblem","click #discussion-toggle":"displayDiscussion","click #too-difficult":"tooDifficult","click #too-easy":"tooEasy","click #submit-suggestion":"sendSuggestionMessage","click #cancel-report":"cancelSuggestion","click #submit-problem":"submitProblem","focus .free-write-box":"checkFreeWrite","click input[type=checkbox]":"checkSubmit"},template:l,initialize:function(e){this.appClasses=e.appClasses,this.progress_view=e.progress_view,this.hearts_view=e.hearts_view,this.explanation_view=e.explanation_view,this.grade_view=e.grade_view,this.elementView=e.elementView,this.loading_comments=!1,this.used_refill=e.used_refill,s(document).unbind(".session").bind("keyup.session",a.bind(this.keyCheck,this)),this.soundEffectsEnabled=duo.user.playEffects()&&soundManager},render:function(){var e={};return e["learning_"+this.model.get("language")]=!0,this.$el.html(s.duostache(this.template,a.extend(this.model.toJSON(),{session_failed:!0,language_vars:e,lingots:duo.user.get("rupees"),in_class:"in_class"==this.model.get("type")}))),"undefined"!=typeof this.progress_view&&this.$("#progress-bar").replaceWith(this.progress_view.el),this.hearts_view&&this.$("#hearts").replaceWith(this.hearts_view.el),this.explanation_view&&this.$("#explanation").replaceWith(this.explanation_view.el),this.$("#grade").replaceWith(this.grade_view.el),this.$el.addClass(this.appClasses),this.soundEffectsEnabled&&(soundManager.stopAll(),soundManager.failedSound&&soundManager.failedSound.play()),this},goToHome:function(){duo.homeRouter.navigate("",!0)},goToHomeWithReload:function(){duo.homeRouter.navigate(""),window.location.reload()},retry:function(){window.location.reload()},closeFail:function(){this.$(".session-end").hide(),this.$("#session-element-container").replaceWith(this.elementView.el),this.elementView.closeFail(),s("#app").attr("class",this.appClasses)},keyCheck:function(e){if(13===e.which){if(s("#report-options").is(":visible")||s("#discussion-modal").is(":visible")||s("body").hasClass("modal-open"))return!0;s(document).unbind(".session"),this.$("#home-button").click()}},reportProblem:function(e){var t=s(e.target);if(t.closest("#report-options").size())return!0;if(s("#report-options").is(":hidden"))s("#report-options").fadeIn(),s(".player-inner").addClass("show-report-stuff");else{var i=this;s(".player-inner").removeClass("show-report-stuff"),s("html, body").animate({scrollTop:0},"slow",function(){i.$("#report-options").fadeOut()})}return!1},displayDiscussion:function(){if(this.$("#discussion-modal").size()>0)return void this.$("#discussion-modal").modal("show");if(!this.loading_comments){this.loading_comments=!0;var e=this,t=new d({id:this.elementView.session.getSubmittedSolution().get("session_element").get("solution_key")});t.fetch({data:{ui_language:this.model.get("ui_language"),learning_language:this.model.get("language")},success:function(i){this.$("#discussion-modal-container").appendTo(document.body);var s=new c({el:this.$("#discussion-modal-container"),correct:e.model.getSubmittedSolution().get("correct"),model:t,ui_language:e.model.get("ui_language"),learning_language:e.model.get("language")});r.track("show sentence comment"),s.render(),e.loading_comments=!1}}),this.$("#discussion-modal").on("hidden",function(){return!1})}},redoChallenge:function(){alert("redo")},sendSuggestionMessage:function(){this.submitSuggestion(this.$(".free-write-box").val(),this.$("#user-solution").val())},submitSuggestion:function(e,t,i,a){if(!this.model.get("is_trial")){var n=this.model.getSubmittedSolution(),l={referer:window.location.href,flashversion:o.installed?o.raw:"",session_element_solution:JSON.stringify(n.toJSON()),user_solution:t,message:e,correct_solutions:JSON.stringify(n.get("correct_solutions")),language:this.model.get("language"),ui_language:this.model.get("ui_language"),report_types:i,free_write_message:a},d=this;r.track("submit suggestion/feedback",{language:this.model.get("language"),ui_language:this.model.get("ui_language"),direction:this.model.get("language")+" <- "+this.model.get("ui_language"),skill_id:this.model.get("skill_id"),solution_key:n.get("solution_key")}),s.post("/diagnostics/language_feedback",l,function(){d.continueLearning(),s("#solution-suggested").show().delay(4500).fadeOut(1e3)})}},submitDifficulty:function(e){var t=this.model.getSubmittedSolution(),i={too_easy:e};r.track("difficulty_feedback",i),s.post("/diagnostics/difficulty_feedback",a.extend(i,{referer:window.location.href,session_element_solution:JSON.stringify(t.toJSON()),language:this.model.get("language"),ui_language:this.model.get("ui_language")}),function(){s("#solution-suggested").show().delay(4500).fadeOut(1e3)})},tooDifficult:function(){s("#too-difficult").hide(),this.submitDifficulty(!1)},tooEasy:function(){s("#too-easy").hide(),this.submitDifficulty(!0)},cancelSuggestion:function(){var e=this;s("html, body").animate({scrollTop:0},"slow",function(){e.$("#report-options").fadeOut()})},continueLearning:function(){this.cancelSuggestion(),this.$(".submit-solution-box").remove()},checkFreeWrite:function(){this.$("#report-options #free-write").prop("checked",!0),this.checkSubmit()},submitProblem:function(){var e="",t=[],i=this,a=null;if(this.$('#report-options input[type="checkbox"]:checked').each(function(){"free-write"==s(this).attr("id")?(t.push("free-write"),a=i.$(".free-write-box").val(),e+="User explanation: "+a+".\n",i.$(".free-write-box").val("")):"translate"==s(this).attr("id")?(t.push("translation"),e+=s(this).val()+"\n"):(t.push(s(this).attr("id")),e+=s(this).val()+"\n"),s(this).prop("checked",!1)}),t=JSON.stringify(t),""!=e){var n=this.model.getSubmittedSolution(),o=s.trim(n.getDisplayText());this.submitSuggestion(e,o,t,a),s("html, body").animate({scrollTop:0},"slow",function(){i.$("#report-options").fadeOut(),i.checkSubmit()})}return!1},getSourceName:function(e){var t={en:"English",es:"Spanish",pt:"Portuguese",fr:"French",de:"German",it:"Italian"};return t[e]},checkSubmit:function(){var e=0;this.$('#report-options input[type="checkbox"]:checked').each(function(){e++}),e>0?this.$("#submit-problem").removeAttr("disabled"):this.$("#submit-problem").attr("disabled","disabled")}})},function(e,t,s){var a=s(1),n=s(2),o=s(3),r=s(22),l=s(4),d=s(5),c=(s(6),s(89)),u=s(57),h=s(158),g=s(519);e.exports=o.View.extend({id:"app",className:"slide-session-end",template:g,events:{"click .carousel-dot":"moveCarousel","click .continue":"onContinue","click .end-continue":"onPractice","click .external-link":"openExternalLink","hover .scroll-wrap":"showOverflow","click #facebook-post-action:not(.shared)":"postFacebook","change #fb-auto-post":"changeAutoPost","keyup #fb-auto-post":"changeAutoPost","click .share":"showShareDropdown","click #show-review-modal":"showReviewModal","click #certify-my-score":"certifyMyScore","click .linkedin-share-fluency":"postLinkedIn","click #in_class_practice_repeat":"repeatInClassPractice"},initialize:function(e){this.skill_strength=e.skill_strength,a(document).unbind(".session"),setTimeout(n.bind(function(){a(document).bind("keyup.session",n.bind(this.keyCheck,this))},this),2e3),this.soundEffectsEnabled=duo.user.playEffects()&&soundManager,this.animated={},this.calendar=l.getCalendar(),this.xp_today=n.find(this.calendar,function(e){return"current"==e.state}).points,this.show_coach_session_end=duo.user.get("daily_goal"),this.can_now_comment=e.can_now_comment},render:function(){var e={};if(this.model.has("points_data")){var t=this.model.get("points_data");e.level_left_before=t.level_left+this.model.get("gained_skill_points");var i=(t.level_progress-this.model.get("gained_skill_points"))/t.level_points;e.level_before_bar_width=Math.max(0,250*i)}null!=this.model.get("words_strengthened")?(n.each(this.model.get("words_strengthened"),function(e){n.extend(e,l.wordStrengthData(e.strength))}),e.num_strengthened=this.model.get("num_words_strengthened")||this.model.get("words_strengthened").length,e.num_strengthened=Math.max(e.num_strengthened,this.model.get("words_strengthened").length),e.more_strengthened=e.num_strengthened-this.model.get("words_strengthened").length):(e.num_strengthened=0,e.more_strengthened=0),e.cn_extension=duo.cn_extension,e.learned=this.model.has("learned_skills")&&this.model.get("learned_skills").length;var s=duo.user.getSkills(),r=e.learned&&s.language==this.model.get("language")&&s.skills.checkFinished();e.home=e.learned||!this.model.has("skill_id")&&!this.model.has("skill_name")||r,e.index=this.model.get("learned_skills").length>0?this.model.get("learned_skills")[0].index:null,e.num_learned=this.model.get("learned_skills").length,e.num_unlocked=this.model.get("unlocked_skills").length,e.has_hearts=this.model.has("hearts")&&!this.model.isTimed()&&!this.model.get("placement"),e.placement_test="placement_test"==this.model.get("type"),e.certification_test="certification_test"==this.model.get("type"),e.practice="practice"===this.model.get("type")||"skill_practice"===this.model.get("type")||"words_practice"===this.model.get("type"),e.skill_practice="skill_practice"===this.model.get("type"),e.word_practice="words_practice"===this.model.get("type"),e.level_rupees=this.model.get("rupee_earnings")?this.model.get("rupee_earnings").level:0;var d=parseInt(Math.ceil(this.model.get("num_hearts")));e["hearts-"+d]=!0,e.showing_rupees_screen=this.model.has("new_rupees"),e.auto_facebook_post=duo.user.get("auto_facebook_post"),e.has_awesome_event=this.model.has("level_event"),e.learned_short_list=l.createShortList(this.model.get("learned_skills")),e.global_practice="practice"==this.model.get("type"),e.old_points_in_level=this.model.get("points_data").level_progress-this.model.get("gained_skill_points"),e.old_points=e.old_points_in_level>0?e.old_points_in_level:0,e.delta_strengths=duo.user.get("delta_strengths"),e.strengthen=duo.user.has("delta_strengths")&&duo.user.get("delta_strengths").length>0||e.learned,e.big_test=this.model.has("big_test"),duo.user.has("delta_strengths")&&duo.user.get("delta_strengths").length>0&&(e.delta_short_list=l.createShortList(duo.user.get("delta_strengths")));var c=duo.mobile_web_view?1:3;e.max_3_learned_skills=e.learned&&this.model.get("learned_skills").length>c?this.model.get("learned_skills").slice(0,c):this.model.get("learned_skills"),e.max_3_strengthened_skills=e.strengthen&&duo.user.has("delta_strengths")&&duo.user.get("delta_strengths").length>c?duo.user.get("delta_strengths").slice(0,c):duo.user.get("delta_strengths"),e.show_coach_session_end=this.show_coach_session_end,e.daily_goal=duo.user.get("daily_goal"),e.old_xp_today=this.xp_today-this.model.get("gained_skill_points"),e.met_goal=e.old_xp_today>=e.daily_goal,e.just_met_goal=!e.met_goal&&this.xp_today>=duo.user.get("daily_goal"),e.streak_extended_today=duo.user.get("streak_extended_today"),this.model.get("percentile")&&duo.user.get("ab_options").web_session_end_par_experiment&&this.model.get("position")&&this.model.get("use_strength")&&duo.in_house_localized&&(e.num_challenges=this.model.get("position")?this.model.get("position")+1:void 0,e.min_challenges="Basics-1"==this.model.get("skill_name")&&1==this.model.get("lesson_number")?14:17,e.perfect_lesson=e.num_challenges==e.min_challenges,e.show_par_experiment=!0),duo.user.get("auto_facebook_post")&&e.learned&&this.autoPostFacebook(),this.model.has("new_fluency_score")&&(duo.user.getSkills().fluency_score=this.model.get("new_fluency_score")),this.model.get("fluency_score_increase")&&(e.new_fluency_score=duo.formatFluencyScore(this.model.get("new_fluency_score")),e.showLinkToTestCenter=this.model.get("fluency_score_show_testcenter"),e.showLinkToLinkedIn=duo.feature_flags.show_linkedin_sharing,e.showFluencySharingLinks=e.showLinkToTestCenter||e.showLinkToLinkedIn);var u=this,h={award_index:0};"certification_test"!=this.model.get("type")&&(e.strengthen&&(h.skill_index=n.size(h)),e.showing_rupees_screen&&(h.lingots_index=n.size(h)),this.model.get("fluency_score_increase")&&(h.tc_index=n.size(h))),n.extend(e,h),e.one_carousel=1==Object.keys(h).length,e.mobile_web_view=duo.mobile_web_view;var g=this.model.get("ui_language"),p="en"===g?"www":l.languageAbbrevToId(g);e.subdomain_prefix=p,this.$el.html(a.duostache(this.template,n.extend(this.model.toJSON(),e))),this.$("#share-footer-button").hide();var _=8e3;this.$("#end-carousel").carousel({interval:_,pause:"false"}),this.$("#end-carousel").bind("slide",n.bind(this.onSlide,this)),this.$("#end-carousel").bind("slid",n.bind(this.onSlid,this)),duo.user.get("trial_account")&&this.updateTrialCookie();var m=this.model.get("language"),v=m+"<-"+g,u=this;return setTimeout(function(){u.animateSlidePanel("award_slide")},500),n.defer(function(){u.show_coach_session_end&&u.drawDailyGoal(),window.twttr&&twttr.widgets&&twttr.widgets.load(),"rtl"==duo.script_direction?this.$("#next-level").css({right:"-70px",top:"-80px",width:"140px"}):this.$("#next-level").css({left:"-70px",top:"-80px",width:"140px"}),(u.model.has("level_event")||r)&&(r&&l.track("tree completed",{course:v}),o.history.once("route",u.showAwesomeEvent,u))}),this},updateTrialCookie:function(){var e=this.model.has("learned_skills")&&this.model.get("learned_skills").length>0&&"lesson"==this.model.get("type");if(e){var t=31536e3;duo.setCookie("skill_finished_"+duo.user.get("learning_language"),!0,t)}},drawpath:function(e,t,i,s,a){var n=e.path(t).attr({stroke:"none",fill:"none"}),o=e.path(n.getSubpath(0,1)).attr(s),r=n.getTotalLength(n),l=(n.getPointAtLength(0),(new Date).getTime()),d=50,c=o,u=setInterval(function(){var e=(new Date).getTime()-l,t=e/i*r,c=n.getSubpath(0,t);s.path=c,o.animate(s,d),e>=i&&(clearInterval(u),void 0!=a&&a(),n.remove())},d);return c},plotProgress:function(){var e="rtl"==duo.script_direction,t=e?20:60,i=60,s=225,o=175,c=n.pluck(this.calendar,"points"),u=n.min(c),h=n.max(c);h*=1.25,u*=.5;var g=10*Math.floor(u/10),p=10*Math.ceil(h/10);this.r=r(a("#progress-line-graph").get(0));var _=[0,1,2,3,4,5,6];e&&(_=_.reverse()),progress_chart=this.r.linechart(t,i,s,o,[_,[0,6]],[c,[g,p]],{smooth:!1,colors:["transparent","transparent"],symbol:"circle",axis:"0 0 1 1",axisystep:4,axisxstep:6,r:2});for(var m=0;m<progress_chart.axis[0].text.items.length;m++)progress_chart.axis[0].text.items[m].attr({fill:"#cccac9",y:255,font:'500 15px/20px "museo-sans-rounded", sans-serif'});for(var v=e?270:40,m=0;m<progress_chart.axis[1].text.items.length;m++){progress_chart.axis[1].text.items[m].attr({fill:"#cccac9",x:v,font:'500 15px/20px "museo-sans-rounded", sans-serif'});var f=Math.round(progress_chart.axis[1].text.items[m].attrs.y);this.r.path(["M",t,f,"H",s+t]).attr({stroke:"#dedede","stroke-width":2,"stroke-opacity":this.show_coach_session_end?.5:1})}progress_chart.axis[1].attr({stroke:"transparent"}),progress_chart.axis[0].attr({stroke:"transparent"});var b=new Date(duo.user.get("current_time")),w=new Date(b.getTime()+l.currUserTimezoneOffset()),y=(w.getUTCDay()+1)%7;e&&(y=7-y);var k=[d("Su"),d("M"),d("Tu"),d("W"),d("Th"),d("F"),d("Sa")];e&&(k=k.reverse()),n.each(progress_chart.axis[0].text,function(e,t){var i=k[y];e.attr("text",i),y=(y+1)%7});var x=progress_chart.lines[0].attr("path"),$=this,S=this.show_coach_session_end?"#ffa200":"#ffc300";$.animateGraph=function(t,i){if(Date.now()-t>4e3||i>=c.length)clearInterval($.showDots);else{var s=!1;duo.user.get("daily_goal")&&c[i]<duo.user.get("daily_goal")&&(s=!0);var o={fill:S,r:8,"fill-opacity":1,stroke:"#fff","stroke-width":4,"stroke-opacity":1},r={fill:"#fff",r:4,"fill-opacity":.7,stroke:S,"stroke-width":2,"stroke-opacity":.7},l={fill:S,r:5,"fill-opacity":.7},d="M"+x[i-1][1]+","+x[i-1][2]+x[i][0]+x[i][1]+","+x[i][2];1==i&&(progress_chart.symbols[0][0].attr({fill:"#fff",stroke:"#fff",r:2}),$.show_coach_session_end?c[0]<duo.user.get("daily_goal")?progress_chart.symbols[0][0].animate(r,900,"bounce"):progress_chart.symbols[0][0].animate(l,900,"bounce"):progress_chart.symbols[0][0].animate(o,900,"bounce")),$.drawpath($.r,d,200,{stroke:S,"stroke-width":2,"stroke-opacity":.5,fill:"none","fill-opacity":0},function(){progress_chart.symbols[0][i].attr({fill:"#fff",stroke:"#fff",r:2}),i==c.length-1?$.show_coach_session_end?s?progress_chart.symbols[0][i].animate(r,900,"bounce"):progress_chart.symbols[0][i].animate(l,900,"bounce"):progress_chart.symbols[0][i].animate(n.extend(o,{r:12}),900,"bounce"):$.show_coach_session_end?s?progress_chart.symbols[0][i].animate(r,900,"bounce"):progress_chart.symbols[0][i].animate(l,900,"bounce"):progress_chart.symbols[0][i].animate(o,900,"bounce"),progress_chart.symbols[0][i-1].toFront(),progress_chart.symbols[0][i].toFront()})}i==c.length-1&&setTimeout(function(){if($.$(".today-points").text(parseInt(c[c.length-1])),e)var t=progress_chart.symbols[0][c.length-1].attr("cx")+35;else var t=progress_chart.symbols[0][c.length-1].attr("cx")-35;var i=progress_chart.symbols[0][c.length-1].attr("cy")-90;$.show_coach_session_end&&(i+=10),a("#today-hook").css({left:t+"px",top:i+"px"}),$.$("#today-popover").addClass("slide-in")},1e3)}},drawDailyGoal:function(){if(this.r2=r(this.$("#daily-donut").get(0)),this.r2.setSize(170,170),this.r2.customAttributes.segment=function(e,t,i,s,a){var n=a-s>180;return s=s%360*Math.PI/180,a=a%360*Math.PI/180,{path:[["M",e,t],["l",i*Math.cos(s),i*Math.sin(s)],["A",i,i,0,+n,1,e+i*Math.cos(a),t+i*Math.sin(a)],["z"]]}},this.xp_today-this.model.get("gained_skill_points")<duo.user.get("daily_goal")){var e=this.xp_today-this.model.get("gained_skill_points"),t=[e,duo.user.get("daily_goal")-e];if(0==e){this.r2.circle(85,85,85).attr({fill:"#e2e2e2",stroke:"#fff"})}for(total=duo.user.get("daily_goal"),start=270,this.paths=this.r2.set(),i=0;i<=1;i++){size=360/total*t[i];var s=this.r2.path();s.attr({segment:[85,85,85,start,start+size],stroke:"#fff",fill:0==i?"60-#fcc34b:20-#fe922e":"#e2e2e2"}),s.angle=start-size/2,this.paths.push(s),start+=size}}else{this.r2.circle(85,85,85).attr({fill:"60-#fcc34b:20-#fe922e",stroke:"#fff"})}this.r2.circle(85,85,73).attr({fill:"#fff",stroke:"#fff"});this.xp_today>999&&this.$("#daily-donut-text .stat-text").css({"font-size":"35px"})},animateDailyGoal:function(e){if(e){var t=this.xp_today>=duo.user.get("daily_goal")&&this.xp_today-this.model.get("gained_skill_points")<duo.user.get("daily_goal");this.xp_today<duo.user.get("daily_goal")?newPoints=[this.xp_today,duo.user.get("daily_goal")-this.xp_today]:newPoints=[99,1];var s=newPoints[0]+newPoints[1];for(start=270,i=0;i<=1;i++)size=360/s*newPoints[i],this.paths[i].animate({segment:[85,85,85,start,start+size]},1e3,function(){t&&a(".animate-me").removeClass("hidden")}),this.paths[i].angle=start-size/2,start+=size}var n=this.xp_today-this.model.get("gained_skill_points"),o=this.xp_today,r=Math.abs(Math.floor(1e3/this.model.get("gained_skill_points"))),l=1;0==r&&(l=Math.floor(this.model.get("gained_skill_points")/250));var d=this.$(".numerator"),c=setInterval(function(){n+=l,d.text(n),n>=o&&clearInterval(c)},r)},showOverflow:function(){a(".scroll-wrap").css({overflow:"visible"}),a(".session-end-slider").css({overflow:"visible"})},animateCoins:function(){var e=0;this.$(".animated-pieces").each(function(t,i){!function(){var t=a(i);setTimeout(function(){t.find("[data-style]").each(function(e,t){a(t).toggleClass("hidden "+a(t).data("style"))})},e)}(),e+=500}),this.timer_view&&data.seconds_left&&(e+=250,setTimeout(n.bind(function(){this.$("#timer-text").animate({seconds_left:data.seconds_left},{step:function(e,t){a(this).text(a.duostache({name:"seconds-left",tmpl:"{{#format_seconds}}{{seconds_left}}{{/format_seconds}}"},{seconds_left:e},{},!0))},duration:500}),this.$("#timer-container").arc({stroke:"#5b9700",fill:"#7ec200",strokewidth:1,value:0,total:this.timer_view.original_total_time/1e3,width:12}).arc({animate:!0,duration:500,value:Math.min(this.timer_view.original_total_time/1e3,data.seconds_left),total:this.timer_view.original_total_time/1e3})},this),e),e+=500),setTimeout(n.bind(function(){var e=this.$(".session-end-progress .bar").width(),t=this.model.get("points_data").level_left+this.model.get("gained_skill_points"),i=this.model.get("points_data").level_percent*this.$(".session-end-progress").width()/100-e;this.$(".session-end-progress .bar").animate({manualwidth:i,points:this.model.get("gained_skill_points")},{step:n.bind(function(i,s){"points"===s.prop?this.$("#left-in-level").text(parseInt(t-i)):this.$(".session-end-progress .bar").width(e+i)},this),duration:1e3})},this),e),(this.model.has("level_event")||this.model.has("learned_skills")&&this.model.get("learned_skills").length>0)&&o.history.once("route",this.showAwesomeEvent,this)},onSlid:function(e){var t=a(".item.active").attr("id");this.animateSlidePanel(t)},onSlide:function(e){var t=a(e.relatedTarget),i=t.data("slide");this.$(".carousel-dot").size();this.$(".carousel-dot").removeClass("active");var s=this.$(".carousel-dot:eq("+i+")");0!==s.next(".carousel-dot").size()||this.carousel_paused||n.defer(n.bind(function(){this.$(".carousel").carousel("pause"),this.carousel_paused=!0},this)),s.addClass("active"),"skill-slide"==this.$(".item[data-slide="+i+"]").attr("id")?this.$("#share-footer-button").fadeIn(500):this.$("#share-footer-button").fadeOut(500)},moveToSlide:function(e){this.$(".carousel").carousel("pause"),this.$("#end-carousel").carousel(e)},moveCarousel:function(e){var t=a(e.currentTarget),i=t.data("slide");a(".scroll-wrap").css({overflow:"hidden"}),a(".session-end-slider").css({overflow:"hidden"}),this.moveToSlide(i),e.stopPropagation()},keyCheck:function(e){13!==e.which||a("#review-page").is(":visible")||this.$(".session-end-footer > .buttons > .continue").click()},maybeShowCreateProfileNag:function(e){if(duo.user.get("trial_account")&&"welcome"!=this.model.get("type")){var t=new c({callback:e,in_player:!0});this.$el.replaceWith(t.render().el)}else e()},onContinue:function(e){var t=a(e.currentTarget);if(this.$("#end-carousel .item:last").hasClass("active")){var i=t.data("href"),s=t.data("r");this.maybeShowCreateProfileNag(function(){window.location.hash==="#"+i||window.location.hash==="#/"+i?this.reloadPage():duo[s+"Router"].navigate(i,!0)})}else this.$(".carousel").carousel("next")},onPractice:function(e){this.maybeShowCreateProfileNag(function(){window.location.reload(!0)})},showAwesomeEvent:function(){if(this.soundEffectsEnabled){var e=soundManager.levelSound;e&&e.play()}var t=new u({model:this.model,can_now_comment:this.can_now_comment});t.render(),t.$el.appendTo("body").modal({keyboard:!0,backdrop:!0,show:!0}).on("hidden",function(){t.remove()}),a("#awesome-modal").modal("show")},openExternalLink:function(e){window.open(a(e.currentTarget).data("href"),"_blank")},animateSlidePanel:function(e){if(!(e in this.animated)){this.animated[e]=!0;var t=this;if("award_slide"==e||void 0==e)if(a(".active h1").removeClass("opacity-0").addClass("slide-in"),this.soundEffectsEnabled&&soundManager.passedSound&&soundManager.passedSound.play(),"certification_test"!=this.model.get("type")){if(this.show_coach_session_end?this.$(".daily-goal-container").delay(500).queue(function(){t.$(".daily-goal-container").removeClass("opacity-0").addClass("slide-in")}):this.$("#level-bar").delay(500).queue(function(){t.$("#level-bar").removeClass("opacity-0").addClass("slide-in")}),this.$("#progress-line-graph").delay(1e3).queue(function(){t.$("#progress-line-graph").removeClass("opacity-0").addClass("slide-in"),
t.plotProgress()}),this.show_coach_session_end){var i=this.xp_today-this.model.get("gained_skill_points")<duo.user.get("daily_goal");setTimeout(function(){t.animateDailyGoal(i)},1500)}else setTimeout(function(){this.$("#level-bar").hasClass("finished")||(this.$("#level-bar").addClass("finished"),t.animateBar())},1500);setTimeout(function(){var e=Date.now(),i=1;t.showDots=setInterval(function(){"function"==typeof t.animateGraph?(t.animateGraph(e,i),i++):clearInterval(t.showDots)},250)},2500)}else this.$(".certificate-container").delay(500).queue(function(){t.$(".certificate-container").removeClass("opacity-0").addClass("slide-in")}),this.$(".store-icon-certification").delay(500).queue(function(){t.$(".store-icon-certification").addClass("bounce")});if("review-slide"==e&&setTimeout(function(){t.$(".review-container").show()},250),"skill-slide"==e){var s=500;if(a.each(a(".skill-badge-big"),function(){var e=Math.round(5*parseFloat(a(this).data("strength"))),t=this;setTimeout(function(){var i=a(t).find(".skill-icon-strength");i.removeClass("strength-0"),i.addClass("strength-"+e),5==e?a(t).addClass("boost-to-5").delay(500).queue(function(e){a(t).find(".skill-icon").removeClass("red blue green purple").addClass("gold").addClass("bounce"),e()}):a(t).addClass("boost-to-"+e)},s),s+=500}),this.soundEffectsEnabled&&soundManager.bonusSound&&soundManager.bonusSound.play(),this.model.get("learned_skills").length>0&&setTimeout(function(){this.$(".strengthened-message").removeClass("opacity-0").addClass("slide-in")},s+=1e3),0==this.model.get("learned_skills").length){var n=s+500*a(".skill-badge-big").length;setTimeout(function(){t.$(".strengthened-message").removeClass("opacity-0").addClass("slide-in")},n)}}"lingot-slide"==e&&(setTimeout(function(){this.$(".lingot-bill-cell").removeClass("opacity-0").addClass("slide-in")},500),setTimeout(function(){this.$(".icon-lingot-medium").addClass("bounce")},1e3)),"test-center-slide"==e&&setTimeout(function(){this.$(".fluency-score-icon .icon").addClass("bounce")},500)}},animateBar:function(){var e=this.$(".session-end-progress .bar").width(),t=Math.max(this.model.get("points_data").level_progress-this.model.get("gained_skill_points"),0),i=this.model.get("points_data").level_percent*this.$(".session-end-progress").width()/100-e,s=t>0?this.model.get("gained_skill_points"):this.model.get("points_data").level_progress;this.$(".session-end-progress .bar").animate({manualwidth:i,points:s},{step:n.bind(function(i,s){"points"===s.prop?this.$("#level_points").text(parseInt(t+i)):this.$(".session-end-progress .bar").width(e+i)},this),duration:1e3})},postFacebook:function(e){if(window.FB){l.track("facebook share click");var t=this;FB.login(function(e){if(e.authResponse&&(t.postToFacebook(e.authResponse),!duo.user.get("facebook_id"))){var i=e.authResponse.userID;a.post("/facebook_connect",{facebook_id:i,facebook_friends:"[]",auto_follow:!1}),duo.user.set({facebook_id:i})}},{scope:"publish_actions"})}},autoPostFacebook:function(){window.FB&&FB.getAuthResponse()&&(l.track("facebook auto post"),this.postToFacebook())},postToFacebook:function(){this.$("#facebook-post-action").addClass("shared").text(this.$("#facebook-post-action").data("shared")),this.$("#facebook-post-action").attr("disabled","disabled");var e=duo.debug?"skill_debug":"skill";n.each(this.model.get("learned_skills"),function(t){var i={skill:"http://www.duolingo.com/og/"+e+"/"+t.id,"fb:explicitly_shared":!0};l.postFacebookAction(duo.fb_app,"learn",i)}),l.track("facebook shared")},changeAutoPost:function(){var e=this.$("#fb-auto-post").is(":checked");l.track("toggle auto post",{new_value:e}),e&&this.$("#facebook-post-action").click(),duo.user.save({auto_facebook_post:e})},showShareDropdown:function(){this.$(".dropdown-menu").toggle(),this.$(".carousel").carousel("pause")},showReviewModal:function(){this.$(".carousel").carousel("pause"),this.review_modal?a("body > #review-modal").modal("show"):(this.$("#review-modal").appendTo("body").modal({keyboard:!0,backdrop:!0,show:!0}),this.review_modal=new h({el:a("body > #review-modal"),model:this.model}),this.review_modal.render()),o.history.once("route",this.cleanUp,this)},certifyMyScore:function(){l.track("click",{which:"certify my score button",source:"session end"}),window.open("https://testcenter.duolingo.com/","_blank")},postLinkedIn:function(e){l.track("click",{which:"fluency score on LinkedIn",source:"session end"}),window.open(this.model.get("linkedin_share_url"),"_blank")},cleanUp:function(){this.review_modal.remove()},repeatInClassPractice:function(){window.location.reload()}})},function(e,t,i){var s=i(1),a=i(2),n=i(14),o=i(4),r=i(26),l=(i(27),i(6),i(5)),d=i(520),c=i(45),u=i(29),h=i(17);i(15);e.exports=u.extend({template:d,initialize:function(e){u.prototype.initialize.call(this,e),this.max_attempts=2,this.attempts=0,this.isTimeoutTriggered=!1,this.threshold=this.model.get("threshold"),this.is_reverse="reverse_speak"===this.model.get("type"),this.lang=this.is_reverse?this.model.get("learning_language"):this.model.get("source_language"),this.translation=(this.is_reverse?this.model.get("first_display_translation"):this.model.get("translation"))||"",this.translation_norm=o.normalizeHomophones(this.lang,o.preprocessTextSpeak(this.translation)),this.ses=new h({session_element:this.model}),this.session.addSolution(this.ses),this.session.bind("render",this.postRender,this),this.session.bind("micoff",this.turnMicOff,this),duo.updateGrade=a.bind(this.receiveScore,this),duo.onSpeakConnect=a.bind(this.onSpeakConnect,this),duo.isTimedOut=a.bind(this.isTimedOut,this),s(document).bind("keyup.speak.session",a.bind(this.keyCheck,this)),o.track("speak_start",{reverse:this.is_reverse})},postRender:function(){var e=this.is_reverse?"reverse-speak":"speak";this.session.trigger("loading_recorder"),swfobject.embedSWF("/swf/speakRecorder-1-9.swf","audio-recorder","300","150","10",duo.cdn+"/swf/expressInstall.swf",{challengeType:e,server:"rtmp://speech.duolingo.com/SpeechService",timeLimit:20,gradingTimeLimit:7,text:this.model.get("stripped_text"),lang:this.lang,userid:duo.user.id,streamID:this.model.get("sound_id"),stopString:l("Stop"),translation:this.translation},{allowScriptAccess:"always",wmode:"transparent"},{id:"audio-recorder",name:"audio-recorder",styleclass:"recorder-object"}),this.playTTS(),this.startTiming()},playTTS:function(){this.model.get("source_language")!==duo.user.get("ui_language")&&this.$("#big-speaker").tts(a.extend(this.model.toJSON(),{language:this.model.get("source_language"),tts_type:"sentence",tts_id:this.model.get("tts_id"),template:i(21),autoplay:duo.user.shouldAutoPlay()}))},closeRecorder:function(e){try{e?(swfobject.getObjectById("audio-recorder").disable(),swfobject.getObjectById("audio-recorder").showPlayback()):(swfobject.getObjectById("audio-recorder").showRecordButton(),swfobject.getObjectById("audio-recorder").disable())}catch(t){}},retry:function(){try{swfobject.getObjectById("audio-recorder").showRecordButton()}catch(e){}},receiveScore:function(e){if(this.canSubmit()){this.attempts++,this.session.set({state:"ready"});var t=e>=this.threshold;this.ses.set({correctness:e,correct:t,incorrect:!t,try_again:!t&&this.attempts<this.max_attempts}),t||this.ses.set({odd:!this.ses.get("odd"),heart:"lesson"===this.session.get("type"),skip:"lesson"!==this.session.get("type")}),this.save(this.ses)}},isTimedOut:function(){this.isTimeoutTriggered=!0},submit:function(){},skip:function(){this.ses.set({correctness:0,correct:!1,incorrect:!0,try_again:!1,next_time:!0,skipped:!0}),this.save(this.ses)},turnMicOff:function(e){this.$("#no-mic-link").css("visibility","hidden"),n.updateUser(duo.user.id,{microphone:!1});var t=this.session.get("session_elements").indexOf(this.model),i=this.session.get("session_elements").filter(function(e,i){return-1!=e.get("type").indexOf("speak")&&i>t});this.session.get("session_elements").remove(i),this.ses.set({correctness:0,correct:!0,incorrect:!1,mic_off:!0,message:e!==!1,try_again:!1}),this.save(this.ses)},save:function(e){if(this.is_reverse&&!e.get("skipped")&&!e.get("mic_off")&&e.get("value")&&e.get("value")!==this.translation){var t=this;e.save(null,{success:this.graded,error:function(){e.set({correct:!0,error:!0}),t.graded(e,null)}})}else this.graded(e,null)},graded:function(e,t){var i={};if(i.reverse=this.is_reverse,i.attempts=this.attempts,this.google_error&&(i.google_error=this.google_error),e.get("mic_off")===!0||e.get("skipped")===!0?(i.disabled_mic=e.get("mic_off")===!0,o.track("speak_skipped",i)):(i.failed=e.get("incorrect")||!e.get("correct"),i.empty=!e.get("value"),i.timed_out=this.isTimeoutTriggered,o.track("speak_graded",i)),"ready"!==this.session.get("state")&&this.session.set({state:"ready"}),this.session.set({state:"submitted"}),e.get("incorrect")&&e.get("try_again"))return this.session.set({state:"ready"}),e.unset("incorrect"),e.unset("try_again"),void this.retry();e.set({time_taken:this.stopTiming()}),this.$(".col-left").removeClass("retry"),e.set({next_time:e.get("incorrect")===!0,remove_heart:!1,try_again:!1}),this.setSolutionTranslation(e);var n=!e.get("web_speech")&&e.get("correct")===!0&&e.get("incorrect")!==!0&&e.get("skipped")!==!0&&e.get("mic_off")!==!0;this.closeRecorder(n),this.is_reverse&&e.get("correct")&&e.set({blame:null,value:e.get("closest_translation")}),s(document).unbind(".speak");var r=u.prototype.graded.call(this,e,t),l=e.toJSON(),d=s("#correct-solutions");return d.html(s.duostache(c,a.extend(l,{speak_challenge:!0,solution_translation:"closest_translation"in l?l.closest_translation:void 0}))),r},setSolutionTranslation:function(e){e.get("correct")&&this.translation&&e.set({solution_translation:this.translation})},render:function(){u.prototype.render.call(this);var e=this.is_reverse?this.model.get("target_language"):duo.user.get("ui_language"),t=this.is_reverse?null:this.hintHover,i=this.is_reverse?null:this,s={url:this.session.get("hints_url"),callback:t,callback_context:i,source_language:this.model.get("source_language"),target_language:e,language_information:this.session.get("language_information"),reverse:this.is_reverse,highlight_verb_endings:!1,speak_solution_sequence:this.solution_sequence?this.solution_sequence:null};return duo.user.getSkills().can_transliterate&&duo.user.get("transliterate")&&(s.text=this.model.get(this.is_reverse?"text":"text"+r.NATIVE_PROPERTY_SUFFIX),s.transliterate=this.is_reverse?"target_language":"source_language"),this.$(".hints").hints(s),this},hintHover:function(e,t,i){var a=s(i);if(this.session.get("tts_enabled")&&this.model.get("source_language")!==duo.user.get("ui_language"))if("tts"in a.data())a.trigger("play");else{var n=s.tts.ttsIDFromWord(e);a.tts({language:this.model.get("source_language"),tts_type:"token",tts_id:n,autoplay:!0,visible:!1,play_trigger:"play",use_last:!0})}},clear:function(){this.session.unbind("render",this.postRender),this.session.unbind("micoff",this.turnMicOff),duo.updateGrade=null,duo.onSpeakConnect=null,duo.isTimedOut=null,s(document).unbind(".speak")},canSubmit:function(){return a.include(["rendered","ready"],this.session.get("state"))||!this.ses.isDone()},onSpeakConnect:function(){this.session.trigger("loaded_recorder")},playbackRecording:function(){try{swfobject.getObjectById("audio-recorder").playBack()}catch(e){}},keyCheck:function(e){if(13===e.which&&this.canSubmit())try{swfobject.getObjectById("audio-recorder").toggleRecording()}catch(t){}}})},function(e,t,i){var s=i(1),a=i(2),n=i(4),o=i(525),r=i(18),l=i(56),d=i(91),c=i(90),u=i(156),h=i(42),g=i(161);e.exports=r.extend({events:a.extend({},r.prototype.events,{"click .ready-panel #start-button":"startSession","click .ready-panel #untimed-button":"startUntimedSession","click .show-shortcuts":"showShortcuts"}),bindEvents:function(){r.prototype.bindEvents.call(this,!1),this.model.bind("change:times_up",this.timesUp,this)},initialize:function(e){this.die_on_time=!!e.die,this.points_per_correct=!!e.points,this.auto_timed=!!e.auto_timed,this.long_sentence_bonus=3,this.$el.html(s.duostache(this.template,a.extend(this.model.toJSON(),{can_transliterate:duo.user.getSkills().can_transliterate,transliterate:duo.user.get("transliterate"),owned_timed_practice:duo.user.toJSON().inventory.hasOwnProperty("timed_practice"),requires_ready:!this.auto_timed,points_per_correct:this.points_per_correct,allow_opt_out:this.die_on_time,timed:!0}))),this.bindEvents(),this.initializeSubViews(e),this.soundEffectsEnabled=duo.user.playEffects()&&soundManager},initializeSubViews:function(e){if(this.progress_view=new l({model:this.model}),this.$("#progress-bar").replaceWith(this.progress_view.render().el),!e.points||"practice"!==this.model.get("type")&&"skill_practice"!==this.model.get("type")){var t=this.getNumHearts();this.hearts_view=new d({model:this.model,el:this.$("#hearts"),num_hearts:t}),this.hearts_view.render(),this.explanation_view=new c({model:this.model}),this.$("#explanation").replaceWith(this.explanation_view.render().el)}else{var i=new u({model:this.model,el:this.$("#point-count")});i.render()}this.grade_view=new h({model:this.model,points:!!e.points,extra_time:e.extra,long_sentence_bonus:this.long_sentence_bonus}),this.$("#grade").replaceWith(this.grade_view.render().el),this.model.incrementPosition(),this.timer_view=new g({model:this.model,el:this.$("#timer"),count_up:"up"===e.count,extra_time:e.extra,total_time:e.total_time,shown_max_time:e.shown_max_time,long_sentence_bonus:this.long_sentence_bonus}),this.timer_view.render();var s=duo.user.getSkills().notifications;s&&s.t13n_toggle&&duo.user.getSkills().can_transliterate&&duo.user.get("transliterate")&&this.showT13nToggleNotification(s)},renderElementView:function(){if(!this.ready_to_start){s("body").addClass("player"),this.$("#session-element-container").html(s.duostache(o,a.extend(this.model.toJSON(),{owned_timed_practice:duo.user.toJSON().inventory.hasOwnProperty("timed_practice"),mobile_web_view:duo.mobile_web_view})));var e=Math.floor(4*Math.random())+1;return void this.$("#st_"+e).removeClass("hidden")}return r.prototype.renderElementView.apply(this,arguments)},rendered:function(){return this.ready_to_start?r.prototype.rendered.call(this):void 0},startSession:function(){this.ready_to_start=!0,this.$(".ready-panel").remove(),this.$(".action-panel").show(),this.model.set({start_time:new Date,timed:!0}),this.render(),this.checkSound();var e={type:this.model.get("type"),timed:!0,lesson_number:this.model.get("lesson_number"),skill_name:this.model.get("skill_name"),skill_id:this.model.get("skill_id"),global_practice:this.model.get("global_practice"),from_email:this.model.get("from_email"),skill_tree_id:this.model.get("skill_tree_id")};"lesson"===this.model.get("type")&&(e.lesson=this.model.get("skill_name")+"--"+this.model.get("lesson_number")),"practice"!==this.model.get("type")&&"skill_practice"!==this.model.get("type")||(e.bonus_round=this.model.has("path_node_index")),n.track("session_start",e)},graded:function(e,t){return this.model.get("times_up")?void 0:r.prototype.graded.call(this,e,t)},startUntimedSession:function(){this.model.unbind("input"),this.model.unbind("clear"),this.model.unbind("grade"),this.model.unbind("render"),this.model.unbind("fail"),this.model.unbind("continue"),this.model.unbind("submit"),this.model.unbind("end"),this.timer_view.stop(),this.model.set({untimed:!0,position:-1}),n.track("untimed mode",{global_practice:this.model.get("global_practice"),bonus_round:this.model.has("path_node_index"),skill_name:this.model.get("skill_name")}),this.$el.unbind();var e=new r({model:this.model,el:this.$el});e.render()},timesUp:function(){if(this.$("#submit_button, #next_button").attr("disabled","disabled"),this.die_on_time)if(this.points_per_correct){var e=this.model.getNumberCorrectOnFirstTry();0>=e?(this.model.set({none_correct:!0}),this.model.trigger("fail")):(this.model.trigger("end"),this.renderEnd())}else this.model.trigger("fail")},keyCheck:function(e){return 13==e.which&&this.$("#start-button").is(":visible")?(this.$("#start-button").click(),!1):r.prototype.keyCheck.call(this,e)},renderEnd:function(){if(this.die_on_time&&this.points_per_correct){var e=this.model.getNumberCorrectOnFirstTry();if(0>=e)return this.model.set({none_correct:!0}),void this.model.trigger("fail")}r.prototype.renderEnd.call(this)},showShortcuts:function(){s("#show-shortcuts").click()}})},function(e,t,i){var s=i(162);e.exports=s.extend({regressionCheck:function(){}})},function(e,t,i){var s=i(1),a=i(3),n=i(4),o=i(473);e.exports=a.View.extend({template:o,events:{"click #join":"join"},initialize:function(e){this.language=e.language||void 0},render:function(){var e={};return this.model&&(e=this.model.toJSON()),e.language=this.language,this.$el.html(s.duostache(this.template,e)),s("#app").addClass("logged-out-shown"),s("#join").show(),this},join:function(){n.track("join")}})},function(e,t,i){var s=i(1),a=i(3),n=i(23),o=i(460);e.exports=a.View.extend({template:o,events:{"click .register-delayed":"registerDelayed","click .existing-login":"loginDelayed"},render:function(){var e={num_rupees:duo.user?duo.user.get("rupees"):0};return e[this.options.type+"_overlay"]=!0,this.$el.html(s.duostache(this.template,e)),this},registerDelayed:function(){n.trigger("registerDelayed")},loginDelayed:function(){n.trigger("loginDelayed")}})},,function(e,t){e.exports='<table border="0" cellspacing="0" cellpadding="0" class="table table-bordered green-head table-striped verb-table {{language}}"><thead><tr><th>{{#_i}}Person{{/_i}}</th>{{#tenses}}<th>{{#_ivar}}tense_string{{/_ivar}}</th>{{/tenses}}</tr></thead><tbody>{{#table}}<tr><td class="person"><span>{{pronoun}}</span></td>{{#row}}<td><span>{{{word}}}</span></td>{{/row}}</tr>{{/table}}</tbody></table>{{#more_tables}}<a class="more-tenses" href="javascript:;">{{#_i}}Show more tenses{{/_i}} →</a>{{/more_tables}}'},function(e,t){e.exports='<ul class="login-signup-list {{#splash_skip_delayed}}skip-delayed{{/splash_skip_delayed}}">{{#splash_skip_delayed}}{{#teacher_register}}<h1>{{#_i}}Duolingo for Schools{{/_i}}</h1>{{/teacher_register}}{{^teacher_register}}{{^show_mobile_view}}<h1>{{#_i}}Sign up{{/_i}}</h1>{{/show_mobile_view}}<h2>{{#_i}}You’ll need a Duolingo account to join the classroom.{{/_i}}</h2>{{/teacher_register}}{{/splash_skip_delayed}}<li style="margin-bottom: 20px;" id="register-form-container"></li><li style="text-align: center;"><a id="register-button" href="javascript:;" class="btn {{^teacher_register}}btn-blue{{/teacher_register}} {{#splash_skip_delayed}}btn-green-light{{/splash_skip_delayed}} btn-lg btn-block" data-track-click="course register submit {{#teacher_register}}schools_register_attempt{{/teacher_register}}">{{^has_facebook}}{{#teacher_register}}{{#_i}}Create Duolingo account{{/_i}}{{/teacher_register}}{{^teacher_register}}{{#_i}}Create account{{/_i}}{{/teacher_register}}{{/has_facebook}}{{#has_facebook}}{{#_i}}Complete profile{{/_i}}{{/has_facebook}}</a></li>{{^hide_social_signup}}{{#signup_modal_buttons_experiment_true}}{{#google_only}}<li class="signup-social-buttons"><a class="btn btn-googlered-new signup-google" href="javascript:;" data-track-click="splash page register google {{#teacher_register}}schools_register_attempt{{/teacher_register}}"><span class="icon icon-google-small"></span>{{#_i}}Sign up with Google{{/_i}}</a></li>{{/google_only}}{{^google_only}}{{#has_facebook}}<li class="signup-email-link">{{#_i}}or Sign up with <a href="javascript:;" class="signup-email">Email</a> or <a href="javascript:;" class="signup-google">Google</a>{{/_i}}</li>{{/has_facebook}}{{^has_facebook}}<li class="signup-social-buttons"><a class="btn btn-fbblue-dark signup-facebook" href="javascript:;" data-track-click="splash page register facebook"><span class="icon icon-fb-small"></span>{{#_i}}Sign up with Facebook{{/_i}}</a><a class="btn btn-googlered-new signup-google" href="javascript:;" data-track-click="splash page register google {{#teacher_register}}schools_register_attempt{{/teacher_register}}"><span class="icon icon-google-small"></span>{{#_i}}Sign up with Google{{/_i}}</a></li>{{/has_facebook}}{{/google_only}}{{/signup_modal_buttons_experiment_true}}{{^signup_modal_buttons_experiment_true}}{{#google_only}}<li class="signup-social-link"><a href="javascript:;" class="signup-google" data-track-click="course register google {{#teacher_register}}schools_register_attempt{{/teacher_register}}">{{#_i}}Sign up with Google{{/_i}}</a></li>{{/google_only}}{{^google_only}}{{#has_facebook}}<li class="signup-email-link">{{#_i}}Sign up with <a href="javascript:;" class="signup-email">email</a> or <a href="javascript:;" class="signup-google" data-track-click="course register google">Google</a>{{/_i}}</li>{{/has_facebook}}{{^has_facebook}}<li class="signup-social-link">{{#_i}}Sign up with <a href="javascript:;" class="signup-facebook">Facebook</a> or <a href="javascript:;" class="signup-google" data-track-click="course register google">Google</a>{{/_i}}</li>{{/has_facebook}}{{/google_only}}{{/signup_modal_buttons_experiment_true}}{{/hide_social_signup}}{{#splash_skip_delayed}}{{^show_mobile_view}}<div id="modal-footer" class="user-login hidden {{#magic_link_view}}magic-link{{/magic_link_view}}">{{#_i}}Have an Account?{{/_i}} <a href="javascript:;" class="existing-login {{#magic_link_view}}signup-email{{/magic_link_view}}">{{#_i}}Sign in{{/_i}}</a></div>{{/show_mobile_view}}{{/splash_skip_delayed}}</ul>'},function(e,t,i){e.exports='<div class="clearfix">{{^session_welcome}}{{^mic_off}}{{^try_again}}<span id="show-report-options" class="margin-right btn btn-small btn-faded btn-outline {{#correct}}btn-green{{/correct}} {{#incorrect}}btn-red{{/incorrect}}">{{#_i}}Report a Problem{{/_i}}<ul class="even-context-menu report-options hidden" id="report-options">'+i(513)+'<li><input id="submit-problem" type="submit" class="btn right margin-left btn-green update-comment" value="{{#_i}}Submit{{/_i}}" style=""><input id="cancel-report" type="submit" class="btn right btn-standard update-comment" data-dismiss="modal" value="{{#_i}}Cancel{{/_i}}" style=""></li></ul></span>{{#discussions_enabled}}{{#has_discussion}}<button id="discussion-toggle" class="btn btn-faded btn-small btn-outline {{#correct}}btn-green{{/correct}} {{#incorrect}}btn-red{{/incorrect}}">{{#_i}}Discuss sentence{{/_i}} {{#num_comments}}({{num_comments}}){{/num_comments}}</button><div id="solution-suggested" class="save-message-new solution-submitted hidden">{{#_i}}Thanks for your report!{{/_i}}</div><span id="discussion-modal-container"></span>{{/has_discussion}}{{/discussions_enabled}}{{/try_again}}{{/mic_off}}{{/session_welcome}}</div> '},function(e,t){e.exports='{{#can_transliterate}}{{^transliterate}}{{#is_mac}}<a class="input-instructions" href="https://support.apple.com/kb/PH11251?locale=en_US" target="_blank">{{#_i_en}}How to switch my keyboard to {{learning_language_name}}{{/_i_en}}</a>{{/is_mac}}{{#is_windows}}<a class="input-instructions" href="http://windows.microsoft.com/en-us/windows-8/add-language-keyboard" target="_blank">{{#_i_en}}How to switch my keyboard to {{learning_language_name}}{{/_i_en}}</a>{{/is_windows}}{{/transliterate}}{{/can_transliterate}} '},,,,,,,,,,,,,,function(e,t,i){var s=i(1),a=i(3),n=i(50);e.exports=a.Model.extend({currentPanel:"hot",searchResults:{},url:function(){return this.id?"/topics/"+this.id:"/topics"},parse:function(e){if(e.comments){var t=new n;t.reset(n.prototype.parse.call(t,e)),t.sort_by="hot",t.page=1,t.more=e.more_comment,t.limits=e.limits,e.comments=t,e.new_comments=new n,e.new_comments.sort_by="new",e.new_comments.more=!0,e.top_comments=new n,e.top_comments.sort_by="top",e.top_comments.more=!0,e.sent_comments=new n,e.sent_comments.sort_by="sent",e.sent_comments.more=!0,e.active_comments=new n,e.active_comments.sort_by="active",e.active_comments.more=!0,e.following_comments=new n,e.following_comments.sort_by="following",e.following_comments.more=!0}return e},follow:function(){var e=this;s.post("/topics/"+this.id+"/follow",function(t){"OK"===t.response&&e.set(t.topic)})},unfollow:function(e,t){var i=this;s.post("/topics/"+this.id+"/unfollow",function(s){"OK"===s.response&&i.set(s.topic),e&&e.call(t||this)})}})},function(e,t,i){var s=i(1),a=i(3),n=i(4),o=i(34);e.exports=a.Model.extend({urlRoot:"/sentence",toJSON:function(){var e=a.Model.prototype.toJSON.call(this);return e},parse:function(e){if("comment"in e){e.avatar=e.comment.avatar,e.sentence_id=e.comment.sentence_id,e.sentence_language=e.comment.sentence_language,e.translation=e.comment.translation,e.translation_id=e.comment.translation_id;var t=new o;t.set(t.parse(e.comment)),e.comment=t}return e},addComment:function(e,t,i){var a=this;s.post("/sentences/comment",{message:e,sentence_id:this.id,ui_language:t,learning_language:i},function(e){n.track("Questions reply");var t={comment:e,has_comment:!0};a.set(a.parse(t))})},replaceURLs:function(e){var t=/\b(?:(?:https?|ftp):\/\/|www\.)(?:\([-A-Z0-9+&@#\/%=~_|$?!:,.]*\)|[-A-Z0-9+&@#\/%=~_|$?!:,.])*(?:\([-A-Z0-9+&@#\/%=~_|$?!:,.]*\)|[A-Z0-9+&@#\/%=~_|$])/gi;return e.replace(t,function(e){return'<a href="'+e+'" class="underline grayDark" target="_blank">'+e+"</a>"})},reportSentence:function(e){s.post("/sentences/report",{sentence_id:this.id,type:e},function(e){n.track("Sentence report")})}})},function(e,t,i){var s=i(33);e.exports=s.extend({type:"lesson",fetch:function(e){return e=e||{},e.data=e.data||{},e.data.skill_id=this.get("skill_id"),e.data.lesson_number=this.get("lesson_number"),e.data.is_preview=this.get("is_preview"),s.prototype.fetch.call(this,e)}})},function(e,t,i){var s=i(1),a=i(3);e.exports=a.Model.extend({deleteFromServer:function(){var e=this;return s.post("/api/1/observers/leave_classroom",{classroom_id:this.get("classroom_id")},function(){e.destroy()})}})},function(e,t,i){var s=i(3),a=i(123);e.exports=s.Collection.extend({url:"/api/1/observers/list_settings_classrooms",model:a,comparator:function(e){return e.get("email").toLowerCase()+e.get("name").toLowerCase()}})},function(e,t,i){var s=i(2),a=i(3),n=i(4),o=i(32),r=i(256);e.exports=o.extend({url:"/translations",parse:function(e){if(e.translations){var t={source_lang:e.language,target_lang:e.target_language};this.self_service&&(t.self_service=!0);var i=new r([],t);if(i.reset(r.prototype.parse.call(i,e.translations)),i.page=1,i.sort=e.sort,i.category=e.category,i.more=e.more,t=s.extend(t,{more:!0}),this.self_service)e.translations=i,e.monthly_translations=new r([],s.extend(t,{sort:"uploaded"})),e.uploaded_translations=new r([],s.extend(t,{sort:"uploaded"}));else{var a=["default","date","net_upvotes","history","uploaded"];s.each(a,function(a){a==e.sort?e[a+"_translations"]=i:e[a+"_translations"]=new r([],s.extend(t,{sort:a}))})}}return e},fetch:function(e){e.data.per_page=50,this.self_service&&(e.data.self_service=!0);var t=(new Date).getTime(),i=e.success;e.success=function(e,s){var a=(new Date).getTime()-t,o={latency_ms:a,backend_latency_ms:s.backend_latency_ms,overview:!0};n.track("fetch_ranked_translations",o),i&&i(e,s)},a.Model.prototype.fetch.call(this,e)}})},function(e,t,i){var s=i(32);e.exports=s.extend({})},function(e,t,i){var s=i(4),a=i(32);e.exports=a.extend({url:function(){return"/your_translation_votes/"+this.get("source_lang")+"/"+this.get("target_lang")},fetch:function(e){var t=(new Date).getTime(),i=e.success;e.success=function(e,a){var n=(new Date).getTime()-t,o={latency_ms:n,backend_latency_ms:a.backend_latency_ms};s.track("show_translation_votes",o),i&&i(e,a)},a.prototype.fetch.call(this,e)}})},function(e,t,i){var s=i(1),a=i(3);e.exports=a.Model.extend({urlRoot:"/ui_strings",parse:function(e){return e},update:function(e){var t=this;s.post(this.urlRoot+"/"+this.get("id")+"/update",{new_target_text:e},function(e){t.set(e)})}})},function(e,t,i){var s=i(1),a=i(4),n=i(9),o=i(270),r=i(271),l=i(274),d=i(275),c=i(277),u=i(278),h=i(130),g=i(280),p=i(281),_=i(282),m=i(287),v=i(284),f=i(286),b=i(288),w=i(272),y=i(283),k=i(285),x=i(273),$=i(276),S=i(290),T=i(291),C=i(138),D=n.extend({routes:{login:"loggedIn",logout:"logout"},loggedIn:function(){this.navigate("",!0)},logout:function(){a.logout()}}),E=n.extend({routes:{login:"login",logout:"loggedOut"},initialize:function(){this.login_view=new C},login:function(e){this.showLoginWindow()},showLoginWindow:function(){this.switchView(this.login_view,"page-login"),s(".logged-out-message").empty()},loggedOut:function(){this.navigate("",{trigger:!0,replace:!0})}}),z=!1,I=0===document.domain.indexOf("join");duo.initializeRoutes=function(){I?duo.joinRouter=new c:z||0===document.domain.indexOf("translations")?(duo.selfServiceRouter=new g,duo.translationRouter=new f):(duo.userRouter=new S,duo.homeRouter=new l,duo.skillRouter=new _,duo.settingsRouter=new p,duo.uiStringRouter=new b,duo.adminRouter=new o,duo.streamRouter=new v,duo.vocabRouter=new T,duo.translationRouter=new f,duo.commentRouter=new w,duo.staticRouter=new y,duo.loggedOutTranslationRouter=new k,duo.courseRouter=new x,duo.classroomSessionRouter=new r,duo.proficiencyMonitoringRouter=new $),new D},duo.initializeLoggedOutRoutes=function(){duo.loggedOutRootRouter=new E,I?duo.joinRouter=new u:z||0===document.domain.indexOf("translations")?duo.loggedOutSelfServiceRouter=new h:(duo.loginRouter=new d,duo.commentRouter=new w,duo.staticRouter=new y,duo.loggedOutTranslationRouter=new k,duo.courseRouter=new x,duo.trialSkillRouter=new m)}},function(e,t,i){var s=i(1),a=i(9),n=i(5),o=i(318),r=i(321);e.exports=a.extend({routes:{"":"selfServiceSplash",en:"selfServiceSplash",es:"selfServiceSplash",fr:"selfServiceSplash",pt:"selfServiceSplash"},selfServiceSplash:function(e){duo.topbar=new o(e),s("#topbar").replaceWith(duo.topbar.render().el),s('#topbar li[data-id="'+duo.browser_language_id+'"]').remove(),document.title="Duolingo: "+n("Translations");var t=new r;this.switchView(t,"self-service-splash","self-service-splash-body"),s(".client-info a").hide(),this.fixFooterLinks()},fixFooterLinks:function(){s(".footer-main a").each(function(){var e=s(this).attr("href").replace(/^\//,"//www.duolingo.com/");s(this).attr("href",e)})}})},function(e,t){e.exports=function(){var e={};return e.timings={},e.splits=[],e.absolute_start=(new Date).getTime(),e.start=function(t){var i=(new Date).getTime(),s=i-e.absolute_start;e.timings[t]={start:i,start_split:i-e.absolute_start},e.splits.push([s,t+" STARTED"])},e.stop=function(t){var i=(new Date).getTime(),s=i-e.timings[t].start,a=i-e.absolute_start;return e.timings[t].stop=i,e.timings[t].duration=s,e.splits.push([a,t+" ENDED"]),s},e.mark=function(t){var i=(new Date).getTime(),s=i-e.absolute_start;e.timings[t]={timestamp:i,since_load:i-e.absolute_start},e.splits.push([s,t])},e}()},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(180);e.exports=n.View.extend({template:o,events:{"click .load-more":"loadMore","click .undelete":"undelete"},initialize:function(e){this.collection=e.collection,this.page=0,this.more=!0,this.collection.bind("all",this.render,this),this.collection.bind("remove",this.render,this),this.log_type=e.type},render:function(){var e=this.collection.toJSON();return a.each(e,function(e,t,i){e.index=t}),this.$el.html(s.duostache(this.template,{events:e,delete_log:"deletes"==this.log_type,comment_log:"comments"==this.log_type,more:this.collection.more})),this},loadMore:function(){this.page+=1;var e=this;this.collection.fetch({data:{page:e.page,log_type:e.log_type},update:!0,remove:!1})},undelete:function(e){var t=s(e.currentTarget).data("id"),i=s(e.currentTarget).data("index"),a=this;s.post("/comments/"+t+"/undelete",function(){var e=a.collection.at(i);a.collection.remove(e)})}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(5),r=i(498),l=i(41),d=i(134);i(7),i(15);e.exports=n.View.extend({template:r,_DICT_HOST:"d2.duolingo.com/api/1/dictionary/hints",events:{"click #post-text-box":"focusReplyBox","click .cancel-update-comment":"cancelUpdate","click #post-comment":"reply","click #show-discussion":"showDiscussion","click #watch":"toggleWatch","click #show-toggle":"showHiddenComments","click .close-modal-background":"closeModal"},initialize:function(e){
this.model.bind("change",this.onChange,this),this.correct=e.correct,this.modal_shown=!0,this.has_hidden=!1,this.ui_language=e.ui_language,this.learning_language=e.learning_language,this.document_sentence_discussion=e.document_sentence_discussion||!1,n.history.once("route",this.cleanUp,this)},render:function(){var e=this,t=duo.feature_flags.serialized_sentence_discussions?this.model.get("has_comment"):this.model.get("comment");if(t){this.view=new l({model:this.model.get("comment"),el:this.$("discussion-modal")}),this.$el.html(s.duostache(this.template,a.extend(this.model.toJSON(),{correct:this.correct,comments:this.model.get("comment").get("comments").toJSON(),frozen:this.model.get("comment").get("frozen"),got_related:this.model.has("related")&&this.model.get("related").length>0,num_followers:this.model.has("followers")?this.model.get("followers").length:0,logged_in_user:duo.user?{id:duo.user.id,username:duo.user.get("username"),avatar:duo.user.get("avatar")}:null,num_comments:this.model.get("comment").get("num_comments"),num_hidden:this.model.get("comment").get("num_hidden"),show_badges:!0,sentence_comment:!0,show_date:!this.model.get("old_comment"),admin_user:duo.user?duo.user.get("admin"):!1,following:this.model.get("comment").get("watching")}))),this.model.get("comment").get("comments").each(function(e){var t=new d({model:e,el:this.$("#comment-"+e.id),sentence_comment:!0,session_comment:!0});e.get("hidden")&&(this.$("#comment-"+e.id).addClass("hidden-comment"),this.$("#comment-"+e.id).hide(),this.has_hidden=!0,this.num_hidden+=1),t.render()},this),0==this.has_hidden&&this.$("#show-toggle").hide();var n=o(this.model.get("comment").get("watching")?"Following Discussion":"Follow Discussion");this.model.get("comment").get("watching")&&this.$("#watch").addClass("success"),this.$("#watch").attr("value",n),this.model.get("comment").unbind(),this.model.get("comment").bind("change",this.onChange,this)}else this.$el.html(s.duostache(this.template,a.extend(this.model.toJSON(),{correct:this.correct,logged_in_user:duo.user?{id:duo.user.id,username:duo.user.get("username"),avatar:duo.user.get("avatar")}:null,show_badges:!0,disable_commenting:duo.prebeta_experimental_mode,comment:!1})));this.document_sentence_discussion||this.$("#discussion-modal").size()>0?this.$("#discussion-modal").modal("show"):this.$("#discussion-modal").modal({show:this.modal_shown}).on("hidden",function(){e.modal_shown=!1}).delegate(".medium-circular-avatar, .username","click",function(e){s(this).closest(".modal").modal("hide")}),a.defer(function(){e.$("label").inFieldLabels(),setTimeout(function(){e.$("#discussion-modal").scrollTop(0),e.$("#discussion-modal").trigger("scroll")},250)});var r={source_language:this.learning_language,target_language:this.ui_language,url:this._DICT_HOST};if(duo.user&&duo.user.getSkills().can_transliterate&&duo.user.get("transliterate")&&(r.transliterate="source_language"),this.model.get("sentence_language")===this.learning_language){r.top=20,this.$(".title").hints(r);var c=this.model.get("sentence_id")}else{r.top=10,this.$(".trans").hints(r);var c=this.model.get("translation_id")}return a.defer(function(){e.$(".listen-button-small").tts({language:e.learning_language,tts_type:"sentence",tts_id:c,template:i(21),visible:!1,autoplay:!1,click:!0})}),this},focusReplyBox:function(){this.$(".comment-box").autosize({append:"\n"}),this.$("#post-button").show(),this.document_sentence_discussion||this.$(".player-discuss-guide").fadeIn(500)},reply:function(){var e=s.trim(this.$("#post-text-box").val());e.length>0&&(this.$("#post, #post-comment").attr("disabled","disabled"),this.model.get("comment")&&this.model.get("comment").unbind(),this.model.addComment(e,this.ui_language,this.learning_language))},cancelUpdate:function(){return this.$("#post-button").hide(),this.$("#post-text-box").val(""),this.$(".player-discuss-guide").fadeOut(500),!1},showDiscussion:function(){this.$("#discussion-modal").modal("show"),this.modal_shown=!0},onChange:function(){this.$("#discussion-modal").modal("hide"),this.modal_shown=!0,this.render()},toggleWatch:function(){this.model.get("comment").get("watching")?(this.model.get("comment").unwatch(),this.$("#watch").removeClass("success").removeClass("checkmark"),this.$("#watch").attr("value",o("Follow Discussion")),this.$("#watch").text(o("Follow Discussion"))):(this.model.get("comment").watch(),this.$("#watch").addClass("success"),this.$("#watch").attr("value",o("Following Discussion")),this.$("#watch").text(o("Following Discussion")),this.$("#watch").addClass("checkmark"))},cleanUp:function(){duo.topbar.unbind("navigate",this.cleanUp,this),this.$("#discussion-modal").modal("hide"),this.remove()},showHiddenComments:function(e){var t=s(".discussion-comments-list > .hidden-comment").fadeIn(400);return t.find(".hidden-comment").show(),t.find(".show-toggle").hide(),this.$("#show-toggle").hide(),e.stopPropagation(),!1},closeModal:function(){this.$("#close-discussion-modal").click()}})},function(e,t,i){var s=i(1),a=i(2),n=i(5),o=i(41),r=i(411);i(65);var l=e.exports=o.extend({template:r,events:{"click .vote-up":"upvote","click .vote-down":"downvote","click #post-comment":"reply","click .delete-comment":"deleteComment","click .undelete-comment":"undeleteComment","click .edit-comment":"editComment","click .update-comment":"updateComment","click .add-reply":"addReply","click .give-love":"giveLove","click .post-reply":"postReply","click .cancel-reply":"cancelReply","click .cancel-update-comment":"cancelUpdate","click #post-text-box":"focusReplyBox","click .edit-data":"dropDownEdit","hover #self-comment":"hoverNested","click .show-toggle":"showHiddenComments"},initialize:function(e){this.model.on("change",this.rerender,this),this.sentence_comment=e.sentence_comment,this.model.on("change:model_deleted",this.onDelete,this),this.model.on("change:model_removed",this.onRemove,this),this.model.on("change:model_undeleted",this.onUnDelete,this),this.has_hidden=!1},render:function(e){this.$el.html(s.duostache(this.template,a.extend(this.model.toJSON(),{frozen:this.model.collection?this.model.collection.parent.get("frozen"):this.model.get("frozen"),show_badges:!0,sentence_comment:this.sentence_comment,session_comment:this.options.session_comment,show_date:!this.sentence_comment||!this.model.get("old_comment"),rupees:duo.user&&duo.user.get("rupees")>0&&duo.user.get("id")!=this.model.get("user").id,lazy_avatars:!e,can_comment:duo.user&&duo.user.metSocialXPThreshold()}))),this.model.get("comments").each(function(t){var i=new l({model:t,el:this.$("#comment-"+t.id),sentence_comment:this.sentence_comment,session_comment:this.options.session_comment});i.render(e),t.get("hidden")&&(this.$("#comment-"+t.id).addClass("hidden-comment"),this.$("#comment-"+t.id).hide(),this.has_hidden=!0,this.num_hidden+=1)},this),0==this.has_hidden&&this.$("#show-toggle-"+this.model.id).hide();var t={threshold:150,container:this.options.session_comment?s("#discussion-modal"):void 0};this.$("img.lazy").lazyload(t);var i=this;return a.defer(function(){i.$("img.lazy").slice(0,1).lazyload(t),i.$('[data-toggle="tooltip"]').tooltip()}),this},rerender:function(){this.render(!0)},deleteComment:function(e){this.$("#edit-data-drop-"+this.model.id).hide();var t=confirm(n("Delete this comment?"));return t?(this.model.del(),e.stopPropagation(),!1):!1},undeleteComment:function(e){var t=confirm("Undelete this comment?");if(t)return this.model.undel(),!1},onDelete:function(){if(this.model.get("model_deleted")){var e=this.model.collection;if(void 0===e)return;e.remove(this.model),e.parent.set({num_comments:e.parent.get("num_comments")-1})}},onRemove:function(){if(this.model.get("model_removed")){var e=this.model.collection;if(void 0===e)return;this.model.set("model_removed",!1),e.parent.set({num_comments:e.parent.get("num_comments")-1},{silent:!0})}},onUnDelete:function(){if(this.model.get("model_undeleted")){var e=this.model.collection;this.model.set("model_undeleted",!1),e.parent.set({num_comments:e.parent.get("num_comments")+1},{silent:!0})}},editComment:function(e){return this.$("#edit-data-"+this.model.id).hide(),this.$("#edit-data-drop-"+this.model.id).hide(),this.$("#body-"+this.model.id).hide(),this.$(".title-edit-box, #edit-box-"+this.model.id).show(),this.$(".edit-post-box textarea").val(this.model.get("message")),this.$("#edit-box-"+this.model.id+" textarea").focus(),e.stopPropagation(),!1},updateComment:function(e){var t=s.trim(this.$(".post-edit-box").val());return this.model.save({message:t}),e.stopPropagation(),!1},cancelUpdate:function(e){return this.render(),e.stopPropagation(),!1},dropDownEdit:function(e){this.$("#edit-data-"+this.model.id).addClass("active"),this.$("#edit-data-drop-"+this.model.id).fadeToggle(100);var t=this;return s(document).one("click.event",function(){t.$("#edit-data-drop-"+t.model.id).fadeOut(100)}),e.stopPropagation(),!1},cancelReply:function(e){return this.$("#reply-box-"+this.model.id).fadeToggle(400),e.stopPropagation(),!1},hoverNested:function(e){return this.$("#edit-data-"+this.model.id).fadeToggle(100),this.$("#edit-data-drop-"+this.model.id).fadeOut(100),e.stopPropagation(),!1},showHiddenComments:function(e){return this.$(".hidden-comment").fadeIn(400),this.$(".show-toggle").hide(),e.stopPropagation(),!1}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(5),r=i(4),l=i(34),d=i(412);i(7);e.exports=n.View.extend({template:d,events:{"click .submit-post":"submitPost","keyup .skill-list":"onTopic","change .skill-list":"onTopic","click .cancel-post":"cancelPost","click .category-option":"changeCategory","keyup #question-title":"showError","blur #question-title":"hideError"},initialize:function(e){this.type=e.type,this.edit=e.edit,this.success=e.success},render:function(){var e={edit:this.edit,subscriptions:this.model.get("subscriptions"),all_topics:this.model.get("all_topics"),type:this.type,id:this.model.id,name:this.model.get("name"),show_subscriptions:null===this.model.id||this.model.get("subscribed"),troubleshoot_only:duo.user&&!duo.user.metSocialXPThreshold(),troubleshoot_topic:this.model.get("troubleshooting_id")};e[this.type]=!0,this.$el.html(s.duostache(this.template,e));var t=this.edit?this.model.get("topic").id:this.model.id;if(t){var i=this.$('.skill-list [data-topic="'+t+'"]'),n=i.data("name");this.$(".skill-list").val(i.attr("value")),this.$("#category").attr("data-id",i.data("topic")),n&&(this.$(".topic").text(o(n)),this.$("#category").text(o("Topic:")+" "+i.data("name")))}return this.edit&&(this.$(".post-field").text(this.model.get("message")),this.$(".title-field").text(this.model.get("title"))),a.defer(a.bind(function(){this.$("label").inFieldLabels()},this)),this},submitPost:function(){var e=s.trim(this.$(".title-field").val()),t=s.trim(this.$(".post-field").val()),i=this.$("#category").data("id");this.$(".skill-list").val();if(0===e.length||!i&&!this.edit)return this.$(".list-discussion-errors").show(),0===e.length&&this.$(".no-title").show(),void(i||this.$(".no-topic").show());if(this.$("input, textarea, .submit-post").attr("disabled","disabled"),this.edit)i||(i=this.selected),this.model.save({title:e,message:t,topic_id:i},{success:this.success});else{var a=new l({title:e,message:t,type:this.type});a.set({topic_id:String(i)}),a.save(null,{success:this.success}),r.track("Questions Post",{type:this.type}),this.$("#posted-label").show().delay(3e3).fadeOut(1e3),this.render()}},onTopic:function(){var e=this.$(".skill-list").val(),t=this.$('.skill-list [value="'+e+'"]').data("name");this.$(".topic").text(o(t))},cancelPost:function(){s(".comment-rankings").show(),s(".page-main > .discussion-header").show(),s(".discussion-main").show(),s(".discussion-comments").show(),s(".discussion-main").show(),this.$el.hide()},changeCategory:function(e){var t=s(e.currentTarget).data("name");this.$("#category").text(o("Topic:")+" "+t),this.$("#category").attr("data-id",s(e.currentTarget).data("topic")),this.hideError()},showError:function(){var e=this.$(".title-field").val().length;100==e?this.$(".max-error").fadeIn():this.hideError()},hideError:function(){this.$(".max-error").fadeOut(),this.$(".list-discussion-errors").hide()}})},function(e,t,i){var s=i(142);e.exports=s.extend({register_route:"/register_delayed",gatherInput:function(e){var t=s.prototype.gatherInput.call(this,e);return t.username=t.register_login,t.password=t.register_password,delete t.register_login,delete t.register_password,t}})},function(e,t,i){var s=i(1),a=i(2),n=i(14),o=i(4),r=i(450),l=i(28);i(7);e.exports=l.extend({id:"app",className:"page-forgot",template:r,events:{"click input[type=submit]":"submit","click .input-block":"hideErrors"},render:function(){o.track("forgot password page load"),this.delegateEvents(),this.$el.html(s.duostache(this.template,{ui_language:duo.browser_language,ui_language_name:duo.ui_language_name,ui_languages:duo.ui_languages}));var e=this;return a.defer(function(){e.$("label").inFieldLabels()}),this},submit:function(){var e=s("#email").val(),t=/^([a-zA-Z0-9_\+\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$$/,i=this;return t.test(e)&&-1!=e.indexOf("@")?n.forgotPassword(e).done(function(){i.$("#form_txt_good").show(),i.$("#email").removeClass("error"),i.$("#forgot-form").hide(),o.track("forgot password",{valid_email:!0,valid_account:!0})}).fail(function(){i.$("#email").addClass("error"),i.$("#form_txt_good").hide(),i.$("#not-found-email").show(),o.track("forgot password",{valid_email:!0,valid_account:!1})}):(s("#email").addClass("error"),s("#form_txt_good").hide(),this.$("#email-error").show(),o.track("forgot password",{valid_email:!1,valid_account:!1})),!1},hideErrors:function(){this.$(".warning-message").hide()}})},function(e,t,i){var s=i(1),a=i(2),n=i(14),o=i(5),r=i(4),l=i(452),d=i(28);i(7);e.exports=d.extend({id:"app",className:"page-login",template:l,events:{"click #login-button":"login"},login:function(){var e=this,t=this.gatherInput("#login-form");return n.login(t.login,t.password,t.mixpanel_id).done(function(){r.trackAndReload("login old id",{login_method:"email",ui_location:"login page"}),e.$("input[type!=submit]").removeClass("error")}).fail(function(){e.$("#message").text(o("Wrong username or password")),e.$("#message").show(),e.$("input[type!=submit]").addClass("error")}),!1},render:function(e){this.delegateEvents(),s("#topbar-menu").hide(),this.$el.html(s.duostache(this.template,{came_from:e,ui_language:duo.browser_language,ui_language_name:duo.ui_language_name,ui_languages:duo.ui_languages}));var t=this;return a.defer(function(){t.$("label").inFieldLabels({periodic:!0})}),this}})},function(e,t,i){var s=i(86),a=i(458);e.exports=s.extend({template:a,register:function(){this._form.classroom_info=this.options.classroom_info,this._form.register()},signupFacebook:function(){}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(453),r=i(311),l=i(310),d=i(87),c=i(306);e.exports=n.View.extend({template:o,events:{"click .existing-login":"switchToLoginView","click .create-profile":"switchToCreateView"},render:function(){this.$el.html(s.duostache(this.template));var e=a.extend({el:this.$("#register-view")},this.options);return this.register_view=duo.user?new l(e):this.options.learning_language?new c(e):new d(e),this.login_view=new r({el:this.$("#login-view")}),this.register_view.render(),this.login_view.render(),this},switchToLoginView:function(){duo.user||duo.ab_options.login_modal_experiment?(this.$("#register-view").hide(),this.$("#login-view").show(),this.$("#user-login").hide(),this.$("#create-account").show()):(this.$("#signup-modal").modal("hide"),s(".topbar #sign-in-btn").click())},switchToCreateView:function(){this.$("#login-view").hide(),this.$("#register-view").show(),this.$("#create-account").hide(),this.$("#user-login").show()}})},function(e,t,i){var s=i(1),a=i(2),n=i(5),o=i(454),r=i(28);i(7);e.exports=r.extend({id:"app",className:"one-click-landing",template:o,events:{"click input[type=submit]":"submit"},initialize:function(){var e=this;s.get("/one_click/get_username",{email:this.options.email},function(t){e.username=t,e.render()})},render:function(){this.$el.html(s.duostache(this.template,{email:this.options.email,token:this.options.token,username:this.username}));var e=this;return a.defer(function(){e.$("label").inFieldLabels()}),this},submit:function(){var e=this.gatherInput("#gplus-form");e.one_click=!0;var t=this;return s.post("/reset",e,function(e){"OK"===e.response?window.location.href="/":(t.$("#reset-message").text(n(e.response)),t.$("#reset-message").show(),e.fields&&t.$("input[type=password]").addClass("error"))},"json"),!1}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(4),r=i(40),l=i(455),d=i(28);i(7);e.exports=d.extend({template:l,events:{"keydown #register-form":"registerKeyInput","blur #fullname":"suggestUsernames","click #login":"suggestUsernames","click .suggested-name":"useSuggestion","click .direction-option":"changeDirection","click .input-label":"setFocus"},register_route:"/register",initialize:function(e){this._prefilled={},this._ui_location=e.ui_location,this.classroom_info=e.classroom_info},render:function(){this._suggestion_base="";var e=duo.user&&duo.user.get("trial_account")&&!o.isTrialEmail(duo.user.get("email"))?duo.user.get("email"):void 0,t=a.filter(duo.available_languages,function(e){return e.from_ui}),i=this.options.teacher_register?duo.browser_language:t[0].from_language,n=this.options.teacher_register?null:t[0].learning_language;this.$el.html(s.duostache(this.template,a.extend({available_languages:t,learning_language:n,ui_language:i,hide_language_select:this.options.hide_language_select||this.options.teacher_register,email:e||this.options.email,splash_skip_delayed:this.options.splash_skip_delayed,hide_social_signup:this.options.magic_link_view||duo.cn_extension,teacher_register:this.options.teacher_register,hide_username:this.options.hide_username},this._prefilled))),this.delegateEvents();var r=this;return a.defer(function(){r.$("label").inFieldLabels({periodic:!0})}),a.defer(function(){var e=r._prefilled.learning_language?r._prefilled.learning_language:s(".language-list li").first().data("value");r.$("#direction .prompt").text(s("#opt-"+e).text()),r.$("#direction").attr("data-value",e)}),this.suggestUsernames(),this},registerKeyInput:function(e){return this.$(".error").removeClass("error"),this.$(".error-flag").hide(),13===e.which?(this.register(),!1):void 0},changeDirection:function(e){var t=s(e.currentTarget).data("value"),i=t,a=duo.browser_language,o=t.split("-");o.length>1&&(i=o[1],a=o[0]),this.options.magic_link_view||n.history.navigate("/register$target_language="+i),a!=duo.browser_language?duo.switchLanguage(a):(this.$('input[name="learning_language"]').val(s(e.currentTarget).data("value")),this.$("#direction .prompt").text(s("#opt-"+t).text()))},suggestUsernames:function(){var e=this,t=s.trim(e.$("#fullname").val());""==t?e.$(".suggest-box").hide():t!=this._suggestion_base&&(this._suggestion_base=t,e.$(".suggest-box").show(),e.$(".suggest1, .suggest2").text("").fadeTo(0,0).fadeTo(800,1),s.get("/api/1/users/suggest_username",{name:t},function(t){t.length>0?(e.$(".suggest1").text(t[0]),t.length>1&&e.$(".suggest2").text(t[1])):e.$(".suggest-box").hide()}))},useSuggestion:function(e){var t=s(e.currentTarget).text();this.$("#login").val(t),this.$(".error").removeClass("error"),this.$(".error-flag").hide()},fillWithFacebook:function(e,t,i){var s=this;o.loginWithFacebookNoRegister(this._ui_location,function(){e&&e()},function(e){s.prefill({facebook_username:e.username,profile_image:e.profile_image_url,facebook_id:e.id,facebook_name:e.name,fullname:e.name,email:e.email}),t&&t()},function(){s.clearSocialLogin(),i&&i()})},hasFacebook:function(){return Boolean(this._prefilled.facebook_id)},clearSocialLogin:function(){this.prefill({facebook_id:null,profile_image:null,facebook_name:null})},prefill:function(e){a.extend(this._prefilled,e)},setFocus:function(e){this.$("#"+s(e.currentTarget).attr("for")).focus()},register:function(){var e=this,t=this.gatherInput("#register-form");mixpanel.get_property&&(t.mixpanel_id=mixpanel.get_property("distinct_id")),this.$(".error-flag").hide(),this.$(".error").removeClass("error");var i=(new Date).getTime(),n=!this.options.magic_link_view&&this.options.splash_skip_delayed;return t.from_dashboard=n,t.generate_username=t.generate_username||this.options.teacher_register,s.post(this.register_route,t,function(l){var d=(new Date).getTime()-i,c="email";"facebook_id"in t&&(c="facebook"),"OK"===l.response?(n&&o.track("$create_alias",{alias:l.user_id}),o.track("register",{learning_language:t.learning_language,with_facebook:"facebook_id"in t,ui_location:e._ui_location,through:c,successful:!0,latency_ms:d,from_magic_link:e.options.magic_link_view,from_dashboard:n},function(){if(e.options.magic_link_view){var t=e.classroom_info.classroom_name;t=t?encodeURIComponent(t):"";var i=function(){s.browser.mobile||duo.user?window.location="/":window.location="/welcome"};r.addObserver(e.classroom_info,{},i,i)}else e.options.splash_skip_delayed?window.location="/":window.location=duo.user?"/":"/welcome"},300)):(a.each(l.failures,function(e,t){this.$("#"+t).addClass("error"),this.$("#"+e+"-"+t+"-error").show()},e),o.track("register",{learning_language:t.learning_language,successful:!1,through:c,ui_location:e._ui_location,error:a.keys(l.failures).join(", "),latency_ms:d}))},"json"),!1}})},function(e,t,i){var s=i(1),a=i(2),n=i(4),o=i(3),r=i(5),l=i(457);i(7);e.exports=o.View.extend({id:"app",className:"page-reset",template:l,events:{"click input[type=submit]":"submit"},render:function(){this.delegateEvents(),this.$el.html(s.duostache(this.template,{email:this.options.email,token:this.options.token})),this.options.user_id&&n.track("reset password link clicked",{distinct_id:this.options.user_id});var e=this;return a.defer(function(){e.$("label").inFieldLabels()}),this},submit:function(){var e=s("#email").val(),t=s("#token").val(),i=s("#new-password").val(),a=s("#confirm-new-password").val(),o=this;return s.post("/reset",{email:e,token:t,new_password:i,confirm_new_password:a},function(e){"OK"===e.response?(o.$("input[type=text]").removeClass("error"),o.$("#reset-message").text(""),s("#form_txt_good").show(),s("#reset-form").hide(),o.options.user_id&&n.track("reset password submit",{distinct_id:o.options.user_id,successful:!0})):(o.$("#reset-message").text(r(e.response)),o.$("#reset-message").show(),e.fields&&o.$("input[type=password]").addClass("error"),o.options.user_id&&n.track("reset password submit",{distinct_id:o.options.user_id,successful:!1}))},"json"),!1}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(14),r=i(5),l=i(23),d=i(4),c=i(459),u=i(28),h=i(145),g=i(59);i(7);e.exports=u.extend({id:"app",template:c,events:{"click #subscribe-button":"subscribe","click #language-dropdown":"languageList","click .language-selector li":"hideLanguageList","click #video-toggle":"showVideo","click .bottom-signup-btn":"redirectClick","click .testing":"showRegistration","click #login-button":"login","click .close-button":"hideBanner"},initialize:function(){this.removeTrialCookies(),l.on("closeRegister",function(){setTimeout(this.checkForSlider,300)},this)},render:function(){var e=a.filter(duo.available_languages,function(e){return e.from_ui});if("en"===duo.browser_language){var t=a.findWhere(e,{learning_language:"nb"});a.isUndefined(t)||(t.base_learning_language_name="Norwegian")}this.$el.html(s.duostache(this.template,{ui_language:duo.browser_language,ui_language_lang_id:duo.browser_language_id,languages_from_ui:e,single_learning_language:e.length<2,en_ui_language:"en"===duo.browser_language,ui_language_name:duo.ui_language_name,ui_languages_list:duo.ui_languages,use_mobile_banner:duo.isAndroid(),app_rating:"4.7",app_reviews:"2,800,000+"}));var i=this;return a.defer(function(){i.$(".mobile-banner").is(":visible")&&d.track("show banner",{where:"splash",creative:"play store"})}),this.signup_view=new h({el:this.$(".signup"),single_learning_language:e.length<2,splash_skip_delayed:this.options.splash_skip_delayed,google_only:this.options.google_only,email:this.options.email}),this.signup_view.render(),a.defer(function(){i.$("label").inFieldLabels({periodic:!0}),i.$("option[value="+duo.learning_language+"]").attr("selected",!0),n.history.once("route",i.cleanUp,i),i.onScroll(),s(window).bind("scroll",i.onScroll);var e;s(window).resize(function(){clearTimeout(e),e=setTimeout(i.checkForSlider,500)}),setTimeout(i.checkForSlider,0)}),a.defer(function(){var e=new g({el:s("#footer-sitemap"),logged_in:!!duo.user,is_splash:!0});e.render()}),this},removeTrialCookies:function(){var e=Object.keys(duo.getCookie());a.each(e,function(e){0===e.indexOf("skill_finished_")&&duo.removeCookie(e)})},checkForSlider:function(){"en"==duo.browser_language&&(Math.max(document.documentElement.clientWidth,window.innerWidth||0)<2050?(this.$(".featured-languages").addClass("slider"),this.slider&&this.$(".bx-wrapper").length>0?this.slider.reloadSlider():this.slider=s(".bxslider").bxSlider({minSlides:6,maxSlides:7,slideWidth:115,slideMargin:0,moveSlides:2,pager:!1})):(this.slider&&this.slider.destroySlider(),this.$(".featured-languages").removeClass("slider")))},onScroll:function(){s(".topbar").toggleClass("no-shadow",s(window).scrollTop()<=0),this.$(".scroll-animate").each(function(e,t){t=s(t),t.visible(!0)&&t.addClass("slide-in")})},languageList:function(){s(".language-selector").show()},hideLanguageList:function(){s(".language-selector").hide()},cleanUp:function(){s(window).unbind("scroll",this.onScroll),s(".topbar").removeClass("no-shadow")},subscribe:function(){var e=s("#email").val(),t=s("#learning_language").val(),i=/^([a-zA-Z0-9_\+\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$$/;return i.test(e)&&-1!=e.indexOf("@")?""==t?(s("#learning_language").addClass("error"),s("#form_txt_good").hide(),s("#form_txt_bad").hide()):s.post("/subscribe",{email:e,learning_language:t},function(e){"1"==e?(d.track("subscribe"),s("#form_txt_good").show()):s("#form_txt_bad").show(),s("#email").removeClass("error"),s("#subscribe-form").hide()},"json"):(s("#email").addClass("error"),s("#form_txt_good").hide(),s("#form_txt_bad").hide()),!1},showRegistration:function(e){this.signup_view.doNotAnimate(),this.signup_view.showPrefilled(e)},showVideo:function(){d.showIntroVideo(duo.browser_language)},redirectClick:function(e){var t=s(e.currentTarget).data("id");this.$(".login").hide(),this.signup_view.$("#"+t).click(),s("html, body").animate({scrollTop:0},1e3)},login:function(){var e=this,t=this.gatherInput("#login-form");o.login(t.login,t.password,t.mixpanel_id).done(function(){d.trackAndReload("login old id",{login_method:"email",ui_location:"login page"}),e.$("input[type!=submit]").removeClass("error")}).fail(function(){e.$("#message").text(r("Wrong username or password")),e.$("#message").show(),e.$("input[type!=submit]").addClass("error")})},hideBanner:function(){this.$(".mobile-banner").hide()}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(14),r=i(23),l=i(4),d=i(44),c=i(86);e.exports=c.extend({template:d,events:a.extend({},c.prototype.events,{"click .choose-language":"signupTrial","click .choose-ui-language-row":"signupTrial","click .expand-english":"toggleEnglishCourses","click .choose-another-course":"chooseAnotherCourse"}),initialize:function(e){if(c.prototype.initialize.call(this,a.extend({ui_location:"splash registration"},e)),r.on("closeRegister",this.closeForm,this),r.on("logInClicked",this.existingLoginMobile,this),this.course_picked=!1,this.languages_from_ui=a.filter(duo.available_languages,function(e){return e.from_ui}),this.languages_from_en=a.filter(duo.available_languages,function(e){return"en"===e.from_language}),"en"===duo.ui_language){this.courses_teaching_en=a.filter(duo.available_languages,function(e){return"en"===e.learning_language_id});var t=a.extend({},this.courses_teaching_en[0],{generic_english_course:!0,from_language:"en",num_learners_string:duo.num_english_learners_string});this.languages_from_ui.splice(4,0,t)}},showForm:function(){s(".mobile-banner").hide();var e=this;if(this._form_hidden){n.history.navigate("/register");var t=e.$("#signup-main"),i=e.$("#signup-language");t.fadeOut(250,function(){e.$el[0].scrollHeight;i.hide(),s("body").animate({scrollTop:0},250,function(){i.fadeIn(250)})})}else e.render();s(".monument-carousel").addClass("choose-course-by-flag").addClass("fit-to-"+this.languages_from_ui.length+"-source-langs"),e._form_hidden=!1,s(".flag-carousel").fadeOut().hide()},closeForm:function(){this._form_hidden||(this.$el.css("height",""),this.$el.css("overflow",""));var e=this,t=(s(".monument-carousel"),this.$("#signup-main"));this.$("#signup-language:visible, .login:visible").fadeOut(250,function(){t.hide(),t.fadeIn(),s(".flag-carousel").fadeIn().show(),e.removeLangFits(),e.$(".english-courses").hide(),s(".language-selection-container").show(),s(".ui-language-selection-container").hide()}),this._form_hidden=!0},signupGoogle:function(e){l.loginWithGoogle("splash registration",function(){window.location.reload(!0)},function(){window.location.href="/welcome"})},removeLangFits:function(){s(".monument-carousel").removeClass("choose-course-by-flag").removeClass("with-additional-course").removeClass("fit-for-choose-ui-lang").removeClass("fit-to-"+this.languages_from_en.length+"-source-langs").removeClass("fit-to-"+this.languages_from_ui.length+"-source-langs")},signupTrial:function(e){if(!this.course_picked){this.course_picked=!0;var t=s(e.currentTarget),i=l.languageAbbrevToId(t.data("from")),a=l.languageAbbrevToId(t.data("language"));if(i===a)return s(".monument-carousel").addClass("fit-for-choose-ui-lang").removeClass("fit-to-"+this.languages_from_ui.length+"-source-langs"),this.$(".language-selection-container").hide(),this.$(".ui-language-selection-container").show(),this.course_picked=!1,void s(window).scrollTop(0);s(".login-signup-flag-list-container, .choose-ui-language").addClass("course-chosen"),t.addClass("active"),o.createUser(i,{fromLanguage:i,learningLanguage:a}).done(function(e){l.track("$create_alias",{alias:""+e.id},function(){window.location="/welcome"},300)})}},toggleEnglishCourses:function(){var e=this.$(".english-courses"),t=s(".monument-carousel"),i="fit-to-"+this.languages_from_en.length+"-source-langs";i+=" with-additional-course";var a="fit-to-"+this.languages_from_ui.length+"-source-langs";e.is(":visible")?t.switchClass(i,a):t.switchClass(a,i),e.slideToggle("600")},chooseAnotherCourse:function(){this.$(".language-selection-container").show(),this.$(".ui-language-selection-container").hide(),s(".monument-carousel").removeClass("fit-for-choose-ui-lang").addClass("fit-to-"+this.languages_from_ui.length+"-source-langs"),s(window).scrollTop(0)}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(14),r=i(5),l=i(4),d=i(183),c=i(28);e.exports=c.extend({template:d,events:{"click #login-button":"login","click #sign-in-btn":"toggleLogin","click #facebook-login":"facebookLogin","keyup #login-form input":"onInput","click .signup-gplus":"signUpGplus","click .signup-facebook":"facebookLogin","click .hamburger":"showMobileMenu","click .topbar-right":"showMobileMenu","change #show-languages":"changeLanguage"},setLogin:function(e){this.$("#top_login").val(e)},isOpen:function(){var e=this.$("#login-modal");return e.is(":visible")},login:function(e){var t=this,i=this.gatherInput("#login-form");mixpanel.get_property&&(i.mixpanel_id=mixpanel.get_property("distinct_id")),o.login(i.login,i.password,i.mixpanel_id).done(function(){window.location.href.indexOf("register")>-1&&n.history.navigate("/",{replace:!0}),l.trackAndReload("login old id",{login_method:"email",ui_location:"topbar login"}),t.$("input[type=text], input[type=password]").removeClass("error")}).fail(function(){t.$("#message").text(r("Wrong username or password")),t.$("#message").show(),t.$("input[type=text], input[type=password]").addClass("error")}),e.preventDefault()},toggleLogin:function(e){var t=this.$("#login-modal");t.toggle();var i=t.find("#top_login"),n=t.find("#top_password");0===i.val().length?i.focus():n.focus(),t.is(":visible")&&a.defer(function(){
s(document).unbind("click.topbar").one("click.topbar",function(e){var i=s(e.target);i.closest(".sign-in").size()>0||t.hide()})})},facebookLogin:function(){var e=this;e.$("#message").hide(),l.loginWithFacebookNoRegister("topbar login",function(){window.location.reload(!0)},function(e){n.history.navigate("/register",{trigger:!0}),duo.loginRouter.showRegistration({facebook_username:e.username,profile_image:e.profile_image_url,facebook_id:e.id,facebook_name:e.name,fullname:e.name,email:e.email})},function(){e.$("#message").text(r("Unable to connect to Facebook. Please try again later or use a different method to sign in.")),e.$("#message").show()})},signUpGplus:function(e){var t=this;t.$("#message").hide(),l.loginWithGoogle("topbar login",function(){window.location.reload(!0)},function(){window.location.href="/welcome"},function(){t.$("#message").text(r("Unable to sign in with Google+. Please try again later or use a different method to sign in.")),t.$("#message").show()})},onInput:function(e){13!==e.which&&(this.$("#message").hide(),this.$("input[type=text], input[type=password]").removeClass("error"))},showMobileMenu:function(e){this.$(".mobile-menu").hasClass("open")?this.closeMobileMenu():(this.$(".mobile-menu").addClass("open"),s('<div id="mobile-menu-backdrop"></div>').appendTo(document.body),s("#mobile-menu-backdrop").hide().fadeIn(100)),e.stopPropagation()},closeMobileMenu:function(){this.$(".mobile-menu").removeClass("open"),s("#mobile-menu-backdrop").delay(500).fadeOut(300,function(){s(this).remove()})},changeLanguage:function(){var e=this.$("#show-languages option:selected").data("abbrev");window.location="//"+e+".duolingo.com"},goBack:function(){document.referrer&&document.referrer.indexOf("duolingo.com")>-1?history.back():window.location.href="/"}})},function(e,t,i){var s=i(6),a=i(185),n=i(84);e.exports=n.extend({id:"topbar",template:a,render:function(){var e={ui_language_name:duo.ui_language_name,ui_languages_list:duo.ui_languages,show_site_language_selector:!0};return this.$el.html(s(this.template,e)),this}})},function(e,t,i){"use strict";var s=i(2),a=i(6),n=i(3),o=i(483);e.exports=n.View.extend({template:o,render:function(){return this.$el.html(a(this.template,this.model.toJSON())),this.$(".modal").modal("show").on("hidden.bs.modal",s.bind(this.onHidden,this)),this.$(".skill-icon.small:first").addClass(this.model.get("dependencies").first_skill_color+" unlocked").removeClass("locked"),this.$(".prereq-title:first").addClass("black"),this},onRoute:function(){this.$(".modal").modal("hide")},onHidden:function(){this.remove()}})},function(e,t,i){"use strict";var s=i(2),a=i(6),n=i(3),o=i(486);e.exports=n.View.extend({template:o,render:function(){return this.$el.html(a(this.template,s.extend(this.options.next_skill,{xp_goal:this.options.xp_goal}))),this.$(".modal").modal("show").on("hidden.bs.modal",s.bind(this.onHidden,this)),this},onRoute:function(){this.$(".modal").modal("hide")},onHidden:function(){this.remove()}})},function(e,t,i){var s=i(1),a=i(18),n=i(95);e.exports=a.extend({getNumHearts:function(){var e=this.model.get("more_lenient")?4:3;return duo.user.get("ab_options").hover_heart_experiment&&(e+=1),e},failed:function(){this.model.save({failed:!0});var e=new n({model:this.model,appClasses:s("#app").attr("class"),hearts_view:this.hearts_view,progress_view:this.progress_view,grade_view:this.grade_view,elementView:this.element_view});return this.$el.replaceWith(e.render().el),this}})},function(e,t,i){var s=i(1),a=i(2),n=i(500),o=i(94),r=i(18),l=i(42);e.exports=o.extend({events:a.extend({},r.prototype.events,{"click .ready-panel #start-button":"startSession","click #preview":"preview"}),render:function(){if(this.ready_to_start)r.prototype.render.call(this);else{var e=duo.user.toJSON(),t=this;e.recent_score=a.find(duo.user.get("certificates"),function(e){return e.language==t.model.get("language")}),s("body").addClass("player");var i=s.duostache(n,a.extend(this.model.toJSON(),e));this.$("#session-element-container").html(i)}return this},startSession:function(){this.checkForm()&&(this.model.set({realname:this.$("#realname").val()}),o.prototype.startSession.call(this))},initializeSubViews:function(e){this.grade_view=new l({model:this.model}),this.$("#grade").replaceWith(this.grade_view.render().el),this.model.incrementPosition(),this.soundEffectsEnabled=duo.user.playEffects()&&soundManager},checkForm:function(){var e=!1;return e=""==this.$("#realname").val(),!e},renderEnd:function(){var e=this;return s(document).unbind(this.getEventClass()),this.model.save({end_time:new Date},{success:function(){e.showEndView()}}),s("#app").removeClass("leave-warning"),window.onbeforeunload=null,this},preview:function(){var e="/certs/preview?language="+this.model.get("language")+"&fullname="+encodeURIComponent(this.$("#realname").val());window.open(e,"_blank")}})},function(e,t,i){var s=(i(1),i(2)),a=i(499),n=i(17),o=i(29);e.exports=o.extend({template:a,initialize:function(e){o.prototype.initialize.call(this,e),this.session.on("render",this.readyContinue,this),this.session.on("render",this.postRender,this)},readyContinue:function(){var e=this;s.defer(function(){e.session.set({state:"ready"}),e.session.addSolution(new n({session_element:e.model})),e.session.set({state:"submitted"}),e.session.set({state:"graded"})})},postRender:function(){this.$("#big-speaker").tts(s.extend(this.model.toJSON(),{language:this.model.get("language"),tts_type:"sentence",tts_id:this.model.get("phrase_id"),template:i(21),autoplay:duo.user.shouldAutoPlay()}))},clear:function(){this.session.unbind("render",this.readyContinue),this.session.unbind("render",this.postRender)}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(4),r=i(189),l=i(507),d=i(18),c=i(92);e.exports=d.extend({id:"app",className:"player",template:r,events:a.extend({},d.prototype.events,{"click .ready-panel #start-button":"startSession"}),initialize:function(e){var t=window.location.protocol+"//"+window.location.host+n.history.root;duo.sessionURL=document.URL.slice(t.length),this.challengeHistory=[],this.ready_to_start=!1;var i=duo.isTransliterationLanguage(this.model.get("language"));this.$el.html(s.duostache(this.template,a.extend(this.model.toJSON(),{requires_ready:!0,in_class:!0,can_transliterate:i}))),this.bindEvents(),this.initializeSubViews(e),this.soundEffectsEnabled=duo.user.playEffects()&&soundManager},renderElementView:function(){if(!this.ready_to_start){s("body").addClass("player in_class");var e=s.duostache(l,this.model.toJSON());return void this.$("#session-element-container").html(e)}return d.prototype.renderElementView.apply(this,arguments)},startSession:function(){this.ready_to_start=!0,this.$(".ready-panel").remove(),this.$(".action-panel").show(),this.model.set({in_class:!0}),this.render(),this.checkSound();var e={type:"in_class"};o.track("session_start",e),o.track("in_class_session_start")},showEndView:function(){var e=new c({model:this.model});this.$el.replaceWith(e.render().el),this.soundEffectsEnabled&&soundManager.passedSound&&soundManager.passedSound.play(),s("#app").addClass("in_class");var t={failed:this.model.get("failed"),type:this.model.get("type"),num_hearts:this.model.get("num_hearts"),position:this.model.get("position"),num_word_hints:this.getNumHoveredWords(this.model),skill_tree_id:this.model.get("skill_tree_id"),request_hash:this.model.get("request_hash"),challenge_sequence_hash:this.model.get("challenge_sequence_hash")};a.extend(t,this.model.get("tracking_properties"));var i=this.model.get("position");void 0!==i&&(t.num_challenges_answered=1+i),o.track("session_end",t),o.track("in_class_session_end",t)}})},function(e,t,i){var s=i(1),a=i(3),n=i(511);e.exports=a.View.extend({template:n,initialize:function(e){this.version_too_low=e.version_too_low},render:function(){return this.$el.html(s.duostache(this.template,{version_too_low:this.version_too_low})),this.el}})},function(e,t,i){var s=i(1),a=(i(6),i(56)),n=i(501);e.exports=a.extend({template:n,initialize:function(){this.started=!1,a.prototype.initialize.call(this),this.model.bind("change:confidence",this.render,this)},render:function(){var e=this.model.get("confidence")||0;return this.$el.html(s.duostache(this.template,{confidence:e,done:e>=100})),this}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=(i(6),i(524));e.exports=n.View.extend({template:o,initialize:function(){this.model.on("grade",this.render,this)},render:function(){var e=this.model.getNumberCorrectOnFirstTry();this.$el.html(s.duostache(this.template,a.extend(this.model.toJSON(),{points:e})))}})},function(e,t,i){var s=i(2),a=i(4),n=i(188),o=i(97);e.exports=o.extend({template:n,initialize:function(e){o.prototype.initialize.call(this,e),duo.updateHeard=s.bind(this.receiveHeard,this)},playTTS:function(){},receiveScore:function(e){this.canSubmit()&&this.ses.set({correctness:e})},receiveHeard:function(e){if(this.canSubmit()){this.attempts++;var t;if(e){var i=a.normalizeHomophones(this.lang,a.preprocessTextSpeak(e));t=e===this.translation||i===this.translation_norm,t&&this.translation&&(e=this.translation,this.ses.set({correct:t,incorrect:!t}))}else t=!1,this.ses.set({correct:t,incorrect:!t});this.ses.set({value:e,attempts:this.attempts,try_again:this.attempts<this.max_attempts}),this.save(this.ses)}},setSolutionTranslation:function(e){e.get("correct")&&!e.get("incorrect")&&e.get("closest_translation")||!this.translation||e.set({closest_translation:this.translation})},clear:function(){duo.updateHeard=null,o.prototype.clear.call(this)}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=(i(30),i(4)),r=(i(27),i(6),i(21)),l=i(514);e.exports=n.View.extend({template:l,events:{"click .challenge":"showReviewPopover","click .speaker-medium":"stopPropagation","click .popover":"stopPropagation","click .close":"closeReviewPopover"},render:function(){this.num_per_row=4;var e=this.formatReviewData();this.$el.html(s.duostache(this.template,e));var t=this;return a.defer(function(){"certification_test"!=t.model.get("type")&&a.each(e.review_data,function(e,i){if(e.user_response&&e.correct_solution&&!e.judge_challenge){var n=/[\.,-\/#?!$%\^&\*;:{}=\-_`~()]/g,l=e.correct_solution.replace(n,"").replace(/\s{2,}/g," ").toLowerCase(),d=e.user_response.replace(n,"").replace(/\s{2,}/g," ").toLowerCase(),c=o.wordHighlightDiff(l,d);a.each(c,function(e){if(0!=e[0]){var t=-1==e[0]?"correct_solution":"user_response",a=e[1].length,n=s("#"+t+"_"+i).text().toLowerCase().indexOf(e[1].toLowerCase());if(n>-1){var o=s("#"+t+"_"+i).text().substring(n,n+a);s("#"+t+"_"+i+':contains("'+o+'")').html(function(t,i){var s=-1==e[0]?"correct_highlight":"highlight";return i.replace(o,'<span class="'+s+'">'+o+"</span>")})}}})}var u=e.tts_id;a.defer(function(){t.$(".listen-"+i).tts({language:t.model.get("language"),tts_type:"sentence",tts_id:u,template:r,visible:!0,autoplay:!1,click:!0,size:"medium"})})})}),this},formatReviewData:function(){var e=[],t=this.model.get("session_element_solutions"),i=this;return a.each(t,function(s,n){var o=a.last(s),r=o.get("session_element"),l={};if(l.type=o.get("type"),l.prompt=r.get("sentence")?r.get("sentence"):r.get("hint"),l.user_response=o.get("value")?o.get("value"):o.get("article")+" "+o.get("word"),o.get("value")||o.get("word")||(l.user_response=o.get("sentence")),"form"==l.type){l.prompt="",a.each(r.get("tokens"),function(e){l.prompt+=e.word?e.display_value:"___"});var d=l.user_response;l.user_response=d.slice(0,d.length-2)+"."}if(l.correct=o.get("correct"),"speak"==l.type||"reverse_speak"==l.type){if(o.get("mic_off")&&(l.mic_off=!0),l.prompt=r.get("text"),l.correct_solution=r.get("text"),"reverse_speak"==l.type)if(o.get("closest_translation"))l.correct_solution=o.get("closest_translation");else{var d=r.get("stripped_text"),c=d.split("|")[1];l.correct_solution=c.charAt(0).toUpperCase()+c.slice(1)}}else(o.get("correct_solutions")||o.get("closest_translation"))&&(l.correct_solution=o.get("closest_translation")?o.get("closest_translation"):o.get("correct_solutions")[0]);if("judge"==o.get("type")){var u=[],h=[];a.each(r.get("sentences"),function(e,t){"correct"==o.get("choices")[t]&&u.push({sentence:e.sentence,incorrect:"incorrect"==o.get("correct_choices")[t]}),"correct"==o.get("correct_choices")[t]&&h.push({sentence:e.sentence,missed:"correct"!=o.get("choices")[t]})}),l.user_response=u,l.correct_solution=h,l.prompt=r.get("text")}if(l.highlights=o.get("highlights"),l.blame=o.get("blame"),l[o.get("type")+"_challenge"]=!0,l[o.get("type")]=!0,"reverse_speak"!=o.get("type")&&"speak"!=o.get("type")||(l.speak=!0),o.get("skipped")&&(l.skipped=!0),l.num_comments=o.get("num_comments"),l.tts_id=r.get("tts_id"),l.index=n,t.length>i.num_per_row-1&&((n+1)%i.num_per_row==1?l.left_align=!0:(n+1)%i.num_per_row==0&&(l.right_align=!0)),n>i.num_per_row-1){var g=t.length%i.num_per_row?t.length%i.num_per_row:i.num_per_row;t.length-g<=n&&(n>2*i.num_per_row-1?l.last_row=!0:l.alt_last=!0)}l.row=Math.floor(n/i.num_per_row),e.push(l)}),{review_data:e}},showReviewPopover:function(e){this.$(".carousel").carousel("pause");var t=s(e.currentTarget).find(".popover"),i=t.parent().data("index");if(s(e.currentTarget).parents(".popover, .speaker-container").length)return!1;if(t.is(":visible"))return void this.closeReviewPopover(void 0,i);var a=this.$("#review-page .popover:visible").not(t).closest(".challenge").data("index"),n=this.$("#review-page .popover:visible").not(t).closest(".challenge").data("last"),o=Math.ceil(a/this.num_per_row)-Math.ceil(i/this.num_per_row)>=2;void 0!=a&&(n&&t.parent().data("last")||o?(this.$("#review-page .popover").not(t).hide(),n&&!t.parent().data("last")&&this.$(".footer-owl").hide()):this.closeReviewPopover(void 0,a)),t.fadeIn();var r=this.$(".review-container");t.parent().data("last")&&this.$(".footer-owl").show();var l=t.closest(".challenge").position().top-(0==s(e.currentTarget).data("row")?0:110);0!=l&&r.animate({scrollTop:r.scrollTop()+l},"slow")},closeReviewPopover:function(e,t){void 0==t&&(t=s(e.currentTarget).closest(".challenge").data("index"));var i=this.$('.challenge[data-index="'+t+'"]').find(".popover");if(i.parent().data("last")||i.parent().data("alt-last")){var a=this;this.$(".review-container").animate({scrollTop:s(".review-container").scrollTop()+a.$('.challenge[data-index="'+(t-a.num_per_row)+'"]').position().top-110},"slow",function(){a.$(".footer-owl").hide()}),i.fadeOut("slow")}else i.fadeOut()},stopPropagation:function(e){var t=s(e.currentTarget);if(t.hasClass("speaker-medium")){var i=t.closest(".challenge").data("index"),a=this.$("#review-page .popover:visible").closest(".challenge").data("index");a&&i!=a&&this.closeReviewPopover(void 0,a)}return e.stopPropagation(),!1}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(4),r=i(14),l=i(39),d=i(20),c=i(193);e.exports=n.View.extend({id:"app",className:"welcome",template:c,events:{"click .daily-goal-option":"changeDailyGoal","click .set-goal":"selectDailyGoal","click .chrome-next":"showChoosePathDialog","click .path-basics":"startAtBasics","click .path-placement-test":"startAtPlacementTest","click .no-certificate":"leaveWarmWelcome","click .add-certificate":"addCertificate"},initialize:function(e){var t=e.classroom_info;t&&duo.user.confirmObserver(t),this.showedChromeDialog=!1},render:function(){return this.$el.html(s.duostache(this.template,{learning_language:duo.user.get("learning_language"),learning_language_string:duo.user.get("learning_language_string"),localized_price:"US$49"})),duo.in_house_localized&&"en"===duo.user.get("learning_language")&&"experiment"===d.getConditionAndTreat("web_tc_warm_welcome")?a.defer(this.showWarmWelcome):duo.user.get("daily_goal")&&a.defer(this.showChoosePathDialog),this},showDailyGoal:function(){this.$(".welcome-step").hide(),this.$(".daily-goal-chooser").show()},changeDailyGoal:function(e){var t=s(e.currentTarget);this.$(".daily-goal-option").removeClass("active"),t.addClass("active")},selectDailyGoal:function(){this.dailyGoal=this.$(".daily-goal:checked").data("goal"),l.supported&&!l.enabled?this.askToAllowChromeNotifications():this.showChoosePathDialog()},showChromeNotificationsDialog:function(e){l.supported?l.subscribe(function(){o.track("chrome_gcm_permission_requested",{granted:!0}),e&&e()},function(){o.track("chrome_gcm_permission_requested",{granted:!1}),e&&e()}):e&&e()},askToAllowChromeNotifications:function(){this.showedChromeDialog=!0;var e=this;this.showChromeNotificationsDialog(function(){var t=s("#app");t.hasClass("welcome")&&!t.hasClass("choose-path")&&e.showChoosePathDialog()}),this.$(".welcome-step").hide(),this.$(".chrome-notification-container").show(),this.$(".chrome-notifications-arrow-container").show(),s(window).on("resize.alignArrow",this.alignArrow),this.alignArrow()},alignArrow:function(){var e=this.$(".chrome-notification-container"),t=this.$("#arrow-path"),i=this.$(".chrome-notifications-arrow-container").position(),s=e.offset(),a=e.height(),n=20,o=75,r=s.left-n-i.left,l=s.top+a/2-i.top;r=Math.max(r,o),r===o&&(l=s.top-n-i.top),this.$(".chrome-notifications-arrow").css({width:r+"px",height:l+"px"});var d=5,c=35,u=10;if(l-=d,r===o){var h=["M",c,u,c,l].join(" ");t.attr("d",h)}else{var g=["M",c,u,"C",c,l,c,l,r,l].join(" ");t.attr("d",g)}},showChoosePathDialog:function(){o.track("show home"),window.fbq("trackCustom","show home"),s(window).off("resize.alignArrow"),s(".welcome").addClass("choose-path"),this.$(".welcome-step").hide(),this.$(".choose-path-container").show()},startAtBasics:function(){var e=duo.user.getSkills().skills.find(function(e){return 1===e.get("coords_y")}),t="/skill/"+duo.user.get("learning_language")+"/"+e.get("url_title")+"/1";this.start(t)},startAtPlacementTest:function(){var e="/placement/"+duo.user.get("learning_language");this.start(e)},start:function(e){duo.user.get("daily_goal")?duo.homeRouter.navigate(e,!0):this.continuePath(this.dailyGoal,e)},showWarmWelcome:function(){this.$(".welcome-step").hide(),this.$(".warm-welcome").show(),o.track("tc_warm_welcome_shown")},leaveWarmWelcome:function(){duo.user.get("daily_goal")?this.showChoosePathDialog():this.showDailyGoal()},addCertificate:function(){o.track("tc_warm_welcome_clicked");var e=this;this.$(".warm-welcome .modal").clone().appendTo("body").modal({keyboard:!0,backdrop:!0,show:!0}).on("hidden",function(){this.remove(),e.leaveWarmWelcome()})},continuePath:function(e,t){var i={daily_goal:e},s=this;r.updateUser(duo.user.id,i).done(function(){duo.user.set(i)}).always(function(){s.showedChromeDialog||s.showChromeNotificationsDialog(),duo.homeRouter.navigate(t,!0)})}})},function(e,t,i){var s=i(1),a=i(26),n=(i(6),i(521)),o=i(99);i(15);e.exports=o.extend({template:n,render:function(){this.$el.html(s.duostache(this.template,this.model.toJSON())),this.$input_field=this.$("#text-input"),this.$input_field.vkeyboard({language:this.model.get("target_language"),placeholder:this.$("#vkeyboard-placeholder"),toggle_button:this.$("#toggle_vkeyboard"),shown:this.model.get("target_language")!=duo.user.get("ui_language")});var e={url:this.session.get("hints_url"),show_hints:1,callback:this.hintHover,callback_context:this,source_language:this.model.get("source_language"),target_language:this.model.get("target_language"),manual_hints:this.model.has("manual_hints")?this.model.get("manual_hints"):null};if(duo.user.getSkills().can_transliterate&&duo.user.get("transliterate")){var t=this.model.get("target_language")===this.session.get("language");e.text=this.model.get(t?"sentence":"sentence"+a.NATIVE_PROPERTY_SUFFIX),e.transliterate=t?"target_language":"source_language"}return this.$(".hints").hints(e),this},hintHover:function(e,t,i){clearTimeout(this.hover_idle_timer),this.submitted||this.session.trigger("hover",e)},change:function(e){s.trim(this.getVal()).length>0&&"rendered"===this.session.get("state")||0===s.trim(this.getVal()).length&&"ready"===this.session.get("state"),o.prototype.change.call(this,e)}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=(i(6),i(526));e.exports=n.View.extend({template:o,initialize:function(e){a.bindAll(this,"render","stop"),this.total_time=1e3*e.total_time||this.getTotalTime(),this.original_total_time=1e3*e.shown_max_time||this.total_time,this.count_up=e.count_up,this.extra=e.extra_time,this.long_sentence_bonus=e.long_sentence_bonus,this.soundEffectsEnabled=duo.user.playEffects()&&soundManager,this.interval_id=setInterval(this.render,1e3),this.model.bind("grade",this.graded,this),this.model.bind("retry",this.graded,this),this.model.bind("submit",this.pause,this),this.model.bind("end",this.stop),this.model.bind("fail",this.stop),this.model.bind("loading_tts",this.pause,this),this.model.bind("loaded_tts",this.resume,this),this.model.bind("loading_recorder",this.pause,this),this.model.bind("loaded_recorder",this.resume,this),duo.topbar.bind("navigate",this.stop),a.bindAll(this,"drawTimer")},render:function(){var e=this.getSecondsLeft();this.$el.html(s.duostache(this.template,a.extend(this.model.toJSON(),{running_out:6>=e,seconds:e}))),0>=e?this.model.set({times_up:!0}):6>=e&&this.soundEffectsEnabled&&soundManager.timerSound&&soundManager.timerSound.play(),this.$arc_data?(this.$(".counter").replaceWith(this.$counter),this.$counter.data(this.$arc_data).arc({animate:!0,value:Math.min(this.original_total_time/1e3,e),total:this.original_total_time/1e3})):a.defer(this.drawTimer)},drawTimer:function(){var e=this.$(".counter");e.arc({stroke:"#5b9700",fill:"#7ec200",strokewidth:1,value:this.total_time,total:this.original_total_time,width:5}),this.$counter=e,this.$arc_data=e.data()},getTotalTime:function(){var e=0;this.model.get("type");return this.model.get("session_elements").each(function(t){e+=5}),1e3*e},getSecondsLeft:function(){if(!this.model.has("start_time"))return this.count_up?0:this.total_time/1e3;var e=this.paused||new Date;if(this.model.get("start_time")>e){var t=new Date(e-10);this.model.set({start_time:t})}var i=e-this.model.get("start_time"),s=this.count_up?i:this.total_time-i;return Math.max(0,s/1e3)},padNumber:function(e){return 10>e?"0"+e:e},pause:function(){this.paused=new Date},resume:function(){var e=new Date;this.paused=this.paused||e,this.model.get("start_time").setMilliseconds(this.model.get("start_time").getMilliseconds()+(e-this.paused)),this.paused=null},graded:function(){this.resume();var e=this.model.getSubmittedSolution(),t=e.get("session_element");t&&a.contains(["speak","reverse_speak"],t.get("type"))&&e.get("mic_off")||this.extra&&e.get("correct")&&(this.total_time+=1e3*this.model.calculateExtraTime(t))},stop:function(){clearInterval(this.interval_id),this.model.unbind("grade",this.graded,this),this.model.unbind("retry",this.graded,this),this.model.unbind("submit",this.pause,this),this.model.unbind("end",this.stop),this.model.unbind("fail",this.stop),this.model.unbind("loading_tts",this.pause,this),this.model.unbind("loaded_tts",this.resume,this),this.model.unbind("loading_recorder",this.pause,this),this.model.unbind("loaded_recorder",this.resume,this),duo.topbar.unbind("navigate",this.stop)}})},function(e,t,i){var s=i(1),a=i(2),n=(i(27),i(15),i(26)),o=(i(6),i(527)),r=i(439),l=i(45),d=i(21),c=i(503),u=i(93),h=i(17);i(64),i(13),i(30);e.exports=u.extend({events:{"keyup #text-input":"change","change #text-input":"change","click .suggest-edit":"edit","click .cancel-edit":"cancelEdit","click .save-edit":"saveEdit","click .word-tooltip":"hideWordTooltip"},template:o,initialize:function(e){u.prototype.initialize.call(this,e),this.model.set({hovered_words:[],hovered_lexeme_ids:[]}),this.session.bind("render",this.postRender,this),this.session.get("answer_feedback")&&this.session.bind("grade",this.graded_,this),this.session.bind("retry",this.retry,this),this.session.bind("clear",this.postRender,this),this.submitted=!1,this.other_translations_view=e.other_translations_view,this.explanations={},this.new_explanation_ids=[];var t=this.session.get("first_translate"),i=this.model.get("explanations");if(null!=i&&(this.explanations=i),!t){var s=this.model.get("new_explanation_ids");null!=s&&(this.new_explanation_ids=s)}},render:function(){return this.$el.html(s.duostache(this.template,a.extend(this.model.toJSON(),{can_transliterate:duo.user.getSkills().can_transliterate,transliterate:duo.user.get("transliterate"),learning_language_name:duo.user.get("learning_language_string"),need_flash:s.need_flash,disable_autocorrect:duo.user.get("browser_language")!==this.model.get("target_language"),show_input_instructions:duo.isTransliterationLanguage(this.model.get("target_language"))&&this.model.get("target_language")!==duo.user.get("ui_language"),is_windows:-1!==navigator.appVersion.indexOf("Win"),is_mac:-1!==navigator.appVersion.indexOf("Mac")}))),this.$input_field=this.$("#text-input"),this.startPlugins(),this},startPlugins:function(){var e=this.model.get("target_language"),t=this.model.get("target_language")!=duo.user.get("ui_language"),i="";s.vkeyboard.hasKeyboard(this.model.get("target_language"))||!this.model.get("has_accents")&&!this.model.get("unknown")?s.vkeyboard.hasKeyboard(this.model.get("target_language"))&&(i=s.vkeyboard.getAccentedChars(this.model.get("sentence"),this.model.get("target_language"))):(e=this.model.get("source_language"),t=!1,i=s.vkeyboard.getAccentedChars(this.model.get("sentence"),this.model.get("source_language"))),this.$input_field.vkeyboard({language:e,placeholder:this.$("#vkeyboard-placeholder"),toggle_button:this.$("#toggle_vkeyboard"),shown:t,custom_keys:i});var o=[],l={},d=null;this.model.has("highlight")&&this.model.has("unknown_words")&&1===this.model.get("unknown_words").length&&(o=this.model.get("highlight").slice(0,1)),a.each(this.model.get("highlight"),function(e){l[e]="highlighted-new-word"});var c={};if(this.session.isTest()&&(c["hints-token"]=r),this.new_explanation_ids.length>0){var u=this.session.get("seen_explanations");this.new_explanation_ids=a.difference(this.new_explanation_ids,u),this.session.set({seen_explanations:a.union(u,this.new_explanation_ids)})}var h=this,g=function(){h.postHintRender()},p=this.model.get("target_language")===this.session.get("language"),_={url:this.session.get("hints_url"),callback:this.hintHover,callback_context:this,templates:c,source_language:this.model.get("source_language"),target_language:this.model.get("target_language"),show_tokens:o,style_mapping:l,render_callback:g,language_information:this.session.get("language_information"),reverse:p,highlight_verb_endings:this.model.get("known"),explanations:this.explanations,new_explanation_ids:this.new_explanation_ids,new_words:this.model.get("highlight")};d&&(_.top=d),duo.user.getSkills().can_transliterate&&duo.user.get("transliterate")&&(_.text=this.model.get(p?"sentence":"sentence"+n.NATIVE_PROPERTY_SUFFIX),_.transliterate=p?"target_language":"source_language"),this.$(".hints").hints(_),this.$(".fbox").fancybox({prevEffect:null,nextEffect:null})},graded_:function(){this.other_translations_view&&(this.$("#other-translations").replaceWith(this.other_translations_view.render().el),this.$(".website-images").hide());var e=this.session.getSubmittedSolution(),t=e.toJSON();if(1!=e.get("hover_trial")){var i=this.getVal();this.setVal(this.getVal());var n=this.getFakeAreaData(i);if(this.$input_field.hide(),this.$("#submitted-text").html(s.duostache(c,n)),void 0!=t.highlights&&t.highlights.length>0){var o=a.map(t.highlights,function(e){return e[1]});if("wrong_word"==t.blame||"case_gender"==t.blame||"gender"==t.blame)var r="line-through";else var r="red-bold";this.$("#graded-text-input").highlight(r,o)}t.has_solutions=t.correct_solutions&&t.correct_solutions.length>0;var d=s("#correct-solutions");d.html(s.duostache(l,t)),this.showBlame()}},hintHover:function(e,t,i,n,o){if(clearTimeout(this.hover_idle_timer),!this.session.isTest()){var r=this.model.get("highlight"),l=this.model.get("known_words"),d=e.toLowerCase(),c=null!=r&&a.indexOf(r,d)>=0,u="#new-word",h=null!=this.new_explanation_ids&&null!=this.explanations[t]&&-1!=a.indexOf(this.new_explanation_ids,this.explanations[t].id);h?(c=!0,u="#new-concept",this.$(".word-tooltip").hide()):c?this.$("#multiple-new-words").fadeOut(200):this.$(".word-tooltip").fadeOut(200);var g=s(i),p=!o;if(this.session.get("tts_enabled")&&this.model.get("source_language")!==duo.user.get("ui_language")&&duo.user.shouldAutoPlay())if("tts"in g.data())g.trigger("play");else{var _=s.tts.ttsIDFromWord(e);g.tts({language:this.model.get("source_language"),tts_type:"token",tts_id:_,autoplay:p,visible:!1,play_trigger:"play",use_last:!0})}if(!this.submitted){var g=s(i);if(e=d,p){this.model.get("hovered_words").push(e);var m=this.model.get("kc_surface_forms"),v=null,f="reverse_translate"===this.model.get("specific_type"),b=f?n:e;m&&b in m&&(v=m[b]),this.model.get("hovered_lexeme_ids").push(v)}if(c){var w=g.find(".word-tooltip");return 0===w.size()&&(w=s(u).clone(),w.attr("id","#new-word-"+t).appendTo(g.find(".token-wrapper")).anchor({type:"horizontal",anchor:g}),g.css("position","relative")),w.show(),g.mouseleave(function(){w.fadeOut(400)}),this.session.trigger("hovered",e,n,!0),h}if(null==l||a.indexOf(l,d)>=0){var y=s("#peek").clone();y.find(".word-tooltip-strength").hide(),y.attr("id","#peek-"+t).appendTo(g).anchor({type:"horizontal",anchor:g}).show(),g.mouseleave(function(){y.fadeOut(400)}).addClass("peeked-at"),this.session.trigger("hovered",e,n)}}}},hideWordTooltip:function(e){var t=s(e.currentTarget);t.fadeOut(400)},postRender:function(){return duo.mobile_web_view||(this.$input_field.focus(),this.$input_field.autosize()),this.model.get("source_language")===duo.user.get("ui_language")?void this.startTiming():(this.model.get("has_tts")===!1?this.$("#big-speaker").hide():this.$("#big-speaker").tts(a.extend(this.model.toJSON(),{language:this.model.get("source_language"),tts_type:"sentence",tts_id:this.model.get("tts_id"),template:d,autoplay:duo.user.shouldAutoPlay()})),this.session.get("beginner")&&(this.hover_idle_timer=setTimeout(a.bind(this.showIdleMessage,this),5e3)),void this.startTiming())},postHintRender:function(){this.$("#multiple-new-words").appendTo(this.$(".hints-sentence").css("position","relative")).anchor({type:"horizontal",anchor:this.$(".hints-sentence")}).show()},showIdleMessage:function(){this.$("#idle-message").fadeIn()},change:function(e){13==e.which&&e.preventDefault(),s.trim(this.$input_field.val()).length>0&&"rendered"===this.session.get("state")?this.session.set({state:"ready"}):0===s.trim(this.$input_field.val()).length&&"ready"===this.session.get("state")&&this.session.set({state:"rendered"})},getVal:function(){return this.$input_field.textInputVal()},setVal:function(e){this.$input_field.val(e).trigger("autosize.resize")},disableTextInput:function(){this.$input_field.attr("disabled","disabled").blur()},enableTextInput:function(){this.$input_field.removeAttr("disabled")},getUserAnswer:function(){var e=s.trim(this.getVal());return this.disableTextInput(),e},getDisplayTranslation:function(){return this.model.get("translation")},parseLocalSolution:function(e){var t=this.getDisplayTranslation();return e.get("closest_translation")!==t&&e.set({display_translation:t}),e},continueSkip:function(){return"graded"===this.session.get("state")?(this.$("#correct-solutions").show(),!1):(this.disableTextInput(),this.$(".blame-popover").hide(),!0)},retry:function(){this.enableTextInput(),this.graded_();var e=this;this.$(".fake-input-area").one("click",function(t){e.$(".fake-input-area").remove(),e.$(".blame-popover").fadeOut(600,function(){s(".blame-text").remove()}),e.$input_field.show().focus()})},edit:function(){return this.$("#graded-text-input").hide(),this.$(".save-edit, .cancel-edit").show(),this.$input_field.show().focus(),this.$input_field.data("orig-val",this.getVal()),this.enableTextInput(),this.$input_field.focus(),!1},cancelEdit:function(){return this.$("#graded-text-input").show(),this.$(".save-edit, .cancel-edit").hide(),this.$input_field.hide(),this.setVal(this.$input_field.data("orig-val")),!1},saveEdit:function(){var e=this.getVal(),t=this.getFakeAreaData(e);this.$input_field.hide(),this.$(".fake-input-area").replaceWith(s.duostache(c,t));var i=new h({session_element:this.model,
value:e});return this.session.addSolution(i),i.save(),this.$(".suggest-edit").removeAttr("style"),!1},getFakeAreaData:function(e){return{text:e,unknown:this.model.get("unknown")}},closeFail:function(){this.$("#correct-solutions").show()},clear:function(){this.session.unbind("render",this.postRender),this.session.unbind("grade",this.graded_),this.session.unbind("retry",this.retry),this.session.unbind("clear",this.postRender),this.$(".fake-input-area").unbind()}})},function(e,t,i){var s=i(1),a=i(2),n=i(4),o=i(21),r=i(24).createModal,l=i(97);e.exports=l.extend({events:{"click #no-mic-link":"turnMicOff","click #record-button":"record","click #stop-button":"stop"},initialize:function(e){l.prototype.initialize.call(this,e),s(document).unbind("keyup.speak.session"),s(document).bind("keydown.speak.session",a.bind(this.keyCheck,this)),this.model.set({web_speech:!0}),this.ses.set({web_speech:!0}),this.threshold=this.model.get("ws_threshold"),this.recognition=this.model.recognition,this.recognition.lang=this.model.get("ws_language")||this.lang,duo.mobile_web_view||(this.recognition.continuous=!0,this.recognition.interimResults=!0),this.processReference();var t=this;this.recognition.onstart=function(e){t.$("#record-button").addClass("loading"),t.is_recognition_active=!0},this.recognition.onaudiostart=function(e){t.$("#record-button").hide(),t.$("#record-button").removeClass("loading"),t.$("#record-button").addClass("disabled"),t.$("#stop-button").addClass("recording"),t.$("#stop-button").show(),t.is_recording=!0},this.recognition.onaudiostop=function(e){t.$("#stop-button").removeClass("recording")},this.recognition.onresult=function(e){clearTimeout(t.recording_timer);for(var i="",a="",o=e.resultIndex;o<e.results.length;++o){var r=s.trim(e.results[o][0].transcript);e.results[o].isFinal?i+=r+" ":a+=r+" "}var l=i+" "+a;l=n.normalizeTranscript(t.lang,l);var d=n.normalizeHomophones(t.lang,n.preprocessTextSpeak(l));d=s.trim(d);var c=!1;if(d&&t.raw_transcript_norm!==d&&(t.raw_transcript_norm=d,c=t.alignSolution(d),c?this.abort():t.renderSolution()),!c){var u=t.getTimeout(d);t.recording_timer=setTimeout(function(){t.handleTimeout(!1)},u)}},this.recognition.onend=function(e){t.is_recognition_active&&(clearTimeout(t.recording_timer),t.is_recognition_active=!1,t.is_recording&&t.stop(),t.computeScore())},this.recognition.onerror=function(e){if("aborted"!==e.error){t.google_error=e.error,t.is_recording&&(t.is_recording=!1),t.is_recognition_active&&(t.is_recognition_active=!1,this.abort());var i=t.$("#stop-button");i.is(":visible")&&(i.removeClass("recording"),i.hide());var s=t.$("#record-button");if(s.removeClass("loading"),s.is(":visible")||s.show(),"audio-capture"===e.error)r({type:"restart_chrome",custom_title:!0,message_type:"restart_chrome"});else if("not-allowed"===e.error){var a="en"===duo.user.get("ui_language")?"https://support.duolingo.com/hc/en-us/articles/207568713":"https://www.duolingo.com/help";r({type:"microphone_permission",custom_title:!0,message_type:"microphone_permission",help_url:a})}else t.computeScore()}}},processReference:function(){this.reference=this.model.get("text")||"",this.reference_words=this.reference.split(/[\s]+/);var e=this.model.get("stripped_text")||"";e=n.normalizeHomophones(this.lang,e);var t=e.split(/[\s]+/);if(this.reference_words.length!==t.length){for(var i=[this.reference_words[0]],s=1;s<this.reference_words.length;++s)n.onlyContainsPunctuation(this.reference_words[s])?i[i.length-1]+=" "+this.reference_words[s]:i.push(this.reference_words[s]);if(i.length===t.length)this.reference_words=i;else{for(var o=[i[i.length-1]],r=i.length-2;r>=0;--r)n.onlyContainsPunctuation(i[r])?o[0]=i[r]+" "+o[0]:o.unshift(i[r]);o.length===t.length&&(this.reference_words=o)}}this.reference_norm=e,this.reference_words.length===t.length?this.reference_words_norm=t:this.reference_words_norm=a.map(this.reference_words,function(e){return n.normalizeHomophones(this.lang,n.preprocessTextSpeak(e))})},alignSolution:function(e){for(var t=this.findBestMatch(e),i=0;i<t.length;++i)t[i]>=0&&(this.solution_sequence[t[i]].is_recognized=!0);this.solution_text="";for(var a=!0,n=0;n<this.solution_sequence.length;++n)this.solution_sequence[n].is_recognized?this.solution_text+=this.solution_sequence[n].text+" ":a=!1;return this.solution_text=s.trim(this.solution_text),a||e.length/this.reference_norm.length>1.25},findBestMatch:function(e){for(var t=this.is_reverse?0:.11,i=.1,s=.2,a=e.split(/[\s]+/),n=[],o=0;o<a.length;o++){var r=a[o],l=-1,d=s;if(r.length>0){for(var c=0;c<this.reference_words_norm.length;c++){var u=this.reference_words_norm[c],h=this.compareWords(r,u);h-=i*Math.abs(r.length-u.length),h-=t*Math.abs(c-o),h>d&&(d=h,l=c)}l=d>s?l:-1}n.push(l)}return n},compareWords:function(e,t){if(!e||!t)return 0;var i=n.getEditDistance(t,e),s=i/t.length;return this.is_reverse&&(s+=.01*i),1-s},getTimeout:function(e){var t=Math.max(this.solution_text.length/this.reference.length,e.length/this.reference_norm.length),i=5e3*(1-t);return i=1e3>i?1e3:i},handleTimeout:function(e){this.is_recording?this.recognition&&this.recognition.abort():e&&(this.is_recognition_active=!1,this.makeDefaulCorrectSolution(),this.computeScore())},makeDefaulCorrectSolution:function(){this.solution_text=this.is_reverse?this.translation:this.reference,this.solution_sequence=[{text:this.solution_text,is_recognized:!0}]},renderSolution:function(){for(var e=s("<bdi>"),t=0;t<this.solution_sequence.length;++t){var i=this.solution_sequence[t].text;t!==this.solution_sequence.length-1&&(i+=" ");var a;a=this.solution_sequence[t].is_recognized?"speech-correct":this.is_recording?"speech-not-recognized":"speech-wrong";var n=s("<span>").addClass(a).text(i);e.append(n)}this.$("#web-speech-solution").html(e),this.is_recording||(l.prototype.render.call(this),this.postRender(!1))},postRender:function(e){e="undefined"!=typeof e?e:!0,this.$("#big-speaker").tts(a.extend(this.model.toJSON(),{language:this.model.get("source_language"),tts_type:"sentence",tts_id:this.model.get("tts_id"),template:o,autoplay:duo.user.shouldAutoPlay()&&e})),this.startTiming()},record:function(){clearTimeout(this.recording_timer),clearTimeout(this.grading_timer),this.is_recognition_active=!1,this.is_recording=!1,this.google_error=null,this.raw_transcript_norm="",this.solution_text="",this.solution_sequence=[],this.initChallengeSpecificVariables(),this.recognition&&this.recognition.start()},initChallengeSpecificVariables:function(){this.$("#web-speech-solution").html(s("<bdi>").text(this.model.get("text")));for(var e=0;e<this.reference_words.length;++e)this.solution_sequence.push({text:this.reference_words[e],is_recognized:!1})},stop:function(){if(this.is_recording){this.is_recording=!1,this.$("#stop-button").hide(),this.$("#record-button").show();var e=this;this.grading_timer=setTimeout(function(){e.handleTimeout(!0)},5e3),this.recognition&&this.recognition.stop()}},computeScore:function(){this.renderSolution();var e=this.solution_text.length/this.reference.length;this.receiveScore(e)},receiveScore:function(e){clearTimeout(this.grading_timer),this.ses.set({empty:0>=e,perfect:e>=1}),l.prototype.receiveScore.call(this,e)},closeRecorder:function(){this.$("#record-button").addClass("disabled"),this.recognition&&(this.recognition.onstart=null,this.recognition.onaudiostart=null,this.recognition.onend=null,this.recognition.onresult=null,this.recognition.abort(),this.recognition=null)},retry:function(){this.$("#record-button").removeClass("disabled")},skip:function(){l.prototype.skip.call(this),this.is_recording&&(clearTimeout(this.recording_timer),this.is_recording=!1,this.is_recognition_active=!1,this.recognition&&this.recognition.abort(),this.$("#stop-button").hide(),this.$("#record-button").show(),this.renderSolution()),this.$("#record-button").addClass("disabled")},turnMicOff:function(e){l.prototype.turnMicOff.call(this,e),this.is_recording&&(clearTimeout(this.recording_timer),this.is_recording=!1,this.is_recognition_active=!1,this.recognition&&this.recognition.abort(),this.$("#stop-button").hide(),this.$("#record-button").show(),this.is_reverse||(this.solution_sequence=null,l.prototype.render.call(this),this.postRender(!1))),this.$("#record-button").addClass("disabled")},clear:function(e){this.closeRecorder(),this.session.unbind("render",this.postRender),this.session.unbind("micoff",this.turnMicOff),s(document).unbind(".speak")},keyCheck:function(e){if(13===e.which&&this.canSubmit()){var t=this.$("#record-button");!t.is(":visible")||t.hasClass("loading")||t.hasClass("disabled")?this.$("#stop-button").is(":visible")&&this.stop():this.record()}return!0}})},function(e,t,i){var s=i(1),a=(i(2),i(18));e.exports=a.extend({initialize:function(){a.prototype.initialize.call(this),this.backgrounds={hover:"intro-hover",translate:"hover-reminder"},this.background_counts={translate:1,hover:1},this.model.set({first_translate:!0})},renderElementView:function(){var e=(this.model.get("position"),this.model.currentElement()),t=a.prototype.renderElementView.apply(this,arguments),n=e.get("type");if(n in this.background_counts&&this.background_counts[n]>0){var o,r=this.backgrounds[n];r&&(o=i(292)("./"+r+".tmpl")),this.$(".intro").replaceWith(s.duostache(o,this.model.toJSON())),this.background_counts[n]--,this.$("#session-element-container").css("minHeight",280),this.$(".owl-standing-big").css("top",105),this.$(".owl-standing-big").removeClass("pointing"),this.$(".intro .top").css("top",95),"translate"==n&&0==this.background_counts[n]?(this.$("#bubble-hover-reminder").delay(1e3).fadeIn(),this.$(".owl-standing-big").delay(1e3).removeClass("pointing"),this.model.set({first_translate:!1})):"hover"==n&&(this.$("#session-element-container").css("minHeight",250),this.$(".owl-standing-big").removeClass("pointing"),this.$(".intro .top").css("top",40),this.$(".owl-standing-big").css("top",130))}else this.$(".intro").empty();return t},ready:function(){a.prototype.ready.call(this);var e=this.model.currentElement(),t=e.get("type");"translate"==t&&1==this.background_counts[t]&&this.$("#bubble-enter-reminder").fadeIn()}})},function(e,t,i){var s=i(1),a=i(2),n=i(4),o=i(3),r=i(351),l=i(173),d=i(174),c=i(446);i(13),i(7),e.exports=o.View.extend({template:c,events:{"click .leaderboard-dropdown .dropdown-menu li a":"changeClassroom"},initialize:function(){this.search_results=[],this.page=1,this.classrooms=this.options.classrooms;var e=duo.user.get("observee_privacy_settings");this.hideFriendsLeaderboard=e&&e.disable_stream;var t=void 0===this.classrooms?0:this.classrooms.length;this.num_leaderboards=(this.hideFriendsLeaderboard?0:1)+t},delegateEvents:function(){o.View.prototype.delegateEvents.call(this),this.ranking_view&&this.ranking_view.delegateEvents(),this.addFriends&&this.addFriends.delegateEvents(),this.search_view&&this.search_view.delegateEvents()},render:function(){var e=function(e){return duo.user?a.extend({},e,{is_being_blocked:duo.user.isBlocking(Number(e.user_id)),is_a_blocker:duo.user.isBlockedBy(Number(e.user_id))}):e},t=this.num_leaderboards>1;this.$el.html(s.duostache(this.template,a.extend(this.model.toJSON(),this.model.getSkills(),{hide_friends_lb:this.hideFriendsLeaderboard,fb_friends:a.map(duo.user.fb_friends,e),invite_fb_friends:"fb"===this.board,list_friends:"fb"===this.board?duo.user.fb_friends:this.search_results,classrooms:this.classrooms,has_multiple_leaderboards:t}))),"search"===this.board&&(this.$("#search-friends").show(),this.$(".leaderboard-dropdown").hide()),duo.user.fb_friends&&this.$("#filter-fb-input").typeahead({source:a.pluck(duo.user.fb_friends,"name"),render:this.renderSearch,lookup:this.typeaheadLookup,data:{view:this}}),this.$("#classroom-choices li:first-child").addClass("selected"),this.renderSubViews();var i=this;return a.defer(function(){i.$("label").inFieldLabels()}),this},changeClassroom:function(e){this.$(".leaderboard-dropdown .dropdown-menu li").removeClass("selected"),this.$(e.currentTarget).parent().addClass("selected"),this.renderLeaderRankingView()},renderLeaderRankingView:function(){var e=this.hideFriendsLeaderboard&&1===this.num_leaderboards?this.classrooms[0].classroom_id:Number(this.$(".leaderboard-dropdown .dropdown-menu li.selected a").data("id")),t=this,i=function(e,i){var s=new r({el:t.$("#points-ranking"),sort_type:t.$(".toggle.active").data("sort"),classroom_id:i,user_data:e});t.ranking_view?(t.ranking_view.undelegateEvents(),t.$("#points-ranking").html(s.render()),s.delegateEvents()):s.render(),t.ranking_view=s};if(!e||0>e){this.$(".classroom-name").text(s(this.$(".dropdown-menu li")[0]).text());var o={};a.each(duo.user.getSkills().points_ranking_data,function(e){o[e.id]={all_time_points:e.points_data.total,username:e.username,avatar:e.avatar}}),i(o),this.addFriends&&this.addFriends.$el.show()}else{n.track("schools_view_classroom_leaderboard");var l=a.find(this.classrooms,function(t){return t.classroom_id===e});this.$(".classroom-name").text(l.name),s.getJSON("/api/1/observers/classroom_students",{classroom_id:e,include_assignments:!1},function(s){var n={};a.map(s.students,function(e){n[e.id]={all_time_points:e.xp?e.xp.points:0,username:e.username||e.display_name,avatar:e.avatar_url}}),i(n,e),t.addFriends&&t.addFriends.$el.hide()})}},renderSubViews:function(){this.renderLeaderRankingView(),this.addFriends?(this.$("#add-friends").replaceWith(this.addFriends.render().el),this.addFriends.delegateEvents()):(this.addFriends=new l({model:this.model,el:this.$("#add-friends"),parent_view:this}),this.addFriends.render()),this.search_view?(this.$("#search-list-results").replaceWith(this.search_view.render().el),this.search_view.delegateEvents()):(this.search_view=new d({model:this.model,el:this.$("#search-list-results")}),this.search_view.render())},typeaheadLookup:function(){return this.query=this.$element.val(),this.query?this.search(this.query).hide():(this.options.data.view.$("#fb-friends .list-users li").removeClass("filtered-fb-friend").show(),this)},renderSearch:function(e){var t={};return a.each(e,function(e){t[e]=!0}),this.options.data.view.$("#fb-friends .list-users li").each(function(e,i){var a=duo.user.fb_friends[e];a.name in t?s(i).removeClass("filtered-fb-friend"):s(i).addClass("filtered-fb-friend")}),this.options.data.view.$("#fb-friends .list-users li").show(),this.options.data.view.$(".filtered-fb-friend").hide(),this}})},function(e,t,i){var s=i(1),a=i(3),n=i(555);e.exports=a.View.extend({template:n,events:{"click .switch-troubleshoot":"switchToTroubleshoot"},initialize:function(){var e=this;s.get("/comments/troubleshooting_id",function(t){e.troubleshoot_id=t})},render:function(){var e={};return e["learning_language_"+duo.browser_language]=!0,e.hide_zendesk=duo.hide_zendesk,this.$el.html(s.duostache(this.template,e)),this},switchToTroubleshoot:function(){var e=this.troubleshoot_id||"647";duo.commentRouter.navigate("/topic/"+e,{trigger:!0})}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(23),r=(i(4),i(8)),l=i(583),d=i(260),c=i(376),u=i(170),h=i(171),g=i(379),p=(i(170),i(378)),_=i(380),m=i(375);e.exports=r.extend({id:"app",template:l,events:{"click #pg13-continue":"hidePG13Modal","click #pg13-warning-modal .close":"hidePG13Modal","click .join-duo":"join"},initialize:function(e){e.view_both?this.model.set({view_original:!1,view_both:!0}):this.model.set({view_original:!0,view_both:!1}),this.listenTo(this.model,"change:view_original change:view_both",this.render),this.coin_for_rating=!!this.model.get("num_points_for_rating");var t=this.model.get("translation_id"),i=this.model.get("source_language"),a=this.model.get("target_language"),o=this.model.get("target_language_name");this.sentence_models=new Array,this.revision_history_models=new Array;var r=this;this.model.forEachSentence(function(e){e.set({translation_id:t,source_language:i,target_language:a,target_language_name:o,editable:!1,hovered:!1,open:!1,no_translation_placeholder:r.noTranslationPlaceholder(e)}),r.sentence_models.push(e);var s=new d;s.set({translation_id:t,document_sentence_id:e.get("document_sentence_id"),user_rating:e.get("user_rating"),revisions:[]}),r.revision_history_models.push(s)}),this.max_visible_sentence_index=0;var r=this;s(document).unbind(".translation.infinite_scroll").bind("scroll.translation.infinite_scroll",function(e){r.renderVisibleSentences()}),n.history.once("route",function(){r.hidePG13Modal()}),this.model.set("no_sentence_selected",!0)},render:function(){this.closeChildViews(),this.sidebar_views={},this.mini_popover_views={},this.show_more_views={};var e=this,t=a.extend(this.model.toJSON(),{logged_in:!!duo.user&&!duo.user.get("trial_account"),trial_account:duo.user&&duo.user.get("trial_account")});this.$el.html(s.duostache(this.template,t));var i=new c({el:this.$("#document-instructions"),model:this.model});i.render(),this.addChildView(i),i=new g({el:this.$("#global-sidebar"),model:this.model}),i.render(),this.addChildView(i),this.original_view=new m({el:this.$("#original-body"),model:this.model}),this.original_view.render(),this.addChildView(this.original_view),this.model.get("view_both")&&(this.translated_view=new m({el:this.$("#translated-body"),model:this.model,pane:"trans-"}),this.translated_view.render(),this.addChildView(this.translated_view)),this.cur_sentence_index=0,e.renderSentences(this.max_visible_sentence_index+50),this.updateRatingButtonState();var e=this;return this.updateProgressBarWidth(),s(window).resize(function(){e.resizeThings()}),a.defer(function(){window.twttr&&twttr.widgets&&twttr.widgets.load(),e.model.get("is_pg13")&&!e.pg13_warning_shown&&(e.$("#pg13-warning-modal").modal("show"),e.pg13_warning_shown=!0),e.resizeThings(),e.renderVisibleSentences()}),this},resizeThings:function(){var e=s(window).height(),t=this.$("#original-body"),i=Math.min(t.outerHeight(),e-t.offset().top-20);this.$(".document-sentence-sidebar").css("max-height",i+"px"),this.$(".page-main").toggleClass("short-window",700>e)},updateProgressBarWidth:function(){var e=1==this.model.get("user_finished_translation"),t=1;if(!e){var i=this.model.get("num_sentences_left");t=1-1*i/this.model.get("num_sentences")}var s=this.$(".wiki-progress-bar");0>=t?s.width("0px"):s.width(100*t+"%"),s.toggleClass("fully-done",e)},hidePG13Modal:function(){this.$("#pg13-warning-modal").modal("hide")},updateRatingButtonState:function(){var e=this.model.get("user_document_rating");this.$('.rate-document-option[data-rating="1"]').toggleClass("active",1==e),this.$('.rate-document-option[data-rating="-1"]').toggleClass("active",-1==e),this.$('.icon[data-rating="1"]').toggleClass("active",1==e),this.$('.icon[data-rating="-1"]').toggleClass("active",-1==e),this.$(".vote-count").toggleClass("active-upvoted",1==e),this.$(".vote-count").toggleClass("active-downvoted",-1==e)},maxVisibleSentenceIndex:function(){var e=((new Date).getTime(),s(window).scrollTop()+s(window).height()),t=this.$(".sentence-wrapper");max_i=-1;for(var i=0;i<t.length;i++){var a=s(t[i]);if(a.offset().top<e){var n=a.data("index");max_i=Math.max(max_i,n)}}return max_i},renderVisibleSentences:function(){this.cur_sentence_index!=this.sentence_models.length&&(this.max_visible_sentence_index=this.maxVisibleSentenceIndex(),this.renderSentences(this.max_visible_sentence_index+50))},renderMoreSentences:function(){this.renderSentences(this.cur_sentence_index+50)},renderSentences:function(e){for(;this.cur_sentence_index<=e&&this.cur_sentence_index<this.sentence_models.length;this.cur_sentence_index++){var t=this.sentence_models[this.cur_sentence_index];this.renderSentenceViews(t)}this.cur_sentence_index==this.sentence_models.length&&this.$("#load-more-sentences").remove(),this.deferAlignParagraphs()},renderSentenceViews:function(e){this.renderDocumentSentence(e,"",!1),1==this.model.get("view_both")&&this.renderDocumentSentence(e,"trans-",!0)},maybeCreatePopoverViews:function(e){if(!this.sidebar_views[e]&&!this.mini_popover_views[e]){var t=this.sentence_models[e],i=this.revision_history_models[e];if(this.model.get("view_both")){var s=new _({model:t,el:this.$("#mini-popover-"+e),parent_view:this});this.addChildView(s),this.mini_popover_views[e]=s;var a=new h({model:i,sentence_model:t,document_model:this.model,el:this.$("#show-more-"+e),index:e,view_both:!0,parent_view:this});this.addChildView(a),this.show_more_views[e]=a}else{var n=this.$("#sentence-sidebar-"+e),o=new p({model:t,el:n,parent_view:this,document_model:this.model,revision_history_model:i});this.addChildView(o),this.sidebar_views[e]=o}}},deferAlignParagraphs:function(){var e=this;a.defer(function(){e.alignParagraphs()})},alignParagraphs:function(){if(1==this.model.get("view_both"))for(var e=".wiki-paragraph,.sub-buzz,.wikipedia-article > * > *",t=this.original_view.$(e),i=this.translated_view.$(e),a=0;a<t.length;a++){var n=s(t[a]),o=s(i[a]),r=n.position().top,l=o.position().top;if(r!=l){var d=Math.max(r,l);n.css({position:"relative",top:Math.max(0,this.relativeTop(n)+d-r)}),o.css({position:"relative",top:Math.max(0,this.relativeTop(o)+d-l)})}}},relativeTop:function(e){return"relative"==e.css("position")?parseInt(e.css("top")):0},renderDocumentSentence:function(e,t,i){var s=e.get("index"),a=this.$("#"+t+"sentence-wrapper-"+s),n=new u({model:e,parent_view:this,el:a,show_translated:i,pane:t});n.render(),this.addChildView(n)},renderVotes:function(){this.$(".vote-count").text(this.model.get("document_vote_sum"))},noTranslationPlaceholder:function(e){return Array(1+Math.ceil(.5*e.numCharacters())).join("▆&#8203;")},join:function(){duo.user&&duo.user.get("trial_account")&&o.trigger("registerDelayed")}})},function(e,t,i){var s=i(1),a=i(2),n=i(8),o=i(372),r=i(572);e.exports=n.extend({template:r,initialize:function(e){this.collection=e.collection,this.category_label=e.category_label,this.history=e.history,this.uploaded=e.uploaded,this.draft=1==e.draft,this.parent_view=e.parent_view,this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"add",this.addOne)},onClose:function(){s(document).unbind(".translations.infinite_scroll")},render:function(){this.closeChildViews(),this.$el.html(s.duostache(this.template,{has_translations:this.collection.length,translations:this.collection.toJSON(),category_label:this.category_label,more:this.collection.more,history:this.history,draft:this.draft,all_shown:this.all_shown})),this.collection.each(this.addOne,this),this.last_request_length=0;var e=this,e=this;return s(document).unbind(".translations.infinite_scroll").bind("scroll.translations.infinite_scroll",function(t){var i=s(document).height(),a=i-s(document).scrollTop(),n=s(window).height();1.5*n>a&&e.collection.length>e.last_request_length&&(e.last_request_length=e.collection.length,e.loadMore())}),this},addOne:function(e,t,i){var s=new o({model:e,draft:this.draft});this.addChildView(s),this.$(".ranked-translations").append(s.render().el)},loadMore:function(e){var t=this;e=e||{};var i=a.extend(this.parent_view.getFilterOptions(),{encoded_iterator_state:this.collection.encoded_iterator_state});e=a.extend(e,i),this.collection.fetch({data:e,update:!0,remove:!1,success:function(e,i){i.more||t.$(".translations-spinner").remove()}})}})},function(e,t,i){var s=i(1),a=i(8),n=i(4),o=i(374),r=i(370),l=i(371),d=i(68),c=i(570);e.exports=a.extend({id:"app",template:c,events:{"click #submit-upload":"clickSubmit","change #category":"checkSubmit","change #language":"checkSubmit","click .upload-type":"selectUploadType","click .see-preview":"selectPreview","click .change-step":"changeStep","click .cancel-input":"cancelInput","click .cancel-preview":"cancelPreview","click .manual-submit":"manualSubmitToPreview"},initialize:function(e){this.currentPage="type"},render:function(){var e=this.model.toJSON();return e.input_enabled="prev"==this.currentPage,this.$el.html(s.duostache(this.template,e)),this.type_view=new o({model:this.model,el:this.$("#type-step")}),this.type_view.render(),this.input_view=new r({model:this.model,el:this.$("#input-step")}),this.preview_view=new l({model:this.model,el:this.$("#prev-step"),parent_view:this}),this.addChildView(this.type_view),this.addChildView(this.input_view),this.addChildView(this.preview_view),this.checkSubmit(),this},clickSubmit:function(){var e=this.$("#submit-upload").text();if(this.$("#submit-upload").html(s("#submit-upload").data("wait")),!this.$("#submit-upload").attr("disabled")){var t;"text"==this.preview_view.data_source?(t={plaintext:this.model.get("text"),title:this.model.get("title"),target_language:this.model.get("language"),category:this.model.get("category"),image_url:this.model.get("image_url"),url:this.model.get("document_url")},this.model.image_url&&(t.image_url=this.model.image_url)):t={url:this.model.get("document_url"),target_language:this.$("#language").val(),category:this.$("#category").val()},"paid"==this.model.get("upload_type")&&(t.cost=this.model.get("cost"));var i=new d(t),a=this;this.setEnabled("#cancel-upload",!1),this.setEnabled("#submit-upload",!1),i.save(t,{success:function(t,o){i.get("success")?(duo.translationRouter.navigate("/translation/"+o.translation_id,!0),n.track("upload_document",{translation_id:o.translation_id,source_language:o.source_language,target_language:o.target_language})):(a.model.set({upload_failed:!0,upload_failure_reason:i.get("failure_reason")}),a.$("#submit-upload").text(e),a.$("#upload-failure").html(s.duostache("{{#_ivar}}upload_failure_reason{{/_ivar}}",{upload_failure_reason:i.get("failure_reason")})),a.$("#upload-failure").show())}})}},setEnabled:function(e,t){t?this.$(e).removeAttr("disabled"):this.$(e).attr("disabled","disabled")},changeStep:function(e){var t=s("#"+this.currentPage).data("index"),i=s(e.currentTarget).data("index");return(t>i||this.preview_view)&&(this.preview_view.data_source&&3==t&&this.$("#prev").addClass("change-step"),this.switchTo(this.currentPage,s(e.currentTarget).data("tab"))),!1},switchTo:function(e,t){return void 0!=this.model.get("upload_type")||"input"!=t&&"prev"!=t?("prev"==t&&this.$("#input").addClass("change-step"),s("#"+e+"-step").hide(),s("#"+t+"-step").show(),this.$("#"+e).removeClass("active"),this.$("."+t+"-step").addClass("active").removeClass("inactive"),void(this.currentPage=t)):!1},cancelInput:function(){this.switchTo("input","type")},cancelPreview:function(e){"paid"==this.model.get("upload_type")&&"edit"==e.target.id&&this.input_view.changePages("manual"),this.switchTo("prev","input"),"None"==this.$("#category").val()&&"None"==this.$("language").val()||this.model.set({category:this.$("#category").val(),language:this.$("#language").val()}),this.$("#prev").addClass("change-step")},checkSubmit:function(){this.input_view&&(this.input_view.edited=!0),s("#prev").removeClass("change-step").addClass("inactive");var e=this.model.get("category")||this.$("#category").val()&&"None"!=this.$("#category").val(),t=this.model.get("language")||this.$("#language").val()&&"None"!=this.$("#language").val();e&&t?this.$("#submit-upload").removeAttr("disabled"):this.$("#submit-upload").attr("disabled","disabled")},selectUploadType:function(e){if("paid"==s(e.currentTarget).data("type")&&0==duo.user.get("commercial_user"))return!1;if(e){var t=s(e.currentTarget).data("type");this.model.get("upload_type")!=t&&s("#prev").removeClass("change-step").addClass("inactive"),this.model.set({upload_type:t})}return this.input_view.render(),this.switchTo("type","input"),e.stopPropagation(),!1},selectPreview:function(e){var t=s.trim(this.$("#url-input").val());if(""==t)return!1;this.$(".preview-failure").hide();var i=s(".see-preview").html(),a=this;return this.$(".see-preview").html(s(".see-preview").data("wait")),this.$(".see-preview").attr("disabled","disabled"),s.post("/translate_jobs/preview",{url:t},function(s){return s.preview_failed?(a.$("#preview-failed").show(),a.$(".see-preview").html(i),e.stopPropagation(),!1):s.content_filtered?(a.$("#content-filtered").show(),a.$(".see-preview").html(i),e.stopPropagation(),!1):s.is_copyrighted&&"paid"!=a.model.get("upload_type")?(a.$("#is-copyrighted").show(),a.$(".see-preview").html(i),e.stopPropagation(),!1):void(s.success&&(a.$("#paste-text").val(s.text),a.$(".article-headline").val(s.title),a.$("#image-url").val(s.image_url),a.$("#manual-url").val(s.document_url),window.setTimeout(function(){a.$(".see-preview").html(i),a.$(".see-preview").removeAttr("disabled"),a.model.set(s),a.input_view.countWords(),n.track("preview_document",{document_url:t}),a.preview_view.data_source="url",a.preview_view.render(),a.switchTo("input","prev"),a.currentPage="prev"},1e3)))}),e.stopPropagation(),!1},manualSubmitToPreview:function(e){var t=s.trim(this.$("#paste-text").val()),i=s.trim(this.$(".article-headline").val()),a=this.$("#manual-category").val(),o=this.$("#manual-language").val(),r=this.$("#image-url").val(),l=this.$("#manual-url").val(),d=this.$("#cost").text(),c=s("#see-preview").html(),u=this;this.$("#see-preview").html(s("#see-preview").data("wait")),this.$("#see-preview").attr("disabled","disabled"),s.post("/translate_jobs/manual_preview",{text:t,title:i},function(e){u.model.set("custom_html",null),u.model.set(e),u.model.set({language:o,category:a,image_url:r,document_url:l,cost:d}),u.preview_view.data_source="text",window.setTimeout(function(){u.preview_view.render(),u.$("#see-preview").html(c),u.$("#see-preview").removeAttr("disabled"),u.switchTo("input","prev"),u.currentPage="prev"},1e3)}),n.track("preview_document",{manual_upload:!0})}})},function(e,t,i){var s=i(1),a=i(2),n=i(8),o=i(579);i(15);e.exports=n.extend({template:o,initialize:function(e){this.parent_view=e.parent_view,this.show_translated=!!e.show_translated,this.pane=e.pane||"",this.listenTo(this.model,"change:cur_translation change:rejected change:no_translation_placeholder change:rerender change:open",this.render),this.listenTo(this.model,"change",this.updateObjectClasses),this.listenTo(this.model,"change:hovered",this.show_translated?this.updateObjectClasses:this.render)},render:function(){var e=this.model.toJSON();return this.show_translated&&(e=a.extend(e,{show_translated:this.show_translated})),this.pane&&(e=a.extend(e,{pane:this.pane})),this.$el.html(s.duostache(this.template,e)),this.updateObjectClasses(),1!=this.model.get("hovered")&&1!=this.model.get("open")||this.show_translated||this.model.get("is_image_sentence")||this.showHints(0),this.el},showHints:function(e){var t=5;0==this.model.get("index")&&(t=10);var i={source_language:this.model.get("source_language"),target_language:this.model.get("target_language"),top:t,hover_options:{sensitivity:3,interval:e},reorder_using_machine_translations:!0,is_document_sentence:!0};this.$(".sentence").hints(i)},updateObjectClasses:function(){var e=this.$(".sentence");e.toggleClass("non-translated",!this.model.get("cur_translation"));var t=1==this.model.get("show_translated");e.toggleClass("user-approved",1==this.model.get("user_approved")&&!t),e.toggleClass("user-disapproved",1==this.model.get("user_disapproved")&&!t);var i=!(1!=this.model.get("open")&&1!=this.model.get("hovered")||this.show_translated&&this.model.get("editable"));this.$(".sentence").toggleClass("highlighted",i),this.$("img").toggleClass("highlighted",i)}})},function(e,t,i){var s=i(1),a=i(8),n=i(377),o=i(582);e.exports=a.extend({template:o,events:{"click .revert":"revert","click #follow-revisions":"followRevisions","click #following-revisions":"unfollowRevisions","click .radio":"radioClick","mouseenter .revision-item":"hoverSentence","mouseleave .revision-item":"unhoverSentence","click .toggle-revisions":"toggleRevisions","click .inner":"stopPropagation"},initialize:function(e){this.sentence_model=e.sentence_model,this.document_model=e.document_model,this.parent_view=e.parent_view,this.view_both=e.view_both||!1,this.listenTo(this.sentence_model,"change:reported_cheating",this.render),this.view_both&&this.listenTo(this.sentence_model,"change:show_more change:open",this.render)},render:function(){if(!this.shouldShow())return void this.$el.hide();this.closeChildViews();var e=this.model.toJSON();e.view_both=this.view_both,e.show=e.view_both||e.multiple_revisions,this.$el.html(s.duostache(this.template,e)),
this.model.get("following")?(this.$("#follow-revisions").hide(),this.$("#following-revisions").show()):(this.$("#following-revisions").hide(),this.$("#follow-revisions").show());for(var t=this.model.get("revisions"),i=0;i<t.length;i++){var a=this.$("#revision-"+i),o=new n({model:t[i],el:a,sentence_model:this.sentence_model,revision_history_model:this.model});o.render(),this.addChildView(o)}return this.view_both&&this.parent_view.positionShowMore(this.sentence_model.get("index")),this.$el.show(),this},fetchAndRender:function(){var e=this;this.model.fetch({success:function(){e.render()}})},shouldShow:function(){return!this.view_both||this.sentence_model.get("open")&&this.sentence_model.get("show_more")},hoverSentence:function(e){for(var t=s(e.currentTarget).data("index"),i=this.model.get("revisions"),a=i.length,n=0;a>n;n++){var o=i[n];o.get("can_diff_with_earlier")&&(n==t&&a>n+1||n==t-1&&t==a-1)?o.set({show_diff_with_earlier:!0,show_diff_with_later:!1,no_diff:!1}):o.get("can_diff_with_later")&&(n==t+1||n>0&&n==t&&t==a-1)?o.set({show_diff_with_earlier:!1,show_diff_with_later:!0,no_diff:!1}):o.set({show_diff_with_earlier:!1,show_diff_with_later:!1,no_diff:!0})}},unhoverSentence:function(e){for(var t=this.model.get("revisions"),i=0;i<t.length;i++)t[i].set({show_diff_with_earlier:!1,show_diff_with_later:!1,no_diff:!0})},radioClick:function(){var e=this.$('input[type="radio"]:checked').data("first");1==e?this.$(".revert").attr("disabled","disabled"):this.$(".revert").removeAttr("disabled")},revert:function(e){if("disabled"==this.$(".revert").attr("disabled"))return!1;var t=this,i=s.trim(this.$('input[type="radio"]:checked').val()),a=this.document_model.mixpanelProperties();this.sentence_model.addRevision(i,null,!0,!1,function(e){if(t.sentence_model.set("editable",!1),t.document_model.addTranslator(),t.view_both)t.fetchAndRender();else{var i=t.parent_view.parent_view;i.updateNumSentencesDone(),i.incrementCoinCount(e.num_points_awarded,e.level_event),t.parent_view.fetchRevisions()}},a)},followRevisions:function(e){var t=this;this.model.follow(function(e){e&&(t.$("#follow-revisions").hide(),t.$("#following-revisions").show())})},unfollowRevisions:function(e){this.model.unfollow(function(e){e&&(self.$("#following-revisions").hide(),self.$("#follow-revisions").show())})},toggleRevisions:function(e){var t=s(e.currentTarget),i=this.$(".revisions-stream-body");this.model.get("show_revisions")?(i.slideUp(),t.removeClass("active")):(i.slideDown(),t.addClass("active")),this.model.set("show_revisions",!this.model.get("show_revisions"))},stopPropagation:function(e){e.stopPropagation()}})},function(e,t,i){var s=i(1),a=i(8),n=i(584);e.exports=a.extend({template:n,initialize:function(){this.listenTo(this.model,"change",this.render)},render:function(){return this.$el.html(s.duostache(this.template,this.model.toJSON())),this}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(4),r=i(472);e.exports=n.View.extend({template:r,events:{"click .email":"inviteByEmail","click .facebook":"fbConnect","click .search":"search","click .go-back":"goBack","click .send-invite":"sendInvite","keyup #invite-email":"inviteKeyCheck","click #invite-box .close":"closeInviteBox"},initialize:function(e){this.parent_view=e.parent_view},render:function(){var e=this.model.get("invites")?this.model.get("invites").invited.length:0,t=this.model.get("invites")?this.model.get("invites").invited:[];return this.$el.html(s.duostache(this.template,a.extend(this.model.toJSON(),this.model.getSkills(),{fb_friends:duo.user?duo.user.fb_friends:null,invite_fb_friends:"fb"===this.board,invite_friends:"invite"===this.board,num_accepted:e,one_invited:1==e,two_invited:2==e,three_invited:3==e,friend_one:e>0?t[0]:void 0,friend_two:e>1?t[1]:void 0,friend_three:e>2?t[2]:void 0,more_invited:e>3,num_left:e-2}))),this},inviteByEmail:function(e){this.$("#invite-box").slideToggle()},closeInviteBox:function(){this.$("#invite-box").slideUp()},fbConnect:function(){void 0===duo.user.fb_friends?this.loginFB():this.showFB()},showFB:function(){this.parent_view.board="fb",this.parent_view.render(),this.switchList(),s("#fb-friends").show(),s(".friends-title").text(s(".friends-title").data("fb"))},goBack:function(){this.parent_view.board="ranking",this.parent_view.render(),this.render(),s("#points-ranking").show()},loginFB:function(){var e=this;window.FB&&FB.login(function(t){t.authResponse&&e.fetchFromFB.call(e,t.authResponse)},{scope:"user_friends"})},fetchFromFB:function(e){var t=e.userID,i=e.accessToken,n=this;duo.user.set({facebook_id:t},{silent:!0}),FB.api("/me/friends?access_token="+i+"&fields=picture,installed,name",function(e){var i=a.filter(e.data,function(e){return e.installed});s.post("/facebook_connect",{facebook_id:t,facebook_friends:JSON.stringify(i),auto_follow:!1,return_points:!1},function(t){for(var i=0;i<e.data.length;i++){var s=e.data[i];s.id in t.friends&&(t.friends[s.id].user_id=t.friends[s.id].id,a.extend(s,t.friends[s.id]))}duo.user.fb_friends=a.sortBy(e.data,function(e){return e.name}),n.showFB(),duo.user.set(t.user_following.data,{silent:!0}),a.extend(duo.user.getSkills(),t.user_following.skill_rank_data)})})},inviteKeyCheck:function(e){this.$("#invite-box p.error").hide(),this.$("#invite-box #invite-email").removeClass("error"),13===e.which&&this.sendInvite()},sendInvite:function(){var e=s.trim(this.$("#invite-email").val()),t=this;0!==e.length&&s.post("/invite",{email:e},function(i){var s=!1;"OK"===i.response?(duo.user.get("invites").invites_left=i.invites_left,t.$("#invite-email").val(""),t.$("#invited-email").text(e),t.$(".send-notification").slideDown().delay(3e3).slideUp()):"user has already joined"===i.response?(t.$("#already-joined .user-link").attr("href","/#/"+i.user.username).text(i.user.username),t.$("#already-joined").slideDown().delay(3e3).slideUp()):"user has already been invited"===i.response?t.$("#already-invited").slideDown().delay(3e3).slideUp():"not an email"===i.response&&(t.$("#not-email").slideDown().delay(3e3).slideUp(),t.$("#invite-email").addClass("error")),o.track("invited friend",{valid:s})})},search:function(){this.parent_view.board="search",this.parent_view.render(),this.switchList(),s("#search-friends").show(),s("#search-learners").focus(),s("#list-results").hide(),s(".friends-title").text(s(".friends-title").data("search"))},switchList:function(){s(".board, .invite-action").hide(),s(".go-back").show(),s("#followers").hide(),s("#following").hide(),s(".following-switch").hide()}})},function(e,t,i){var s=i(1),a=i(2),n=i(387);i(7);e.exports=n.extend({events:{"keyup .search-input":"keycheckSearch","click .search-for-friends":"search"},initialize:function(){n.prototype.initialize.call(this),this.search_results.per_page=15,this.old_scroll=0},render:function(){function e(e){return duo.user?a.extend({},e,{is_being_blocked:duo.user.isBlocking(e.id),is_a_blocker:duo.user.isBlockedBy(e.id)}):e}this.$el.html(s.duostache(this.template,{q:this.q,users:a.map(this.search_results.toJSON(),e)}));var t=this;a.defer(function(){t.$("label").inFieldLabels()}),this.preload_q&&(this.setQuery(this.preload_q),this.preload_q=void 0);var t=this;a.defer(function(){this.$("#list-results").unbind(".friend_find_scroll").bind("scroll.friend_find_scroll.infinite_scroll",function(e){var i=t.$("#search-learners-results").height(),s=i-t.$("#list-results").scrollTop(),a=t.$("#list-results").innerHeight();t.old_scroll=t.$("#list-results").scrollTop(),a>s&&t.search_results.length>t.last_request_length&&(t.last_request_length=t.search_results.length,t.loadNextPage())})});var t=this;return a.defer(function(){t.$("#list-results").scrollTop(t.old_scroll)}),this}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(4),r=i(390),l=i(176),d=i(391),c=i(235),u=i(53),h=i(477);i(15),i(7);e.exports=n.View.extend({id:"app",template:h,events:{"click #profile-context-menu":"showContextMenu","click #block-toggle":"blockOrUnblock","focus .post-activity textarea, .post-activity input":"onStreamPost","click .post-activity #stream-post-btn":"makeStreamPost","keyup #stream-post":"enablePosting","input #stream-post":"enablePosting","propertychange #stream-post":"enablePosting","click #shadowban-user":"showShadowbanModal"},initialize:function(){this.model.bind("change",this.render,this),duo.user&&(this.current_user=this.model.id==duo.user.id,this.is_observee=this.model.get("observer_id")==duo.user.id,this.sudo_profile_features=duo.user.get("admin")||duo.user.get("global_moderator"),this.viewer_privacy_settings=duo.user.get("observee_privacy_settings")),this.viewee_privacy_settings=this.model.get("observee_privacy_settings");var e=this.viewee_privacy_settings&&this.viewee_privacy_settings.disable_stream;this.stream_enabled=!duo.user||duo.user.hasFeatureEnabled("stream"),e&&(this.stream_enabled=this.current_user||this.is_observee||this.sudo_profile_features),this.stream_enabled&&this.model.updateActivity(a.bind(this.updateActivity,this),{silent:!0},!1);var t=this;this.model.fetchTranslationTiers(function(){t.render()})},render:function(){this.delegateEvents();var e=this.model.getSkills(),t=(e.skills,0);a.each(this.model.get("languages"),function(e){e.learning&&t++,e.stripped_language_string=e.language_string.split(" ")[0],e.max_level=e.level>=25});var i=duo.user&&!duo.user.get("trial_account")&&!duo.user.get("is_blocking")&&!duo.user.get("is_blocked_by")||!!this.sudo_profile_features,n=i&&!(this.viewer_privacy_settings&&this.viewer_privacy_settings.disable_stream||this.viewee_privacy_settings&&this.viewee_privacy_settings.disable_stream),o=n&&!this.current_user,d=duo.user&&!this.current_user;this.$el.html(s.duostache(this.template,a.extend(this.model.toJSON(),e,{current_user:!1,current_user_profile:this.current_user,allow_following:o,allow_friends:n,allow_blocking:d,following_short:this.model.get("following").slice(-3),followers_short:this.model.get("followers").slice(-3),num_ranked:this.model.get("num_following")+1,next_level:e.level+1,points_languages:a.sortBy(this.model.get("languages"),function(e){return-e.points}),language_badge_fill:a.range((3+-t%3)%3),viewing_self:duo.user&&duo.user.id==this.model.id,viewer_trial_account:duo.user&&duo.user.get("trial_account"),can_shadowban:duo.user&&(duo.user.get("global_moderator")||duo.user.get("admin")),stream_enabled:this.stream_enabled})));var c=this;if(duo.user&&(this.$("#search-box").wordLookup({source_language:duo.user.get("ui_language"),target_language:duo.user.get("learning_language"),id:this.model.get("username"),callback:this.lookedupWord,callback_context:this}),this.$("#stream-post").vkeyboard({language:duo.user.get("learning_language"),placeholder:this.$("#vkeyboard-placeholder"),toggle_button:this.$("#toggle_vkeyboard"),shown:!1,caps:!1})),a.defer(function(){c.$(".post-activity label, #invite-box label").inFieldLabels(),c.$(".post-activity textarea").autosize(),duo.topbar.bind("navigate",c.cleanUp,c)}),this.model.hasFriendshipsLoaded()){var u=new l({model:this.model,el:this.$("#friends"),show_add_friends:!1});u.render()}else this.model.getFriendships(!0,function(){var e=new l({model:this.model,el:this.$("#friends"),show_add_friends:!1});e.render()},this);this.events_view&&(this.$("#stream-container").replaceWith(this.events_view.el),this.events_view.render());var h=new r({model:this.model,el:this.$("#stats")});return h.render(),this},switchToTab:function(e){this.$(".home-panel").hide(),this.$(".tabs li").removeClass("active"),this.$('.tabs li[data-tab="'+e+'"]').addClass("active"),this.$("#"+e+"-panel").removeClass("hidden").show(),"activity"===e?(this.model.updateActivity(a.bind(this.updateActivity,this),{silent:!0},!1),this.$(".counter").hide(),o.track("present stream",{own_wall:this.current_user})):this.cleanUp(!0)},updateActivity:function(){this.model.get("events").profile_view=!1,this.model.get("events").user_id=this.model.id,this.events_view=new u({el:this.$("#stream-container"),collection:this.model.get("events"),model:this.model,home_view:!1}),this.events_view.render(),this.model.set({new_activities:0},{silent:!0})},showContextMenu:function(){var e=this.$("#profile-context-menu>ul");return e.toggle(),s(document).one("click.event",function(){e.hide()}),!1},blockOrUnblock:function(){return this.model.get("is_blocking")?this.model.unblock(this.model.id):this.model.block(this.model.id),!1},onStreamPost:function(){return this.$(".post-activity .post-footer").show(),this.$(".post-activity .post-footer").removeClass("wrong"),this.$(".post-activity #wrong-language-box").hide(),this.$(".post-activity #search-box").show(),this.$(".post-activity .post").addClass("focus"),""==s.trim(this.$(".post-activity .post").val())&&this.$("#stream-post-btn").attr("disabled","disabled"),!1},makeStreamPost:function(){var e=s.trim(this.$(".post-activity .post").val());if(""==e)return!1;var t=new c({for_user_id:this.model.id,text:e}),i=this;return t.save(null,{success:function(e,s){return"empty comment"==e.get("response")?!1:(i.model.get("events").add(t,{at:0}),i.$(".post-activity .post").val("").blur(),void o.track("post_on_stream",{own_wall:i.current_user}))}}),!1},enablePosting:function(){""==s.trim(this.$(".post-activity .post").val())?this.$("#stream-post-btn").attr("disabled","disabled"):this.$("#stream-post-btn").removeAttr("disabled")},showShadowbanModal:function(){this.shadowban_view||(this.shadowban_view=new d({model:this.model})),this.shadowban_view.render(),s("body").append(this.shadowban_view.el),s("#shadowban-form").on("hidden",function(){s("#shadowban-form").remove()}).modal("show")}})},function(e,t,i){var s=i(1),a=i(3),n=i(173),o=i(174),r=i(388),l=i(475);e.exports=a.View.extend({template:l,events:{"click .more":"showMore","click .switch-friends":"switchFriends"},render:function(){var e=8,t=this.model.get("num_following")===e?e:e-1,i=this.model.get("num_followers")===e?e:e-1;return this.$el.html(s.duostache(this.template,{fb_friends:duo.user?duo.user.fb_friends:null,invite_fb_friends:"fb"===this.board,invite_friends:"invite"===this.board,following:this.model.get("following").slice(-t),followers:this.model.get("followers").slice(-i),show_more_following:this.model.get("num_following")>t,num_show_more_following:this.model.get("num_following")-t,show_more_followers:this.model.get("num_followers")>i,num_show_more_followers:this.model.get("num_followers")-i,num_following:this.model.get("num_following"),num_followers:this.model.get("num_followers"),username:this.model.get("username"),list_friends:"fb"===this.board?duo.user.fb_friends:this.search_results,show_add_friends:this.options.show_add_friends||0==this.model.get("num_following")})),(duo.user&&this.model.get("id")==duo.user.get("id")&&this.options.show_add_friends||0==this.model.get("num_following"))&&(this.addFriends?(this.$("#add-friends").replaceWith(this.addFriends.render().el),this.addFriends.delegateEvents()):(this.addFriends=new n({model:this.model,el:this.$("#add-friends"),parent_view:this}),this.addFriends.render()),this.search_view?(this.$("#search-list-results").replaceWith(this.search_view.render().el),this.search_view.delegateEvents()):(this.search_view=new o({model:this.model,el:this.$("#search-list-results")}),this.search_view.render())),this},showMore:function(e){var t=s(e.currentTarget),i=t.data("type"),a=this.$("#"+i+"-modal"),n=new r({friends:this.model.get(i),el:a.find(".modal-body")});n.render(),a.appendTo("body").modal("show");var o=this;a.bind("hidden",function(){o.model.hasChanged("num_followers")||o.model.hasChanged("num_following"),s("#"+i+"-modal").appendTo(o.$("#"+i)),o.$(".list-users-small").remove(),a.find(".modal-body").unbind(),a.unbind()}).delegate("a.user, a.username","click",function(e){s(this).closest(".modal").modal("hide")})},switchFriends:function(e){var t=s(e.currentTarget).data("tab");this.$(".avatar-grid").hide(),this.$(".switch-friends").removeClass("active"),this.$("#"+t).show(),this.$("#switch-"+t).addClass("active")}})},function(e,t,i){var s=i(1),a=i(2),n=i(5),o=i(23),r=i(4),l=i(183),d=i(462),c=i(146),u=i(139),h=i(85),g=i(140),p=i(392),_=i(24).createModal,m=i(389);i(7);e.exports=c.extend({template:l,id:"topbar",events:function(){return a.extend({},c.prototype.events,{"click .languages li":"switchLanguage","mouseenter .dropdown":"showMenu","mouseleave .dropdown":"hideMenu","click .dropdown .dropdown-menu":"hideMenu","keyup .search-input":"keycheckSearch","focus .search-input":"onFocusSearch","blur .search-input":"onBlurSearch","click .toggle-notifications":"showNotificationsModal","click .show-notifications":"showNotificationsModal","click .see-all-results":"showStream","click .follow":"follow","click #show-shortcuts":"showShortcuts","click #home-nav":"goHome","click .register-delayed":"registerDelayed","click .login-delayed":"loginDelayed","click #header_userdrop_logout":"logout","click #see-full-site":"showFullSite","click .topbar-brand":"clickBrand","click .sign-in-existing":"loginDelayed"})},initialize:function(){this.lazySearch=this.debounce(this._search,1500,!0),this.listenTo(this.model,"change:site_streak change:rupees",this.render),this.player=!1,o.on("registerDelayed",this.registerDelayed,this),o.on("loginDelayed",this.loginDelayed,this)},debounce:function(e,t,i){var s;return function(){var a=this,n=arguments,o=function(){s=null,i||e.apply(a,n)};i&&!s&&e.apply(a,n),clearTimeout(s),s=setTimeout(o,t)}},_search:function(){var e=s.trim(this.$(".search-input").val());e.length>0?(this.$(".top-search .loading-indicator").show(),s.get("/users/search",{q:e,per_page:7},function(t){t.q=e,s(".top-search .hybrid-modal").html(s.duostache(d,t)).show(),s(document).unbind(".menu-search").bind("click.menu-search",function(e){var t=s(e.target);t.closest(".top-search").size()>0||(s(".top-search .hybrid-modal, .top-search .loading-indicator").hide(),s(document).unbind(".menu-search"))}),s(".top-search .loading-indicator").hide()})):this.$(".top-search .hybrid-modal").hide()},search:function(){this.lazySearch()},keycheckSearch:function(e){13===e.which&&this.search()},onFocusSearch:function(){var e=this.$(".search-label");e.data("blurText")||e.data("blurText",e.text()),e.text(e.data("focusText"))},onBlurSearch:function(){var e=this.$(".search-label");e.text(e.data("blurText"))},start:function(){var e=s("html").is(".ie6, ie7, .ie8, .safari5");duo.user.get("learning_language")&&!e&&r.checkValidDirection(duo.user.get("ui_language"),duo.user.get("learning_language"))>0&&(duo.loggedOutTranslationRouter.bind("route:translations",this.translationTab,this),duo.loggedOutTranslationRouter.bind("route:translation",this.noTab,this),duo.commentRouter.bind("route:listComments",this.commentsTab,this),duo.homeRouter.bind("all",this.homeRoutes,this),duo.userRouter.bind("all",this.homeRoutes,this),duo.skillRouter.bind("all",this.skillRoutes,this),duo.settingsRouter.bind("all",this.noTab,this),duo.adminRouter.bind("all",this.adminTab,this),duo.staticRouter.bind("all",this.homeRoutes,this),duo.streamRouter.bind("route:stream",this.streamTab,this),duo.courseRouter.bind("all",this.homeRoutes,this),duo.vocabRouter.bind("route:listVocab",this.vocabTab,this)),this.model.bind("change:learning_language",this.changeLanguage,this),this.model.bind("change:username",this.render,this),this.model.bind("change:speaker",this.render,this),this.model.bind("change:microphone",this.render,this)},render:function(){var e={},t=duo.user.get("learning_language");t?(e=a.extend(this.model.toJSON(),this.model.getSkills()),e.language_string||(e.language_string=this.model.get("learning_language_string")),e.any_other_learning=a.any(this.model.get("languages"),function(e){return e.learning}),e.any_other_not_learning=a.any(this.model.get("languages"),function(e){return!e.learning}),e.languages=a.sortBy(this.model.get("languages"),function(e){return-e.level}),e.num_notifications=e.notif_event_ids?e.notif_event_ids.length:0,e.has_certificates="certificates"in e&&e.certificates.length>0,e.in_player=this.player,e.show_vocab=a.contains(duo.vocab_languages,duo.user.get("ui_language"))&&a.contains(duo.vocab_languages,t)&&!duo.user.get("trial_account")&&duo.feature_flags.show_vocab_page&&!duo.user.get("ab_options").web_novocab_experiment):e=a.extend(this.model.toJSON()),"zs"==duo.user.get("ui_language")&&"zt"!=duo.user.get("locale")&&(e.zs_branding=!0),e.show_social_signup=!duo.cn_extension,e.show_login=duo.user.get("trial_account"),this.$el.html(s.duostache(this.template,e)),this.$(".topbar-right").width()>440&&this.$(".topbar-right .name").addClass("hidden"),this.notifications_view&&this.$("#popover-notifications").replaceWith(this.notifications_view.el);var i=this;return a.defer(function(){i.$("label").inFieldLabels(),t||i.$(".topbar-language").hide()}),this.$("#global-loading-indicator").ajaxStart(function(){s(this).show()}).ajaxStop(function(){s(this).hide()}),duo.user.get("inventory").heart_refill&&s.post("/api/1/store/refund_item",{item_name:"heart_refill"},function(e){var t=duo.user.get("rupees")+4;duo.user.set({rupees:t},{silent:!0}),s("#num_lingots").text(t)}),this},showMenu:function(e){var t=s(e.currentTarget);t.find(".dropdown-menu").show()},hideMenu:function(e){var t=s(e.currentTarget);t.is(".dropdown-menu")?t.hide():t.find(".dropdown-menu").hide()},clickBrand:function(){this.closeMobileMenu()},switchLanguage:function(e){var t=s(e.currentTarget);t.data("value")&&"more"!==t.data("value")&&this.model.switchLanguage(t.data("value"))},changeLanguage:function(){var e=this.$("li.active").attr("id");this.render(),this.$("#"+e).addClass("active")},noTab:function(){s("body").removeClass("player"),s("#app").removeClass("leave-warning"),window.onbeforeunload=null,s(document).unbind(".session, .infinite_scroll"),this.$(".nav li").removeClass("active").show(),this.$(".speaker-micro-toggle").show(),s("#box_feedback #activity_uuid").val(""),this.$(".user-nav, .top-search").show(),this.trigger("navigate"),s.tts.cleanAll(),this.$(".top-search .hybrid-modal").hide(),this.$(".search-input").val("").blur(),this.$(".topbar-nav-main li").removeClass("active")},homeTab:function(){this.noTab(),this.$("#home-nav").addClass("active")},vocabTab:function(){r.track("Topbar Vocabulary"),this.noTab(),this.$("#vocab-nav").addClass("active")},mobileTab:function(){this.noTab(),this.$("#mobile-nav").addClass("active")},adminTab:function(){this.noTab(),this.$("#admin-nav").addClass("active")},commentsTab:function(){r.track("Topbar Questions"),this.noTab(),this.$("#questions-nav").addClass("active")},teamsTab:function(){this.noTab(),this.$("#teams-nav").addClass("active")},hideTabs:function(e){e||this.noTab(),this.$(".nav li").hide().removeClass("active"),this.$(".user-nav, .top-search").hide()},profileTab:function(e){this.noTab(),e&&e!==duo.user.get("username")||this.$("#home-nav").addClass("active")},friendsTab:function(){r.track("Topbar Follow"),this.noTab(),this.$("#friends-nav").addClass("active")},translationTab:function(){r.track("Topbar Translations"),this.noTab(),this.$("#translations-nav").addClass("active")},streamTab:function(){r.track("Topbar Stream"),this.noTab(),this.$("#stream-nav").addClass("active")},sessionStart:function(){this.noTab(),this.$(".speaker-micro-toggle").hide()},homeRoutes:function(e,t){"route:home"===e?this.homeTab():"route:profile"===e?this.noTab():"route:welcome"===e?this.hideTabs():"route:mobile"===e?this.mobileTab():"route:stream"===e?this.streamTab():"route:findFriends"===e?this.friendsTab():"practiceLanguage"===e||"route:practice"===e||"practiceTimed"===e?(this.sessionStart(),this.$("#practice-nav").addClass("active")):"bigTest"===e?this.sessionStart():0===e.indexOf("route:")&&this.noTab()},skillRoutes:function(e){"route:skill"!==e?this.sessionStart():this.noTab()},showNotificationsModal:function(e){var t=this,i=!duo.user.has("notifs_expire")||duo.user.get("notifs_expire")<new Date,a="rtl"==duo.script_direction;this.$(".count").fadeOut(600);var n=function(e){var i=s(e.target);i.is("a")||i.hasClass("close")||0==i.closest("#popover-notifications").size()?t.$("#popover-notifications").hide():s(document).one("click",n)};if(!t.notifications_view||i){a?s("#popover-notifications").css({right:s(window).innerWidth()/1.75+"px"}):s("#popover-notifications").css({left:s(window).innerWidth()+"px"}),s.getJSON("/notifications",function(i){if(duo.user.set({notification_events:i},{silent:!0}),t.notifications_view=new p({el:t.$("#popover-notifications")}),s(window).innerWidth()<s(".toggle-notifications").offset().left+s("#popover-notifications").width()/2)if(a){var o=s(window).innerWidth()/1.75-s("#popover-notifications").width()-10+"px";s("#popover-notifications").animate({right:o},500)}else{var r=s(window).innerWidth()-s("#popover-notifications").width()-10+"px";s("#popover-notifications").animate({left:r},500)}t.notifications_view.render(),s(".toggle-notifications").target_popover({trigger:"manual",target:s("#popover-notifications"),placement:"bottom"}),t.$("#popover-notifications").is(":visible")?s(".toggle-notifications").target_popover({method:"hide"}):(s(".toggle-notifications").target_popover({method:"show"}),s(document).one("click",n),e.stopPropagation())});var o=new Date;o.setMinutes(o.getMinutes()+1),duo.user.set({notifs_expire:o},{silent:!0})}else t.$("#popover-notifications").is(":visible")?s("#popover-notifications").hide():(s("#popover-notifications").show(),s(document).one("click",n),e.stopPropagation())},showShortcuts:function(){this.shortcuts_view=new m({el:this.$("#keyboard-shortcuts")}),this.shortcuts_view.render(),this.$("#keyboard-shortcuts").modal("show")},showStream:function(){this.noTab(),this.$("#home-nav").addClass("active")},follow:function(e){var t=s(e.target),i=t.data("user");t.hasClass("success")?(duo.user.unfollow(i,!0),t.removeClass("success").text(n("Add friend"))):(duo.user.follow(i,!0),t.addClass("success").text(n("Following")))},goHome:function(){s(".back-home").click()},registerDelayed:function(e){this.closeMobileMenu();var t=e?e.classroom_info:void 0;this._registerDelayed(!1,t)},_registerDelayed:function(e,t){this.delayed_modal||(t?s.browser.mobile?this.delayed_modal=new u({splash_skip_delayed:!0,hide_language_select:!0,magic_link_view:!0,classroom_info:t,show_magic_register_modal:!0}):(this.delayed_modal=new h({id:"",classroom_info:t}),_({custom_view:this.delayed_modal})):this.delayed_modal=new g),t&&!s.browser.mobile||(this.delayed_modal.render(),s("body").append(this.delayed_modal.el),this.delayed_modal.$(".modal").modal({backdrop:"static",keyboard:!1},"show")),t||(this.delayed_modal.register_view.showPrefilled({ui_language:duo.user.get("ui_language"),learning_language:duo.user.get("learning_language")}),e?this.delayed_modal.switchToLoginView():this.delayed_modal.switchToCreateView())},loginDelayed:function(){this.closeMobileMenu(),this._registerDelayed(!0)},logout:function(){r.logout()},showFullSite:function(){r.track("show full site"),s("body").removeClass("compact-enabled")}})},,function(e,t){e.exports='<ul class="user-flair">{{#flair}}{{#level_data_sorted}}<li><span class="flag flag-svg-micro flag-{{language}}"></span> {{level}}</li>{{/level_data_sorted}}{{#streak}}<li><span class="icon icon-streak-micro {{#rtl}}img-flipped{{/rtl}}"></span> {{streak}}</li>{{/streak}}{{/flair}}</ul>'},function(e,t,i){e.exports='<ul class="activity-stream moderation-log">{{#events}}{{#delete_log}}<li class="stream-item"><span class="stream-item-type default"></span>{{#user}}'+i(10)+'{{/user}}<header class="stream-item-header"><a href="#/{{#user}}{{username}}{{/user}}" class="username">{{#user}}{{username}}{{/user}}</a><span class="stream-item-time">{{datetime}}</span></header><p class="stream-item-content"> deleted a comment by <a href="#/{{#author}}{{username}}{{/author}}" class="username">{{#author}}{{username}}{{/author}}</a> from {{#parent_thread_id}}<strong><a href="/comment/{{parent_thread_id}}">{{parent_title}}</a></strong>{{/parent_thread_id}}<br/>{{text}}</p><ul class="stream-item-social-links"><li><a href="javascript:;" class="undelete" data-id="{{comment_id}}" data-index="{{index}}">{{#_i}}Undelete{{/_i}}</a></li></ul></li>{{/delete_log}}{{#comment_log}}<li class="stream-item"><span class="stream-item-type default"></span>{{#user}}'+i(10)+'{{/user}}<header class="stream-item-header"><a href="#/{{#user}}{{username}}{{/user}}" class="username">{{#user}}{{username}}{{/user}}</a><span class="stream-item-time">{{datetime}}</span></header><p class="stream-item-content">{{^new_discussion}} commented on {{/new_discussion}}{{#new_discussion}} created the thread {{/new_discussion}}{{#parent_thread_id}}<strong><a href="/comment/{{parent_thread_id}}">{{parent_title}}</a></strong>{{/parent_thread_id}}<br/>{{text}}</p></li>{{/comment_log}}{{/events}}</ul>{{#more}}<button class="btn btn-standard btn-block load-more">Load More</button>{{/more}} '},function(e,t){e.exports='{{#hint_table}}<span class="hint-table hint-popover {{position}} {{#explanation}}animated fadeInUp{{/explanation}}"><div class="inner ">{{#explanation}}<div class="explanation hint-explanation hidden"><h4>{{{title}}}</h4><p>{{{details}}}</p><span class="btn btn-primary btn-small right dismiss">{{#_i}}Dismiss{{/_i}}</span></div>{{/explanation}}<div class="content"><table><thead>{{^separable}}<tr>{{#headers}}{{^selected}}<th>{{token}}</th>{{/selected}}{{#selected}}<th class="selected">{{token}}</th>{{/selected}}{{/headers}}</tr>{{/separable}}{{#separable}}<tr><th colspan="3">{{#headers}}{{^selected}}<span>{{token}}</span>{{/selected}}{{#selected}}<span class="selected">{{token}}</span>{{/selected}}{{/headers}}</th></tr>{{/separable}}</thead><tbody>{{#rows}}<tr {{#hide}}class="hidden"{{/hide}}>{{#cells}}<td {{#colspan}}colspan="{{colspan}}"{{/colspan}}>{{#prettify_hint}}{{hint}}{{/prettify_hint}} </td>{{#show_reverse_verb_table}}{{#has_infinitives}}<td class="conjugate"><span class="btn btn-blue btn-small conjugate-small" data-infinitives="{{infinitives_string}}">{{#_i}}C{{/_i}}</span></td>{{/has_infinitives}}{{/show_reverse_verb_table}}{{/cells}}</tr>{{/rows}}{{#gender}}<tr><td class="gender" colspan="{{max_colspan}}">{{#_i}}Gender:{{/_i}} <strong>{{#_ivar}}gender{{/_ivar}}</strong></td></tr>{{/gender}}{{#new_word}}<tr><td class="new-word" colspan="{{max_colspan}}">{{#_i}}New word{{/_i}}</td></tr>{{/new_word}}</tbody></table>{{#show_verb_table}}<div class="hint-footer"><div class="footer-container">{{#explanation}}<span class="btn btn-green conjugate btn-small">{{#_i}}Conjugate{{/_i}}</span><span class="btn btn-primary explain btn-small">{{#_i}}Explain{{/_i}}</span>{{/explanation}}{{^explanation}}<span class="btn btn-green conjugate btn-small">{{#_i}}Conjugate{{/_i}}</span>{{/explanation}}</div></div>{{/show_verb_table}}{{^show_verb_table}}{{#explanation}}<div class="hint-footer"><div class="footer-container"><span class="btn btn-primary explain btn-small">{{#_i}}Explain{{/_i}}</span></div></div>{{/explanation}}{{/show_verb_table}}{{#more_hints}}<div class="more-hints"><span class="icon icon-arrow-down-gray"></span></div>{{/more_hints}}</div></div></span>{{#render_verb_table_div}}<div class="modal verb-table-modal" style="display: none"><div class="close" data-dismiss="modal"></div><div class="modal-body"></div></div>{{/render_verb_table_div}}{{/hint_table}}'},function(e,t,i){e.exports="{{#users}}<li>"+i(62)+'{{#is_being_blocked}}<button class="btn btn-small right" disabled="disabled">{{#_i}}Blocked{{/_i}}</button>{{/is_being_blocked}}{{^is_being_blocked}}{{^is_a_blocker}}<a href="javascript:;" class="btn btn-small {{#is_following}}btn-green is-friend success{{/is_following}}{{^is_following}}btn-standard{{/is_following}} right" data-toggle="follow" data-follow-text="{{#_i}}Add{{/_i}}" data-unfollow-text="{{#_i}}Friends{{/_i}}" data-user="{{id}}" data-follow-class="" data-unfollow-class="is-friend", data-silent="true">{{#is_following}}{{#_i}}Friends{{/_i}}{{/is_following}}{{^is_following}}{{#_i}}Add{{/_i}}{{/is_following}}</a>{{/is_a_blocker}}{{/is_being_blocked}}<a href="/{{username}}" class="username"><strong>{{username}}</strong></a>{{fullname}}</li>{{/users}}{{^users}}<li id="no-users" style="padding-left: 10px;text-align: center;color: #999;">{{#_i}}No users found.{{/_i}}</li>{{/users}} ';
},function(e,t,i){e.exports='<header class="topbar {{^logged_in}}topbar-blue-dark dark-theme {{/logged_in}} {{#in_player}}player{{/in_player}} {{#logged_in}}topbar-blue{{/logged_in}}"><div class="container">{{#zs_branding}}<a href="/" class="chinese-brand navigate-home track-click white"><span class="logotype"></span><span class="topbar-brand"></span></a>{{/zs_branding}}{{^zs_branding}}<a href="/" class="topbar-brand navigate-home track-click white {{#show_vocab}}smaller-logo{{/show_vocab}}"></a>{{/zs_branding}}<div id="global-loading-indicator" class="loading-indicator {{#ui_language_zs}}smaller{{/ui_language_zs}} {{#show_vocab}}smaller-logo{{/show_vocab}}" style="display: none;"><div class="loader"></div></div>{{#logged_in}}{{^in_player}}<nav class="topbar-nav"><ul class="topbar-nav-main" {{#show_vocab}}style="font-size: 15px"{{/show_vocab}}><li id="home-nav"><a href="/">{{^show_vocab}}{{#_i}}Home{{/_i}}{{/show_vocab}}{{#show_vocab}}{{#_i}}Home||short{{/_i}}{{/show_vocab}}</a></li>{{^trial_account}}{{#show_vocab}}<li id="vocab-nav"><a href="/words">{{#_i}}Words{{/_i}}</a></li>{{/show_vocab}}{{#stream_enabled}}<li id="stream-nav"><a href="/activity_stream">{{^show_vocab}}{{#_i}}Activity{{/_i}}{{/show_vocab}}{{#show_vocab}}{{#_i}}Activity||short{{/_i}}{{/show_vocab}}</a></li>{{/stream_enabled}}{{/trial_account}}{{#discussions_enabled}}<li id="questions-nav"><a href="/discussion">{{^show_vocab}}{{#_i}}Discussion{{/_i}}{{/show_vocab}}{{#show_vocab}}{{#_i}}Discussion||short{{/_i}}{{/show_vocab}}</a></li>{{/discussions_enabled}}{{#show_translations_ff_true}}{{#immersion_tab_enabled}}<li id="translations-nav"><a href="/translations">{{^show_vocab}}{{#_i}}Immersion{{/_i}}{{/show_vocab}}{{#show_vocab}}{{#_i}}Immersion||short{{/_i}}{{/show_vocab}}</a></li>{{/immersion_tab_enabled}}{{/show_translations_ff_true}}</ul></nav>{{/in_player}}{{/logged_in}}<div class="topbar-right" {{#show_vocab}}style="font-size: 15px"{{/show_vocab}}>{{#logged_in}}<div class="hamburger"></div><div class="dropdown topbar-language"><div data-toggle="dropdown" class=""><span class="flag flag-svg-small flag-{{language}}"></span></div><ul class="dropdown-menu arrow-top languages" role="menu" aria-labelledby="dLabel">{{#any_other_learning}}<li class="head"><h6>{{#_i}}Learning{{/_i}}</h6></li>{{#languages}}{{#learning}}<li class="language-choice {{#current_learning}}active{{/current_learning}}" data-value="{{language}}"><a href="javascript:;"><span class="flag flag-svg-micro flag-{{language}}"></span><span data-value="{{language}}">{{#_i}}{{#_iv}}{{language_string}}{{/_iv}}||language switcher{{/_i}}</span> <span class="gray">{{#_i}}level{{/_i}} {{level}}</span></a></li>{{/learning}}{{/languages}}{{/any_other_learning}}<li class="divider"></li><li data-value="more"><a href="/courses">{{#_i}}Add a new course{{/_i}}</a></li></ul></div><div class="dropdown topbar-username"><div data-toggle="dropdown" class="">'+i(25)+'{{^trial_account}}<span class="name">{{username}}</span>{{/trial_account}}<span class="icon icon-arrow-down-white"></span></div><ul class="dropdown-menu arrow-top" role="menu" aria-labelledby="dLabel">{{^trial_account}}<li><a href="/{{username}}">{{#_i}}Your Profile{{/_i}}</a></li>{{#enabled_groups_experiment}}{{#group}}<li><a href="/team/{{id}}">{{#_i}}Your Team{{/_i}}</a></li>{{/group}}{{/enabled_groups_experiment}}{{#has_certificates}}<li><a href="/settings/progress" class="track-click">{{#_i}}Quiz History{{/_i}}</a></li>{{/has_certificates}}<li><a href="/settings/account" class="track-click" id="header_userdrop_settings">{{#_i}}Settings{{/_i}}</a></li>{{/trial_account}}{{#trial_account}}<li><a class="register-delayed" data-track-click="trial account user dropdown create profile">{{#_i}}Create a profile{{/_i}}</a></li><li><a href="/settings/sound" class="sound-settings">{{#_i}}Settings{{/_i}}</a></li>{{/trial_account}}<li><a href="/help">{{#_i}}Help{{/_i}}</a></li><li><a id="show-shortcuts">{{#_i}}Keyboard shortcuts{{/_i}}</a></li>{{#trial_account}}<li><a class="login-delayed">{{#_i}}Sign in{{/_i}}</a></li>{{/trial_account}}{{^trial_account}}{{#uservoice}}<li><a href="//duolingo.uservoice.com?sso={{{uservoice}}}" target="_blank">UserVoice</a></li>{{/uservoice}}{{#admin}}<li><a href=\'/admin_tools\'>{{#_i}}Admin{{/_i}}</a></li>{{/admin}}<li><a class="track-click" id="header_userdrop_logout">{{#_i}}Logout{{/_i}}</a></li>{{/trial_account}}</ul></div>{{^trial_account}}<ul class="topbar-stats"><li class="streak" data-toggle="tooltip" title="{{#_i}}{{site_streak}} {{#pluralize}}day,day,{{site_streak}}{{/pluralize}} streak{{/_i}}" data-placement="bottom"><span class="icon icon-streak-small {{#rtl}}img-flipped{{/rtl}}"></span>{{#streak_extended_today}}<span class="icon icon-checkmark-small"></span>{{/streak_extended_today}} {{site_streak}}</li><li class="lingots" data-toggle="tooltip" title="{{#_i}}Lingots{{/_i}}" data-placement="bottom"><a href="/show_store"><span class="icon icon-lingot-small"></span><span id="num_lingots"> {{rupees}}</span></a></li><li class="notifications"><button class="toggle-notifications btn btn-custom btn-notifications {{#num_notifications}}new{{/num_notifications}}" data-placement="bottom" title=""><span class="icon icon-notification-small"></span>{{#num_notifications}}<span class="count">{{num_notifications}}</span>{{/num_notifications}}</button><div id="popover-notifications" class="popover notification-popover-content hidden" {{^rtl}}style="position:fixed;"{{/rtl}}></div></li></ul>{{/trial_account}}{{/logged_in}}{{^logged_in}}<div class="hamburger"></div><div class="topbar-username dropdown click-trigger" style="padding-bottom: 15px;"><div class="current-language" id="site-language-btn">{{#_i}}Site language:{{/_i}} <strong>{{#_i}}{{#_ivar}}ui_language_name{{/_ivar}}||capitalized{{/_i}}</strong><span class="icon icon-arrow-down-white"></span></div><ul id="site-language-modal" class="double dropdown-menu arrow-top" style="">{{#ui_languages_list}}<li class=\'ui-language-option\' data-id="{{id}}" data-abbrev="{{language}}"><a href="//{{id}}.duolingo.com" data-bypass><span class="flag flag-svg-micro flag-{{language}}"></span>{{label}}</a></li>{{/ui_languages_list}}</ul></div>{{/logged_in}}{{#show_login}}<div class="topbar-buttons" style="margin-top: 1px;"><span class="sign-in relative">{{^logged_in}}<span class="btn sign-in-btn btn-white" id="sign-in-btn" data-track-click="topbar toggle">{{#_i}}Login{{/_i}}</span><button class="btn btn-solid register btn-monument-color btn-start-learning hidden" data-track-click="course begin loggedout topbar">{{#_i}}Start learning{{/_i}}</button><a href="/register" class="btn btn-green-light right margin-left" id="join">{{#_i}}Get started{{/_i}}</a>{{/logged_in}}{{#logged_in}}<a class="btn btn-white right margin-left register-delayed" data-track-click="trial account navbar create profile">{{#_i}}Create a profile{{/_i}}</a>{{/logged_in}}<ul class="popover arrow-top login-popover hidden" id="login-modal" style="width: 240px; top: 40px; {{^rtl}}right: 0; left: auto;{{/rtl}} {{#rtl}}left: 0; right: auto;{{/rtl}}"><form id=\'login-form\' action="" method="post" accept-charset="utf-8" style="margin: 0;">{{#show_social_signup}}<li><span class="signup-gplus btn btn-small btn-red btn-block btn-googlered-new" id="gplusSignIn" data-track-click="topbar login google"><span class="icon"></span>{{#_i}}Sign in with Google{{/_i}}</span></li><li><span class="signup-facebook btn btn-small btn-fbblue btn-block btn-fbblue-dark" data-track-click="topbar login facebook"><span class="icon"></span>{{#_i}}Sign in with Facebook{{/_i}}</span></li><li class="center"><span>{{#_i}}or||separates social login/email login{{/_i}}</span></li>{{/show_social_signup}}<li><div class="form-row"><input class="input-small input-block" placeholder="{{#_i}}Username or email{{/_i}}" type="text" id="top_login" name="login" value="" autocomplete="on"/></div></li><li><div class="form-row"><input class="input-small input-block" placeholder="{{#_i}}Password{{/_i}}" type="password" id="top_password" name="password" value="" autocomplete="on"/></div></li><li id="message" class="login-fail hidden"></li><li><input id="login-button" class="btn btn-green-light btn-small sign-in btn-block" type="submit" value="{{#_i}}Login{{/_i}}" data-track-click="topbar login submit"></li><li class="center"><a href="/forgot_password">{{#_i}}Forgot password{{/_i}}</a></li></form></ul></span></div>{{/show_login}}</div><div id="logged-out-message" class="logged-out-message"></div></div></header><div id="mobile-menu" class="mobile-menu {{#logged_in}}logged-in{{/logged_in}}">{{^logged_in}}<ul class="mobile-menu-listing"><li><a href="javascript:;" class="show-log-in">{{#_i}}Sign in{{/_i}}</a></li><li><a href="/register">{{#_i}}Get started{{/_i}}</a></li>{{#can_download_app}}<li><a href=" {{#android}} https://play.google.com/store/apps/details?id=com.duolingo {{/android}}{{#ios}}{{#_i}}//itunes.apple.com/app/duolingo-learn-spanish-french/id570060128?mt=8{{/_i}}{{/ios}}{{#windows}}{{#_i}}//www.microsoft.com/store/apps/duolingo-learn-languages-for-free/9wzdncrcv5xn{{/_i}}{{/windows}} ">{{#_i}}Download the Duolingo app{{/_i}}</a></li>{{/can_download_app}}<li class="site-language-container"><label for="show-languages">{{#_i}}Site language:{{/_i}} {{#_i}}{{#_ivar}}ui_language_name{{/_ivar}}||capitalized{{/_i}}</label><select name="show-languages" id="show-languages">{{#ui_languages_list}}<option class=\'ui-language-option\' data-id="{{id}}" data-abbrev="{{language}}">{{label}}</option>{{/ui_languages_list}}</select></li></ul>{{/logged_in}}{{#logged_in}}<ul class="mobile-menu-listing"><div class="mobile-menu-stats"><span class="user-info">{{^first_time}}'+i(62)+'{{^trial_account}}<span class="name">{{username}}</span>{{/trial_account}}{{/first_time}}{{#first_time}}<a href="/settings/direction"><span class="flag flag-svg-small flag-{{language}} skill-tree-header-language"></span></a>{{/first_time}}</span><li class="streak" data-toggle="tooltip" title="{{#_i}}{{site_streak}} {{#pluralize}}day,day,{{site_streak}}{{/pluralize}} streak{{/_i}}" data-placement="bottom"><span class="icon icon-streak-small {{#rtl}}img-flipped{{/rtl}}"></span>{{#streak_extended_today}}<span class="icon icon-checkmark-small"></span>{{/streak_extended_today}} {{site_streak}}</li><li class="lingots" data-toggle="tooltip" title="{{#_i}}Lingots{{/_i}}" data-placement="bottom"><a href="/show_store"><span class="icon icon-lingot-small"></span><span id="num_lingots"> {{rupees}}</span></a></li></div><li id="home-nav"><a href="/">{{#_i}}Home||short{{/_i}}</a></li><li id="questions-nav"><a href="/discussion">{{#_i}}Discussion||short{{/_i}}</a></li><li id="courses-nav"><a href="/courses">{{#_i}}Courses{{/_i}}</a></li><li id="settings-nav"><a href= "{{#trial_account}}/settings/sound{{/trial_account}}{{^trial_account}}/settings{{/trial_account}}" >{{#_i}}Settings{{/_i}}</a></li><li id="see-full-site"><a href="javascript:;">{{#_i}}View full site{{/_i}}</a></li>{{#trial_account}}<li class="sign-in-existing"><a href="javascript:;" class="log-in">{{#_i}}Sign in{{/_i}}</a><li class="create-a-profile"><a href="javascript:;" class="register-delayed btn btn-outline btn-white btn-small">{{#_i}}Create a profile{{/_i}}</a>{{/trial_account}}{{^trial_account}}<li><a href="/logout">{{#_i}}Log out{{/_i}}</a>{{/trial_account}}</ul>{{/logged_in}}</div><div id="keyboard-shortcuts" class="modal keyboard-shortcuts fade"></div><div id="alert-modals"></div> '},function(e,t){e.exports='{{#fluency_score}}<div class="box-colored bg-white"><h2>{{#_i}}{{#_ivar}}language_string{{/_ivar}} Fluency{{/_i}}</h2><div class="fluency-container"><span class="icon fluency-score-shield-silver">{{fluency_score}}<span class="fluency-score-percent">%</span></span>{{#showFluencySharingLinks}}<div class="fluency-score-actions">{{#showLinkToTestCenter}}<div id="certify-my-score" class="share-action"><span class="icon icon-testcenter-box"></span><span class="fluency-score-link-text">{{#_i}}Certify Your Fluency{{/_i}}</span></div>{{/showLinkToTestCenter}}{{#showLinkToLinkedIn}}<div class="linkedin-share-fluency share-action"><span class="icon icon-linkedin-box"></span><span class="fluency-score-link-text">{{#_i}}Add to LinkedIn Profile{{/_i}}</span></div><div class="share-action-failed"></div>{{/showLinkToLinkedIn}}</div>{{/showFluencySharingLinks}}</div></div>{{/fluency_score}}<div class="box-colored bg-white vocab-test {{#showWebAssignments}}assignments-widget{{/showWebAssignments}}"><h2>{{#showWebAssignments}}<span class="dropdown"><span class="icon icon-gear-small right mid" data-toggle="dropdown"></span><ul id="dropdown-menu-assignments" class="dropdown-menu arrow-top-right right" role="menu" aria-labelledby="dLabel"><li><a href="/settings/coach" class="dropdown-option">{{#_i}}Change daily goal{{/_i}}</a></li><li id="show-assignments"><a href="javascript:;" class="dropdown-option">{{#_i}}View all assignments{{/_i}}</a></li><li><a href="/settings/observer" class="dropdown-option">{{#_i}}Progress Sharing Settings{{/_i}}</a></li></ul></span>{{/showWebAssignments}}{{^showWebAssignments}}<a href="/settings/coach"><span data-toggle="tooltip" title="{{#_i}}Change daily goal{{/_i}}" class="icon icon-gear-small right"></span></a>{{/showWebAssignments}}{{#_i}}Daily Goal{{/_i}}</h2><div class="daily-goal-container {{^show_home_graph}}{{#trial_account}}empty{{/trial_account}}{{/show_home_graph}}">{{#daily_goal}}{{^showWebAssignments}}<div class="teacher-coach">{{^useObserverGoalAvatar}}<span class="owl owl-mini owl-{{#met_goal}}happy{{/met_goal}}{{^met_goal}}standard{{/met_goal}}"></span>{{/useObserverGoalAvatar}}{{#useObserverGoalAvatar}}<span class="avatar avatar-large" data-toggle="tooltip" title="{{observer_display_name}}"><img src="{{observer_avatar_url}}/large"><span class="ring"></span></span>{{/useObserverGoalAvatar}}<span class="coach-message">{{^met_goal}}{{#_i}}Learning a language requires practice every day.{{/_i}}{{/met_goal}}{{#met_goal}}{{#_i}}Keep up the good work!{{/_i}}{{/met_goal}}</span></div>{{/showWebAssignments}}<div class="daily-donut-container"><span class="icon icon-daily-donut-streak {{#met_goal}}completed{{/met_goal}}"></span><div id="daily-donut-text">{{#met_goal}}<span class="stat-text">{{xp_today}}/{{daily_goal}}</span> {{#_i}}xp goal met{{/_i}}{{/met_goal}}{{^met_goal}}<span class="stat-text">{{xp_today}}/{{daily_goal}}</span> {{#_i}}xp gained{{/_i}}{{/met_goal}}</div><div id="daily-donut"></div></div><div class="daily-goal-stats"><div class="stat-container">{{#_i}}<span class="stat-text">{{site_streak}}</span>day streak{{/_i}}</div><div class="stat-container">{{#time_remaining}}{{#_i}}<span class="stat-text">{{time_remaining}}</span>{{#pluralize}}hour,hours,{{time_remaining}}{{/pluralize}} left{{/_i}}{{/time_remaining}}{{^time_remaining}}{{#_i}}<span class="stat-text"><span class="less-than">&lt;</span> 1</span>hour left{{/_i}}{{/time_remaining}}</div></div>{{/daily_goal}}{{^daily_goal}}<div class="coach-ad"><div class="coach-ad-text"><div>{{#_i}}Set a Daily XP Goal to help keep yourself motivated.{{/_i}}</div><a href="/settings/coach" class="blue">{{#_i}}Set your Daily Goal{{/_i}}</a></div><span class="owl owl-coach-x-small"></span></div>{{/daily_goal}}<div id="assignments-container" class="assignments-placeholder-v2"></div></div>{{#show_home_graph}}<div class="tooltips-container"><ul id="progress-tooltips">{{#calendar}}<li id="hover-helper-{{index}}" data-original-title="{{#_i}}{{points}} {{#pluralize}}XP,XP,{{points}}{{/pluralize}}{{/_i}}" data-toggle="tooltip" class="hover-areas-container"><span class="hover-areas"></span></li>{{/calendar}}</ul></div><div id="weekly-progress"></div>{{/show_home_graph}}{{#show_sidebar_buttons}}<div class="strengthen-skills-container {{#showWebAssignments}}v2{{/showWebAssignments}}"><a href=\'/practice\' class="btn btn-primary btn-block btn-strengthen-skills"><span class="strength"><span class="icon icon-practice-small-white"></span></span><span class="skill-icon-strength skill-icon-strength-micro {{#rtl}}img-flipped{{/rtl}} strength-{{total_strength}}"></span>{{#_i}}Strengthen skills{{/_i}}</a></div>{{/show_sidebar_buttons}}</div>{{#trial_account}}<div class="box-gray"><div class="trial-account-overlay"></div></div>{{/trial_account}}{{^trial_account}}{{#enabled_groups_experiment}}{{#true_groups_experiment}}<div class="box-colored bg-white less-padding">{{#group}}<div class="group-leaderboard"></div>{{/group}}{{^group}}<div class="team-up-box {{^has_pending_invites}}no-pending-invites{{/has_pending_invites}}" id="team-up-box"><div class="team-illustration"><span class="group-avatar-icon small group-avatar-icon-11 group-color-green"></span><span class="group-avatar-icon small group-avatar-icon-9 group-color-orange"></span><span class="group-avatar-icon tiny group-avatar-icon-4 group-color-red"></span></div><h2>{{#_i}}Duolingo Teams{{/_i}}</h2><p>{{#_i}}Teams are a new way to learn with others and stay motivated. Players get daily goals, shared skill trees and team achievements. What are you waiting for?{{/_i}}</p><a href="/team" class="btn btn-white btn-outline btn-block team-up">{{#_i}}Create or join a team{{/_i}}</a>{{#show_manage}}<a href="/manageTeams" class="btn btn-outline btn-white btn-block">{{#_i}}Show all teams you manage{{/_i}}</a>{{/show_manage}}</div>{{/group}}{{#has_pending_invites}}<div class="pending-invites-box {{^group}}no-border{{/group}}"><h5>{{#_i}}You were invited to join {{#pluralize}}this team, these teams,{{has_pending_invites}}{{/pluralize}}:{{/_i}}</h5><ul class="list-pending-invites">{{#pending_invites}}<li data-id="{{invitation_id}}" data-group-id="{{group_id}}"><div class="group-widget-strip group-color-{{color}}"><div class="group-invite-response"><span class="invite-info-wrapper" data-toggle="tooltip" title=" {{#short_list}}{{#one}} {{#_i}}{{#item_one}}{{#_ivar}}username{{/_ivar}}{{/item_one}} has invited you.{{/_i}}{{/one}}{{#two}} {{#_i}}{{#item_one}}{{#_ivar}}username{{/_ivar}}{{/item_one}} and {{#item_two}}{{#_ivar}}username{{/_ivar}}{{/item_two}} have invited you.{{/_i}}{{/two}}{{#three}} {{#_i}}{{#item_one}}{{#_ivar}}username{{/_ivar}}{{/item_one}}, {{#item_two}}{{#_ivar}}username{{/_ivar}}{{/item_two}} and {{#item_three}}{{#_ivar}}username{{/_ivar}}{{/item_three}} have invited you.{{/_i}}{{/three}}{{#more}} {{#_i}}{{#item_one}}{{#_ivar}}username{{/_ivar}}{{/item_one}}, {{#item_two}}{{#_ivar}}username{{/_ivar}}{{/item_two}} and {{remainder}} others have invited you to this team.{{/_i}}{{/more}}{{/short_list}} "><span>?</span></span><button class="btn btn-small btn-white btn-outline accept-invite" data-toggle="tooltip" title="{{#_i}}Accept Invite{{/_i}}"><span class="icon icon-check-white-small"></span></button><button class="btn btn-small btn-white btn-outline reject-invite" data-toggle="tooltip" title="{{#_i}}Reject Invite{{/_i}}"><span class="icon-x-white-small icon"></span></button></div><a href="/team/{{group_id}}"><span class="group-avatar-icon tiny group-avatar-icon-{{icon_index}}"></span><strong class="group-name">{{name}}</strong></a></div></li>{{/pending_invites}}</ul></div>{{/has_pending_invites}}</div>{{/true_groups_experiment}}{{^true_groups_experiment}}{{#has_pending_invites}}<div class="box-colored bg-white less-padding"><div class="team-up-box" id="team-up-box"><div class="team-illustration"><span class="group-avatar-icon small group-avatar-icon-11 group-color-green"></span><span class="group-avatar-icon small group-avatar-icon-9 group-color-orange"></span><span class="group-avatar-icon tiny group-avatar-icon-4 group-color-red"></span></div><h2>{{#_i}}Duolingo Teams{{/_i}}</h2><p style="margin: 0;">{{#_i}}Teams are a new way to learn with your friends and stay motivated. Players get daily goals, shared skill trees and team achievements. What are you waiting for?{{/_i}}</p></div><div class="pending-invites-box {{^group}}no-border{{/group}}"><h5>{{#_i}}You were invited to join {{#pluralize}}this team, these teams,{{has_pending_invites}}{{/pluralize}}:{{/_i}}</h5><ul class="list-pending-invites">{{#pending_invites}}<li data-id="{{invitation_id}}" data-group-id="{{group_id}}"><div class="group-widget-strip group-color-{{color}}"><div class="group-invite-response"><span class="invite-info-wrapper" data-toggle="tooltip" title=" {{#short_list}}{{#one}} {{#_i}}{{#item_one}}{{#_ivar}}username{{/_ivar}}{{/item_one}} has invited you.{{/_i}}{{/one}}{{#two}} {{#_i}}{{#item_one}}{{#_ivar}}username{{/_ivar}}{{/item_one}} and {{#item_two}}{{#_ivar}}username{{/_ivar}}{{/item_two}} have invited you.{{/_i}}{{/two}}{{#three}} {{#_i}}{{#item_one}}{{#_ivar}}username{{/_ivar}}{{/item_one}}, {{#item_two}}{{#_ivar}}username{{/_ivar}}{{/item_two}} and {{#item_three}}{{#_ivar}}username{{/_ivar}}{{/item_three}} have invited you.{{/_i}}{{/three}}{{#more}} {{#_i}}{{#item_one}}{{#_ivar}}username{{/_ivar}}{{/item_one}}, {{#item_two}}{{#_ivar}}username{{/_ivar}}{{/item_two}} and {{remainder}} others have invited you to this team.{{/_i}}{{/more}}{{/short_list}} "><span>?</span></span><button class="btn btn-small btn-white btn-outline accept-invite" data-toggle="tooltip" title="{{#_i}}Accept Invite{{/_i}}"><span class="icon icon-check-white-small"></span></button><button class="btn btn-small btn-white btn-outline reject-invite" data-toggle="tooltip" title="{{#_i}}Reject Invite{{/_i}}"><span class="icon-x-white-small icon"></span></button></div><a href="/team/{{group_id}}"><span class="group-avatar-icon tiny group-avatar-icon-{{icon_index}}"></span><strong class="group-name">{{name}}</strong></a></div></li>{{/pending_invites}}</ul></div></div>{{/has_pending_invites}}<div class="box-gray">{{#group}}<h2>{{#_i}}Team{{/_i}}</h2><div class="profile-team-widget"><div class="group-widget-strip group-color-{{color}}"><a href="/team/{{id}}"><span class="group-avatar-icon tiny group-avatar-icon-{{icon_index}}"></span></a><a href="/team/{{id}}"><span class="icon icon-arrow-white-medium right"></span><strong class="group-name">{{name}}</strong></a></div></div>{{/group}}<div id="ranking" class="stream-leaderboard"></div></div>{{/true_groups_experiment}}{{/enabled_groups_experiment}}{{^enabled_groups_experiment}}<div class="box-gray"><div id="ranking" class="stream-leaderboard"></div></div>{{/enabled_groups_experiment}}{{/trial_account}}{{^cn_extension}}<div class="box-gray box-social-buttons"><strong class="gray-dark">{{#_i}}Follow Duolingo{{/_i}}</strong><ul class="list-social-buttons"><li><div class="container"><a target="_blank" href="http://twitter.com/duolingo" class="btn btn-block btn-white btn-twitter" data-track-click="home page social twitter"><span class="icon icon-twitter-small"></span> 190k</a></div></li><li><div class="container"><a target="_blank" href="http://facebook.com/duolingo" class="btn btn-block btn-white btn-fb" data-track-click="home page social facebook"><span class="icon icon-fb-small"></span> 974k</a></div></li><li><div class="container"><a target="_blank" href="http://plus.google.com/+duolingo" class="btn btn-block btn-white btn-google" data-track-click="home page social gplus"><span class="icon icon-google-small"></span> 200k</a></div></li></ul></div>{{/cn_extension}}{{^is_observer}}{{^trial_account}}{{#show_dashboard_ad}}<div class="box-gray box-dashboard"><div id="dismiss-dash-ad" class="close"></div><div class="top"><h2>{{#_i}}Duolingo for Schools{{/_i}}</h2><div class="school-icon school-students-img"></div></div><p>{{#_i}}Now teachers can track all their students in one place through our brand new dashboard.{{/_i}}</p><a href="https://schools.duolingo.com/" data-track-click="nav nonteacher schools" class="btn btn-white btn-block">{{#_i}}Check it out!{{/_i}}</a></div>{{/show_dashboard_ad}}{{/trial_account}}{{/is_observer}}{{#is_observer}}<div class="box-colored bg-blue box-dashboard"><div class="top"><h2>{{#_i}}Duolingo for Schools{{/_i}}</h2><div class="school-icon school-students-img"></div></div><p>{{#_i}}It looks like you are tracking students. See how they are doing!{{/_i}}</p><a href="https://schools.duolingo.com/" data-track-click="nav teacher dashboard" class="btn btn-white btn-outline btn-block">{{#_i}}Take me to the dashboard{{/_i}}</a></div>{{/is_observer}} '},function(e,t,i){e.exports='<header class="topbar topbar-blue topbar-dashboard-splash logged-in"><div class="container"><div class="logo-container"><a href="//schools.duolingo.com" class="topbar-brand track-click white">Duolingo</a><a href="//schools.duolingo.com" class="lockup">{{#_i}}for schools{{/_i}}</a></div><div class="topbar-right"><div class="hamburger"></div>{{#show_site_language_selector}}'+i(481)+'{{/show_site_language_selector}}{{#username}}<div class="dropdown topbar-username full-header"><div data-toggle="dropdown" class="">{{#learning_language}}'+i(25)+'<span class="name">{{username}}</span><span class="icon icon-arrow-down-white"></span>{{/learning_language}}{{^learning_language}}<span class="email" title="{{email}}">{{email}}</span><span class="icon icon-arrow-down-white email"></span>{{/learning_language}}</div><ul class="dropdown-menu arrow-top" role="menu" aria-labelledby="dLabel"><li><a href="/logout" class="track-click" id="header_userdrop_logout" data-bypass>{{#_i}}Logout{{/_i}}</a></li></ul></div>{{/username}}</div></div></header><div id="mobile-menu" class="mobile-menu classroom schools"><ul class="mobile-menu-listing"><li><a class="header-link white" href="/logout" id="header_userdrop_logout" data-bypass>{{#_i}}Logout{{/_i}}</a></li></ul></div> '},function(e,t){e.exports='{{#wrong_language}}{{#_i}}You typed in {{#_ivar}}ui_language_name{{/_ivar}}, not {{#_ivar}}language_name{{/_ivar}}.{{/_i}}{{/wrong_language}}{{#missing}}{{#_i}}You missed a word.{{/_i}}{{/missing}}{{#missing_word}}{{#_i}}You missed a word.{{/_i}}{{/missing_word}}{{#third-person-s}}{{#additional_info}}{{#_i}}"{{verb}}" turns into "{{third}}" after the third person singular.{{/_i}}{{/additional_info}}{{/third-person-s}}{{#rev-third-person-s}}{{#additional_info}}{{#_i}}"{{verb}}" turns into "{{third}}" <i>only</i> after the third person singular.{{/_i}}{{/additional_info}}{{/rev-third-person-s}}{{#verb_agr}}{{#additional_info}}{{#_i}}You used the {{wrong_form}} form "{{wrong_usage}}" instead of the {{correct_form}} form "{{correct_usage}}".{{/_i}}{{/additional_info}}{{/verb_agr}}{{#desadj}}{{#additional_info}}{{#_i}}"Des" changes to "de" when there is an adjective before the noun.{{/_i}}{{/additional_info}}{{/desadj}}{{#missing_article}}{{#additional_info}}{{#_i}}You need the article "{{article}}" here.{{/_i}}{{/additional_info}}{{/missing_article}}{{#missing_pronoun}}{{#additional_info}}{{#_i}}In English, you cannot leave out the personal pronoun here.{{/_i}}{{/additional_info}}{{/missing_pronoun}}{{#conjunction_word_order}}{{#additional_info}}{{#_i}}Pay attention to the word order after "{{conjunction}}".{{/_i}}{{/additional_info}}{{/conjunction_word_order}}{{#possessive_s}}{{#_i}}Pay attention to the apostrophe that means possession here.{{/_i}}{{/possessive_s}}{{#cest}}{{#_i}}Use "c\'est" before nouns with articles (un/une, le/la) or possessives (mon/ma).{{/_i}}{{/cest}}{{#he-il}}{{#_i}}Here, the French "il" means "it", not "he".{{/_i}}{{/he-il}}{{#he-ce}}{{#_i}}Here, the French "c\'est" means "it is", not "he is".{{/_i}}{{/he-ce}}{{#il-faut}}{{#_i}}The French "il faut" means "it is necessary" not "he must".{{/_i}}{{/il-faut}}{{#no_gerund}} Unlike English, German has no "-ing" form. So "Ich esse" means "I eat" <strong>and</strong> "I am eating". {{/no_gerund}}{{#iolo}}{{#_i}}The first person pronoun in Italian is "io", not "lo".{{/_i}}{{/iolo}}{{#cheater}}{{#_i}}Did you come up with this yourself or did you paste it from another site...?{{/_i}}{{/cheater}}{{#maedchen_plural}}{{#_i}}Careful! "Die Mädchen" is actually the plural of "das Mädchen".{{/_i}}{{/maedchen_plural}}{{#lehrer_plural}}{{#_i}}Careful! "Die Lehrer" is actually the plural of "der Lehrer".{{/_i}}{{/lehrer_plural}}{{#del}}{{#_i}}In Spanish, "de" and "el" must always combine to "del".{{/_i}}{{/del}}{{#maedchen}}{{#_i}}Careful! "Mädchen" actually takes a neutral article, like most nouns that end in "chen".{{/_i}}{{/maedchen}}{{#number}}{{#additional_info}}{{#sg_correct}}{{#_i}}You used the plural "{{wrong_form}}" here, instead of the singular "{{correct_form}}".{{/_i}}{{/sg_correct}}{{^sg_correct}}{{#_i}}You used the singular "{{wrong_form}}" here, instead of the plural "{{correct_form}}".{{/_i}}{{/sg_correct}}{{/additional_info}}{{/number}}{{#rev_sie}}{{#additional_info}}{{#_i}}"{{sie_usage}}" is used as the formal "you" here, not as "{{wrong_usage}}".{{/_i}}{{/additional_info}}{{/rev_sie}}{{#article_def_indef}}{{#additional_info}}{{#def_correct}}{{#_i}}You used the indefinite "{{wrong_form}}" here, instead of the definite "{{correct_form}}".{{/_i}}{{/def_correct}}{{^def_correct}}{{#_i}}You used the definite "{{wrong_form}}" here, instead of the indefinite "{{correct_form}}".{{/_i}}{{/def_correct}}{{/additional_info}}{{/article_def_indef}}{{#gender}}{{^additional_info}}{{#_i}}Pay attention to the gender.{{/_i}}{{/additional_info}}{{#additional_info}}{{#gender_correct}}{{#gender_wrong}}{{#_i}}"{{noun}}" is {{gender_correct_string}}, not {{gender_wrong_string}}.{{/_i}}{{/gender_wrong}}{{^gender_wrong}}{{#_i}}Pay attention to the gender.{{/_i}}{{/gender_wrong}}{{/gender_correct}}{{^gender_correct}}{{#gender_wrong}}{{#_i}}Pay attention to the gender.{{/_i}}{{/gender_wrong}}{{^gender_wrong}}{{#_i}}Pay attention to the gender.{{/_i}}{{/gender_wrong}}{{/gender_correct}}{{/additional_info}}{{/gender}}{{#case_gender}}{{#additional_info}}{{#case_correct}}{{#gender_correct}}{{#_i}}In {{case_correct_string}} case, use "{{article_correct}}" for {{gender_correct_string}} nouns like "{{noun}}"{{/_i}}{{/gender_correct}}{{^gender_correct}}{{#_i}}Pay attention to case and gender.{{/_i}}{{/gender_correct}}{{/case_correct}}{{^case_correct}}{{#_i}}Pay attention to case and gender.{{/_i}}{{/case_correct}}{{/additional_info}}{{^additional_info}}{{#_i}}Pay attention to case and gender.{{/_i}}{{/additional_info}}{{/case_gender}}{{#nom_gender}}{{#additional_info}}{{#_i}}For {{gender_correct_string}} nouns like "{{noun}}", use "{{article_correct}}".{{/_i}}{{/additional_info}}{{/nom_gender}}{{#circumflex}}{{#_i}}Pay attention to the circumflex.{{/_i}}{{/circumflex}}{{#accent}}{{#_i}}Pay attention to the accents.{{/_i}}{{/accent}}{{#casing}}{{#_i}}Pay attention to the capitalization.{{/_i}}{{/casing}}{{#rev_rev_sie}}{{#additional_info}} "{{sie_usage}}" is only used as the formal "you" when it is capitalized. {{/additional_info}}{{/rev_rev_sie}}{{#casing_sie}}{{#additional_info}}{{#_i}}When used as the formal "you", "{{sie_usage}}" needs to be capitalized.{{/_i}}{{/additional_info}}{{/casing_sie}}{{#casing_ihr}}{{#additional_info}}{{#_i}}When used as the formal "your", "{{ihr_usage}}" needs to be capitalized.{{/_i}}{{/additional_info}}{{/casing_ihr}}{{#casing_noun}}{{#_i}}All nouns are capitalized in German.{{/_i}}{{/casing_noun}}{{#enie}}{{#_i}}Pay attention to the ñ character.{{/_i}}{{/enie}}{{#dieresis}}{{#_i}}Pay attention to the ü character.{{/_i}}{{/dieresis}}{{#cedille}}{{#_i}}Pay attention to the ç character.{{/_i}}{{/cedille}}{{#umlaut}}{{#_i}}Pay attention to the umlauts.{{/_i}}{{/umlaut}}{{#eszett}}{{#_i}}Pay attention to the ß character.{{/_i}}{{/eszett}}{{#typo}}{{#additional_info}}{{#_i}}You have {{#pluralize}}a typo,typos,{{num_highlights}}{{/pluralize}} in your answer.{{/_i}}{{/additional_info}}{{^additional_info}}{{#_i}}Almost correct!{{/_i}}{{/additional_info}}{{/typo}}{{#missing_space}}{{#_i}}You missed a space.{{/_i}}{{/missing_space}}{{#extra_space}}{{#_i}}You have an extra space.{{/_i}}{{/extra_space}}{{#an_a}}{{#_i}}Use "an" before words that start with a vowel.{{/_i}}{{/an_a}}{{#apo_space}}{{#_i}}There should be no spaces around apostrophes.{{/_i}}{{/apo_space}}{{#hyphen_space}}{{#_i}}There should be no spaces around hyphens.{{/_i}}{{/hyphen_space}}{{#report_message}}{{#additional_info}}{{message}}{{/additional_info}}{{/report_message}}{{#latin}}{{#additional_info}}{{#_i}}Remember to use the {{#_ivar}}sentence_language_name{{/_ivar}} keyboard.{{/_i}}{{/additional_info}}{{/latin}}{{#special}}{{#_i}}Pay attention to special characters.{{/_i}}{{/special}}{{#wrong_word}}{{#_i}}You used the wrong word.{{/_i}}{{/wrong_word}}{{#judge-missed-options}}{{#_i}}You missed one of the correct translations.{{/_i}}{{/judge-missed-options}}{{#judge-too-many-options}}{{#_i}}One of the translations you chose was wrong.{{/_i}}{{/judge-too-many-options}}';
},function(e,t){e.exports='<ul class="list-tilted-images">{{#images}}<li style="background-image: url(\'{{.}}\')"></li>{{/images}}</ul> '},function(e,t){e.exports='<div class="challenge-speak"><h1 class="player">{{#_i}}Click the microphone and translate to {{#_ivar}}target_language_name{{/_ivar}}:{{/_i}}</h1>{{^web_speech}}<h2 class="player"><bdi><span id="original-text" class="hints">{{text}}</span></bdi></h2><div class="challenge-row"><div class="challenge-cell"><div id=\'audio-recorder\'><p><a href="//www.adobe.com/go/getflashplayer"><img src="//www.adobe.com/images/shared/download_buttons/get_flash_player.gif" alt="{{#_i}}Get Adobe Flash player{{/_i}}" /></a></p></div></div></div>{{/web_speech}}{{#web_speech}}<div class="challenge-row"><div class="challenge-cell chrome-speech"><div id="audio-recorder" class="speech-button"><button id="record-button" style="" class="btn btn-blue btn-outline btn-record"><span class="icon icon-microphone"></span></button><button id="stop-button" style="" class="hidden btn btn-blue btn-record"><span class="icon icon-stop"></span>{{#_i}}Stop{{/_i}}</button></div><div class="speech-input"><h2 class="player"><span class="flag flag-svg-small flag-{{source_language}}"></span><bdi><span id="original-text" class="hints">{{text}}</span></bdi></h2><h2 class="player speech-underlined"><span class="flag flag-svg-small flag-{{target_language}}"></span><span id="web-speech-solution"></span></h2></div></div></div>{{/web_speech}}</div> '},function(e,t,i){e.exports='<div class="player-inner"><section class="player-container slide-in">'+i(61)+'<div class="player-main"><div id="prev-session-element-container" class=""></div><div id="session-element-container"></div><div class="intro"></div></div><footer id="controls" class="player-footer {{#web_strength_v2_experiment_true}}v2{{/web_strength_v2_experiment_true}}">{{#requires_ready}}<div class="right ready-panel">{{#placement_test}}<button id="start-button" type="submit" class="btn success btn-lg right" tabindex="10">{{#_i}}Start the test{{/_i}}</button>{{/placement_test}}{{#certification_test}}<button id="start-button" type="submit" class="btn success btn-lg right" tabindex="10">{{#_i}}Start the quiz{{/_i}}</button>{{/certification_test}}{{#in_class}}<button id="start-button" type="submit" class="btn success btn-lg right" tabindex="10">{{#_i}}Start Lesson{{/_i}}</button>{{/in_class}}{{^placement_test}}{{^certification_test}}{{#owned_timed_practice}}<button id="start-button" type="submit" class="btn btn-green btn-lg right" tabindex="10">{{#_i}}Start timed practice{{/_i}}</button>{{#allow_opt_out}}<button id="untimed-button" type="submit" class="btn btn-blue btn-lg right margin-right" tabindex="10">{{#_i}}Practice without a timer{{/_i}}</button>{{/allow_opt_out}}{{/owned_timed_practice}}{{^owned_timed_practice}}{{^in_class}}<button id="untimed-button" type="submit" class="btn btn-lg btn-blue right margin-right" tabindex="10">{{#_i}}Practice{{/_i}}</button>{{/in_class}}{{/owned_timed_practice}}{{/certification_test}}{{/placement_test}}</div>{{/requires_ready}}<div class="col-right {{#requires_ready}}action-panel hidden{{/requires_ready}}"><span class="more-padding-left"><button id="next_button" type="submit" data-toggle="tooltip" title="{{#_i}}Press Enter to Check{{/_i}}" class="btn btn-green btn-lg redesign-check has-tooltip" disabled="disabled" data-margin="5" tabindex="20" data-delay=\'{"show":"100", "hide": "0"}\'>{{#_i}}Check{{/_i}}</button></span></div><div class="col-left"><button id="skip_button" style="border-color: #CCCCCC;" class="{{#requires_ready}}hidden{{/requires_ready}} btn btn-outline btn-standard btn-lg left skip-margin skip-button" tabindex="30">{{#_i}}Skip{{/_i}}</button><button id="no-mic-link" style="display: none;" type="submit" class="btn btn-lg {{^web_strength_v2_experiment_true}}btn-white{{/web_strength_v2_experiment_true}} left hidden skip-margin {{#web_strength_v2_experiment_true}}btn-outline btn-standard{{/web_strength_v2_experiment_true}}" tabindex="10">{{#_i}}I don\'t want to use a microphone{{/_i}}</button><div id="grade" ></div></div></footer><div id="no-sound-modal" class="modal hidden fade" style="margin-top: -200px;"><div class="modal-header"><h4>{{#_i}}We can\'t play sound in your browser.{{/_i}}</h4><div class="close" data-dismiss="modal">{{#_i}}close{{/_i}}</div></div><div class="modal-body"></div></div><div id="modal-notification" class="modal hidden fade"></div></section></div>'+i(12)+" "},function(e,t){e.exports='<div class="t13n-toggle toggled-{{#transliterate}}left{{/transliterate}}{{^transliterate}}right{{/transliterate}}"><div class="t13n-toggle-button"><span class="toggled-left-text">Aa</span><span class="toggled-right-text">Яя</span></div></div> '},function(e,t){e.exports='<h1 class="player">{{#_i}}Click or hover over these words to see their translation{{/_i}}</h1><h2 class="player"><span class="icon icon-arrow-blue-right {{#rtl}}img-flipped{{/rtl}} margin-right"></span> <span class="hints translation-source">{{text}}</span></h2><span id="session-context"></span> '},function(e,t){e.exports='{{#other_friends}}<li><span class="avatar-small"><img src="{{#picture}}{{#data}}{{url}}{{/data}}{{/picture}}" class="avatar"></span><strong class="name">{{name}}</strong><a class="invite-friend btn btn-small right btn-primary" data-user="{{id}}">{{#_i}}Invite{{/_i}}</a></li>{{/other_friends}}'},function(e,t){e.exports='<div class="simplified-welcome-container"><div class="welcome-step warm-welcome hidden"><h1>{{#_i}}Learning with Duolingo is totally <strong>free</strong>.{{/_i}}</h1><img src="/images/thumbs-up-sparkle.svg"><p>{{#_i}}But for {{localized_price}} you\'ll also get the globally recognized Duolingo Certificate when you finish the course.{{/_i}}</p><div class="btn btn-standard btn-outline add-certificate">{{#_i}}Add certificate {{localized_price}}{{/_i}}</div><div class="btn btn-standard btn-outline no-certificate">{{#_i}}No certificate{{/_i}}</div><div class="modal hidden slide-in" style="padding: 40px;"><div class="close icon icon-close" data-dismiss="modal">{{#_i}}close{{/_i}}</div><p>{{#_i_in}}Thank you for your interest! This option is not available yet. For now, continue using Duolingo for free!{{/_i_in}}</p><div class="btn btn-blue right" data-dismiss="modal">{{#_i}}OK{{/_i}}</div></div></div><div class="welcome-step daily-goal-chooser"><h1 class="daily-goal-header white">{{#_i}}Great. Now choose a daily goal.{{/_i}}</h1><ul class="goal-chooser"><li><label class="btn btn-standard btn-outline daily-goal-option"><input type="radio" class="daily-goal" name="daily-goal" data-goal="10"/><span class="xp-title">{{#_i}}Casual{{/_i}}</span><span class="xp-text">{{#_i}}5 minutes per day{{/_i}}</span></label></li><li><label class="btn btn-standard btn-outline daily-goal-option active"><input type="radio" class="daily-goal" name="daily-goal" data-goal="20" checked="checked" /><span class="xp-title">{{#_i}}Regular{{/_i}}</span><span class="xp-text">{{#_i}}10 minutes per day{{/_i}}</span></label></li><li><label class="btn btn-standard btn-outline daily-goal-option"><input type="radio" class="daily-goal" name="daily-goal" data-goal="30"/><span class="xp-title">{{#_i}}Serious{{/_i}}</span><span class="xp-text">{{#_i}}15 minutes per day{{/_i}}</span></label></li><li><label class="btn btn-standard btn-outline daily-goal-option"><input type="radio" class="daily-goal" name="daily-goal" data-goal="50"/><span class="xp-title">{{#_i}}Insane{{/_i}}</span><span class="xp-text">{{#_i}}20 minutes per day{{/_i}}</span></label></li></ul><div class="btn btn-standard btn-outline set-goal">{{#_i}}SET GOAL{{/_i}}</div></div><div class="welcome-step chrome-notification-container hidden"><h1 class="daily-goal-header white">{{#_i}}Choose <b>Allow</b> to receive daily reminders to keep up your daily goal!{{/_i}}</h1><div class="btn btn-standard btn-outline chrome-next">{{#_i}}<b>NO THANKS</b>{{/_i}}</div></div><div class="welcome-step choose-path-container hidden"><div class="path-container"><div class="wrappable-item-container"><h2 class="path-title">{{#_i}}New to {{#_iv}}{{learning_language_string}}{{/_iv}}?{{/_i}}</h2></div><span class="skill-icon skill-icon-basics"></span><div class="wrappable-item-container"><div class="btn btn-standard btn-outline path path-basics">{{#_i}}START AT THE BASICS{{/_i}}</div></div></div><div class="path-container"><div class="wrappable-item-container"><h2 class="path-title">{{#_i}}Already know some {{#_iv}}{{learning_language_string}}{{/_iv}}?{{/_i}}</h2></div><span class="skill-icon skill-icon-placement-test"></span><div class="wrappable-item-container"><div class="btn btn-standard btn-outline path path-placement-test">{{#_i}}TRY THIS PLACEMENT TEST{{/_i}}</div></div></div></div></div><div class="welcome-step chrome-notifications-arrow-container hidden"><svg class="chrome-notifications-arrow"><g stroke="#FFFFFF" stroke-width="5" stroke-linecap="round" stroke-linejoin="round" fill="transparent" opacity=".4"><path id="arrow-path" d="M 35 5 C 35 200 35 200 200 200" /><path id="arrow-pointer" d="M 5 30 L 35 5 L 65 30" /></g></svg></div><div class="monument-container"><img src="/images/courses/{{learning_language}}/full_colored.svg" class="monument" /></div>'},function(e,t,i){e.exports='<div class="classroom-teacher">'+i(62)+'<span class="classroom-title">{{#name}}{{name}}{{/name}}{{^name}}{{#_i}}My students{{/_i}}{{/name}}</span><span title="{{email}}" class="observer-email margin-left">{{email}}</span></div>{{#show_remove}}<button class="stop-sharing btn btn-red btn-small">{{#_i}}Remove{{/_i}}</button>{{/show_remove}} '},function(e,t,i){e.exports=' {{#classroom_name}}<p class="gray center">{{#_i}}You are joining <b>{{classroom_name}}</b>{{/_i}}</p>{{/classroom_name}}<p class="gray center">{{#_i}}You will share your Duolingo progress with <b>{{observer_name}}</b>{{/_i}}</p></span>{{#num_classrooms}}<div class="classrooms"><p class="existing-classrooms">{{#_i}}You are already in {{#pluralize}}this classroom,these classrooms,{{num_classrooms}}{{/pluralize}}:{{/_i}}</p><ul>{{#classrooms}}<li>'+i(194)+"</li>{{/classrooms}}</ul></div>{{/num_classrooms}} "},function(e,t){e.exports='<div class="tree">{{^first_time}}<button data-tab="store" class="btn btn-standard right store-button btn-store"><span class="icon icon-store-small"></span> {{#_i}}Lingot store{{/_i}}</button><a href="/settings/direction"><span data-toggle="tooltip" title="{{#_i}}Change language{{/_i}}" class="flag flag-svg-small flag-{{language}} skill-tree-header-language"></span></a><span class="skill-tree-header"><h1>{{#_i}}{{#_ivar}}language_string{{/_ivar}} skills{{/_i}}</h1><span class="level-text">{{#_i}}LEVEL {{level}}{{/_i}}</span></span>{{#in_beta}}<div class="beta-ribbon-container"><span class="content">{{#_i}}IN BETA{{/_i}}</span><span class="ribbon-end"></span></div>{{/in_beta}}{{/first_time}}{{#first_time}}<div class="skill-tree-intro{{#rtl}}-rtl{{/rtl}}"><div class="speech-bubble arrow-right" id="bubble-hover"><div class="arrow-right-container"><div class="arrow"></div></div><div class="inner "><h2>{{#_i}}Choose your path!{{/_i}}</h2><p>{{#_i}}Beginners start at {{#_ivar}}basics_title{{/_ivar}}.<br/>Advanced learners take a short test.{{/_i}}</p><ul class="choose-your-path"><li><a href="/skill/{{language}}/{{basics_url}}" class="skill-badge-small" style="margin: 0;"><span class="skill-icon blue small unlocked " style="margin-bottom: 8px;"><span class="skill-icon-image skill-icon-1"></span></span><strong class="skill-badge-name blue">{{#_ivar}}basics_title{{/_ivar}}</strong></a></li><li class="or">{{#_i}}or{{/_i}}</li><li><a href="/placement/{{learning_language}}" class="skill-badge-small" style="margin: 0;"><span class="skill-icon green small unlocked " style="margin-bottom: 8px;"><span class="skill-icon-image skill-icon-11"></span></span><strong class="green skill-badge-name">{{#_i}}Placement test{{/_i}}</strong></a></li></ul></div></div><div class="{{^rtl}}owl-peeking-right-container{{/rtl}}{{#rtl}}owl-peeking-left-container{{/rtl}}"><div class="owl owl-standard"></div></div></div>{{/first_time}}<ul class="skill-tree">{{#rows}}{{#bonus_row}}<li class="skill-tree-row bonus-row">{{#filled_slots}}<span id="skill-{{short_name}}"></span>{{/filled_slots}}{{#empty_slots}}<a href="/show_store$scroll=bonus" class="fade-this-in skill-badge-small skill-badge-placeholder" style="opacity: 0;"><span class="skill-icon small skill-icon-placeholder"><span class="icon icon-plus-black-big"></span></span><span class="skill-badge-name">{{#_i}}Bonus Skill{{/_i}}</span></a>{{/empty_slots}}</li>{{/bonus_row}}{{^bonus_row}}{{#test_row}}<li class="skill-tree-row row-shortcut"><div class="skill-span columns track-hover">{{#done}}<div class="btn btn-standard btn-lg disabled {{#fade_in}}opacity-0{{/fade_in}} fade-this-in"><span class="icon icon-check-white-small better-margin"></span> {{#_i}}Checkpoint passed{{/_i}}</div>{{/done}}{{^done}}<a id="big-test-{{level_test}}" href="/bigtest/{{language}}/{{level_test}}" class="{{#fade_in}}opacity-0{{/fade_in}} fade-this-in btn btn-lg btn-yellow btn-test-out">{{#_i}}Test out of {{num_unlocks}} {{#pluralize}}skill,skills,{{num_unlocks}}{{/pluralize}}{{/_i}}</a>{{/done}}</div></li>{{/test_row}}{{^test_row}}{{#register_row}}<li class="skill-tree-row"><a href="javascript:;" class="{{#fade_in}}opacity-0{{/fade_in}} fade-this-in btn btn-lg btn-green register-delayed" data-track-click="trial account skill tree create profile">{{#_i}}Create a profile to continue{{/_i}}</a </li>{{/register_row}}{{^register_row}}<li class="skill-tree-row row-{{row}}">{{#columns}}<span id="skill-{{column}}-{{row}}"></span>{{/columns}}</li>{{/register_row}}{{/test_row}}{{/bonus_row}}{{/rows}}</ul>{{#tc_big_boss}}<div class="tc-big-boss"><div class="tc-shield"></div><span>{{#_i}}Final Challenge{{/_i}}</span></div>{{/tc_big_boss}}{{^tc_big_boss}}{{#finished_tree}}<div class=""><div class="trophy golden-duo owl owl-trophy-small {{learning_language}}" style="cursor:pointer; display:block"></div></div>{{/finished_tree}}{{/tc_big_boss}}</div><div id="rupee-store-view" style="position: relative;"></div> '},function(e,t){e.exports='{{^deactivated}}<a href="/{{username}}" class="avatar avatar-large {{#show_badges}}{{#expert}}expert{{/expert}} {{#admin}}expert{{/admin}} {{#mod}}moderator{{/mod}}{{/show_badges}} " {{#mod}}data-toggle="tooltip" title="{{#_i}}Moderator{{/_i}}"{{/mod}}{{#admin}}data-toggle="tooltip" title="{{#_i}}Admin{{/_i}}"{{/admin}} >{{#avatar}}{{#default_avatar}}<img src="{{avatar}}/xlarge">{{/default_avatar}}{{/avatar}}{{^avatar}}{{#default_avatar}}<img src="//www.duolingo.com/avatars/{{id}}/xlarge" class="avatar">{{/default_avatar}}{{/avatar}}<span class="ring"></span>{{#admin}}<span class="avatar-badge admin"><span class="icon icon-star-white-tiny"></span></span>{{/admin}}{{#mod}}<span class="avatar-badge moderator"><span class="icon-shield-white-tiny icon"></span></span>{{/mod}}</a>{{/deactivated}}{{#deactivated}}<span class="has-twipsy avatar-large" title="{{#_i}}[deactivated user]{{/_i}}"><img src="//www.duolingo.com/avatars/deactivated_user/xlarge" class="avatar"></span>{{/deactivated}} '},function(e,t){e.exports='{{^deactivated}}<a href="/{{username}}" class="avatar avatar-xlarge" title="{{username}}">{{#avatar}}{{#default_avatar}}<img src="{{avatar}}/xlarge">{{/default_avatar}}{{/avatar}}{{^avatar}}{{#default_avatar}}<img src="//www.duolingo.com/avatars/{{id}}/xlarge" class="avatar">{{/default_avatar}}{{/avatar}}<span class="ring"></span></a>{{/deactivated}}{{#deactivated}}<span class="has-twipsy avatar-xlarge" title="{{#_i}}[deactivated user]{{/_i}}"><img src="//www.duolingo.com/avatars/deactivated_user/xlarge" class="avatar"></span>{{/deactivated}} '},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){var s=i(1),a=i(3),n=i(227),o=i(132);e.exports=a.Model.extend({url:"/admin_tools",parse:function(e){var t=e.banned_users;return this.moderation_log=new n,"deletes"==e.log_type?(this.moderation_log.reset(this.moderation_log.parse(e)),e.moderation_log=this.moderation_log):"comments"==e.log_type&&(this.comment_log.reset(this.comment_log.parse(e)),e.comment_log=this.comment_log),e.banned_users=t,e},getComments:function(){this.comment_log=new n;var e=this;this.fetch({data:{page:0,log_type:"comments"},success:function(t){var i=new o({el:this.$("#comment-log"),collection:e.get("comment_log"),model:e,type:"comments"});i.render()}})},getShadowBannedUsers:function(){var e=this;s.post("/admin_tools/shadow_banned",function(t){return e.set(e.parse(t)),t})},addShadowBannedUser:function(e){var t=this;s.post("/admin_tools/shadow_banned/add",{username:e},function(e){return"user not found"==e.error?void alert("username not found"):(t.set(t.parse(e)),e)})},removeShadowBannedUser:function(e){var t=this;s.post("/admin_tools/shadow_banned/remove",{user_id:e},function(e){return e.error?void alert("username not found"):(t.set(t.parse(e)),e)})}})},function(e,t,i){var s=i(3);e.exports=s.Model.extend({url:"/admin_tools/social_currency_stats"})},function(e,t,i){var s=i(3),a=i(31);e.exports=s.Collection.extend({model:a,url:"/admin_tools",fetch:function(e){return e=e||{},e.data=e.data||{},e.data.page=e.data.page,e.data.log_type=e.data.log_type,s.Collection.prototype.fetch.call(this,e)},parse:function(e){return this.more=e.more,e.mod_log}})},function(e,t,i){var s=i(2),a=i(3),n=i(34);e.exports=n.extend({url:function(){return this.collection?s.result(this.collection,"url"):n.prototype.url.call(this)},toJSON:function(){var e=a.Model.prototype.toJSON.call(this);return e.processed_message=this.replaceURLs(e.message),e}})},function(e,t,i){var s=i(50),a=i(228);e.exports=s.extend({model:a,url:function(){return"/events/"+this.event_id+"/comments"},parse:function(e){return e}})},function(e,t,i){var s=i(1),a=i(2),n=i(50);e.exports=n.extend({fetch:function(e){var t=this;return e=e||{},e.data=e.data||{},e.data=a.extend({wt:"json",q:this.q,fq:this.fq,start:this.length},e.data),0===s.trim(e.data.q).length?void this.reset([]):s.ajax({url:window.location.protocol+"//"+duo.search_host+"/solr/select",data:e.data,success:function(i){var n=i.response.docs;return t.num_results=i.response.numFound,n.length?void s.getJSON("/comments/load",{comment_ids:JSON.stringify(a.pluck(n,"parent_id"))},function(s){var o=i.highlighting;n=a.map(n,function(e,t){var i=o[e.id].title||o[e.id].message;return i||(i=e.title||e.message,i=i.substring(0,50)+"..."),e.parent_title=s[e.parent_id]?s[e.parent_id].title:e.title,e.extract=i,e}),e.data.start?t.add(n):t.reset(n)}):void(e.data.start||t.reset([]))},dataType:"jsonp",jsonp:"json.wrf"})}})},function(e,t,i){var s=i(3);e.exports=s.Model.extend({url:function(){return"/api/1/courses/"+this.get("learning_language_id")+"/"+this.get("from_language_id")+"/show"},parse:function(e){return e.progress=e.progress,e}})},function(e,t,i){var s=i(2),a=i(3),n=i(233);e.exports=a.Collection.extend({model:n,url:"/api/1/courses/list",comparator:function(e){return e.get("phase")>1?-e.get("num_learners"):-e.get("progress")},parse:function(e){this.all_source_languages=[];var t=(duo.user?duo.user.get("ui_language"):duo.browser_language,[]),i=this;return s.each(e,function(e){var s=e.from_language;s in t||(t[s]=!0,i.all_source_languages.push({abbrev:s,id:e.from_language_id,language_name:e.from_language_name}))}),this.all_source_languages.sort(function(e,t){return e.name<t.name?-1:1}),e.progress=Math.round(e.progress),e}})},function(e,t,i){var s=i(2),a=i(3);e.exports=a.Model.extend({parse:function(e){return e.in_progress=1==e.phase,e.in_beta=2==e.phase,e.released=3==e.phase,e.learning=duo.user&&e.from_language==duo.user.get("ui_language")&&s.where(duo.user.get("languages"),{learning:!0,language:e.learning_language}),e}})},function(e,t,i){var s=i(2),a=i(3),n=i(31);e.exports=a.Collection.extend({model:n,url:function(){if(void 0===this.user_id)throw new Error(JSON.stringify({user_id:this.user_id,before:this.before}));return"/stream/"+this.user_id},fetch:function(e){return e=e||{},e.data=e.data||{},e.data.before=this.before,e.data.p_view=this.p_view,a.Collection.prototype.fetch.call(this,e)},parse:function(e){var t=e;return e.before&&(this.before=e.before,this.more_events=e.more_events,t=e.events),s.map(t,function(e){return n.prototype.parse.call(this,e)})}})},function(e,t,i){var s=i(31);e.exports=s.extend({url:"/post"})},function(e,t,i){var s=i(3);e.exports=s.Model.extend({parse:function(e){return e.is_complete="completed"===e.status,e.is_late="late"===e.status,e.is_missed="missed"===e.status,e.in_progress=""===e.status,e.xp_gained&&(e.num_completed=e.xp_gained),e.lessons_completed&&(e.num_completed=e.lessons_completed),e.started=e.num_completed,e}})},function(e,t,i){var s=i(2),a=i(3),n=i(236);e.exports=a.Collection.extend({model:n,url:function(){return this.language_specific?"/api/1/observers/student_language_assignments":"/api/1/observers/student_assignments"},initialize:function(e,t){this.comparator_attr=t.sortBy||"creation",this.ascend=!1,this.language_specific=t.language_specific},parse:function(e){return this.student=e.student,this.other_language_info=e.other_language_info,this.next_skill=e.next_skill,e.assignments},comparator:function(e,t){var i=0;switch(this.comparator_attr){case"completion":var a=e.get("completion_date_ord")||e.get("started")||0,n=t.get("completion_date_ord")||t.get("started")||0;i=n-a;break;case"due":i=t.get("due_date_ord")-e.get("due_date_ord");break;case"actionable":if(!s.isUndefined(e.get("time_remaining"))&&!s.isUndefined(t.get("time_remaining"))){i=e.get("time_remaining")-t.get("time_remaining");break}if(!s.isUndefined(e.get("time_remaining"))&&t.get("overdue")){i=-1;break}if(!s.isUndefined(t.get("time_remaining"))&&e.get("overdue")){i=1;break}e.get("overdue")&&t.get("overdue")&&(i=t.get("due_date_ord")-e.get("due_date_ord"));break;default:i=t.get("creation_date_ord")-e.get("creation_date_ord")}return this.ascend&&(i=-i),i}})},function(e,t,i){var s=i(51);e.exports=s.extend({type:"big_test"})},function(e,t,i){var s=i(51);e.exports=s.extend({type:"certification_test",initialize:function(){s.prototype.initialize.call(this),this.set({answer_feedback:!1})}})},function(e,t,i){var s=i(33);e.exports=s.extend({type:"debug"})},function(e,t,i){var s=i(33);e.exports=s.extend({type:"global_practice",fetch:function(e){return this.has("language")&&(e=e||{},e.data=e.data||{},e.data.language=this.get("language")),s.prototype.fetch.call(this,e)}})},function(e,t,i){var s=i(33);e.exports=s.extend({type:"in_class",fetch:function(e){return e=e||{},e.data=e.data||{},e.data.language=this.get("language"),e.data.target_user_id=this.get("target_user_id"),s.prototype.fetch.call(this,e)}})},function(e,t){var i=e.exports=function(e,t){this.prior=e,this.dist=e.slice(),this.curves=t,this.t=0,this.initial_prob_correct=this.probCorrect()};i.prototype.probCorrect=function(){for(var e=0,t=0;t<this.dist.length;t++){var i=this.curves[t];e+=this.dist[t]*i[Math.min(this.t,i.length-1)]}return e},i.prototype.getState=function(){return this.dist},i.prototype.update=function(e,t,i){for(var s=[],a=0,n=0;n<this.dist.length;n++){var o=this.curves[n],r=this.dist[n],l=o[Math.min(this.t,o.length-1)],d=t*l+(1-t)*(1-l),c=r*d;s.push(c),a+=c}for(var n=0;n<this.dist.length;n++)this.dist[n]=s[n]/a;this.probCorrect()<this.initial_prob_correct&&(this.dist=this.prior.slice()),this.t+=1}},function(e,t){var i=e.exports=function(){this.initial_logit=1.34,this.logit=this.initial_logit};i.prototype.probCorrect=function(){return 1/(1+Math.exp(-this.logit))},i.prototype.update=function(e,t,i){var s=0,a=0;"translate"==e?(s=i?.6:1.88,a=1):"select"!=e?(s=.96,a=.5):(s=.36,a=.48),this.logit+=t*s-(1-t)*a,this.logit=Math.max(this.logit,this.initial_logit)},i.prototype.getState=function(){return this.logit}},function(e,t){var i={UNSEEN:0,INTRODUCED:1,RECOGNIZED:2,PRODUCED:3},s=e.exports=function(){this.state=i.UNSEEN};s.prototype.probCorrect=function(){return this.state==i.UNSEEN?Math.exp(-3):this.state==i.INTRODUCED?Math.exp(-2):this.state==i.RECOGNIZED?Math.exp(-1):1},s.prototype.update=function(e,t,s){1>t||(this.state==i.UNSEEN?this.state=i.INTRODUCED:"reverse_translate"==e||"name"==e?this.state=i.PRODUCED:this.state=Math.max(this.state,i.RECOGNIZED))},s.prototype.getState=function(){return this.probCorrect()}},function(e,t,i){var s=i(51);e.exports=s.extend({type:"placement_test"})},function(e,t,i){var s=i(3),a=i(67);e.exports=s.Collection.extend({model:a})},function(e,t,i){var s=i(33);e.exports=s.extend({type:"skill_practice"})},function(e,t,i){var s=i(3),a=i(1),n=i(2),o=i(66),r=1e-4,l=o.BlameEnum,d=(o.cappedEditDistance,o.cappedEditDistanceIgnoringAccents);e.exports=s.Model.extend({initialize:function(e){if(this.vertices=e.vertices,n.isUndefined(this.vertices)||!n.isEmpty(this.vertices[this.vertices.length-1]))throw Error("Malformed vertices array: Last element is not empty.");this.language=e.language,this.submittedValue=e.submittedValue,this.isWhitespaceDelimited=n.isUndefined(e.isWhitespaceDelimited)?!0:e.isWhitespaceDelimited,this.accentedCharacterMap=e.accentedCharacterMap||{},this.languageTokens=o.fetchLanguageTokens(this.language),n.bindAll(this,"isEndState","iterEdges")},startState:function(){return[0,0]},isEndState:function(e){var t=e[0],i=e[1];return t===this.vertices.length-1&&i===this.submittedValue.length},isValidToken:function(e,t){return this.languageTokens?n.contains(this.languageTokens,t):!1},iterEdges:function(e){var t=[],i=function(e,t){var i=t[0],s=t[1],n=a.extend(!0,{type:i,weight:s+(e.auto?r:0)},e);return n},s=e[0],o=e[1];if(o>this.submittedValue.length)throw Error("'pos' must be less than the length of 'submittedValue'.");var c,u,h=this.submittedValue.slice(o),g=this;return n.each(this.vertices[s],function(e){var s=e.lenient;if(0===s.length)return void t.push([e,[e.to,o]]);if(" "===s)return void(h.startsWith(" ")?t.push([e,[e.to,o+1]]):""===h?t.push([e,[e.to,o]]):(u=i(e,l.MissingSpace),t.push([u,[u.to,o]])));if(g.isWhitespaceDelimited){for(var a,n=!0,r=0,p=0;p<s.length;p++){for(a=s[p];r<h.length&&" "===h[r];)r+=1;if(r===h.length||a!==h[r]){n=!1;break}r+=1}n&&(u=i(e,l.ExtraSpace),c=o+r,t.push([u,[u.to,c]]))}var _=h.indexOf(" "),m=0>_?h:h.slice(0,_);if(c=o+m.length,s===m)t.push([e,[e.to,c]]);else if(g.isWhitespaceDelimited&&m.length>0){var v=d(s,m,g.accentedCharacterMap);if(0===v)u=i(e,l.Accent),t.push([u,[u.to,c]]);else if(1===v){var f=g.isValidToken(g.language,m),b=f?l.WrongWord:l.Typo;return u=i(e,b),void t.push([u,[u.to,c]])}}m.startsWith(s)&&t.push([e,[e.to,o+s.length]]),!g.isWhitespaceDelimited&&m.startsWith(s)||(u=i(e,l.MissingWord),g.isWhitespaceDelimited&&(u=g.spaceSkippingEdge(u)),t.push([u,[u.to,o]]),m.length>0&&(u=i(e,l.WrongWord),t.push([u,[u.to,c]])))}),t},edgeWeight:function(e){var t=e.weight;return n.isUndefined(t)?0:t},spaceSkippingEdge:function(e){var t=a.extend(!0,{},e),i=this.vertices[e.to],s=i;return 1===s.length&&" "===s[0].lenient&&(t.to=s[0].to,t.lenient+=" ","orig"in t&&(t.orig+=" ")),t}})},function(e,t,i){var s=i(251),a=e.exports=function(e){this.model=e,this.strength=0,this.introduced_lexeme_ids={},this.student_model=new s(e),this.extra_strength=0,this.initial_log_prob=this.student_model.logProbAllCorrect(),this.min_strength_increment=e.get("min_strength_increment"),this.min_strength_decrement=e.get("min_strength_decrement"),this.pass_strength=e.get("pass_strength"),this.pass_strength_fraction=.97};a.prototype.update_introduced_lexeme_ids=function(e){for(var t=e.get("teaches_lexeme_ids"),i=0;i<t.length;i++){var s=t[i];this.introduced_lexeme_ids[s]=!0}},a.prototype.updateStrength=function(e,t,i,s){if(this.model.getUseMistakeExtension()){var a=this.pass_strength-this.strength,n=this.model.get("session_elements").length,o=this.model.get("position"),r=n-o,l=0;r>0&&(l=a/r),t?this.strength+=l:this.strength-=l/2}else{var d=this.student_model.logProbAllCorrect()-this.initial_log_prob;this.student_model.update(e,t,i,s);var c=this.student_model.logProbAllCorrect()-this.initial_log_prob,u=c-d;t&&u<this.min_strength_increment&&(this.extra_strength+=this.min_strength_increment-u),!t&&u>-this.min_strength_decrement&&(this.extra_strength-=u+this.min_strength_decrement,c+this.extra_strength<0&&(this.extra_strength=-c)),this.strength=c+this.extra_strength}this.strength=Math.max(0,this.strength),this.update_introduced_lexeme_ids(e);var h=this.strength/this.pass_strength;h>this.pass_strength_fraction&&(h=1),this.model.set("introduced_lexeme_ids",Object.keys(this.introduced_lexeme_ids)),this.model.set("strength_fraction",h)}},function(e,t,i){var s=i(2),a=i(244),n=i(243),o=i(245),r=e.exports=function(e){var t=e.get("mixture_models");this.kc_models={};for(var i in t){var s=t[i],r=s.prior,l=s.learning_curves;3==e.get("kc_strength_model_version")?this.kc_models[i]=new o:2==e.get("kc_strength_model_version")?this.kc_models[i]=new a(r,l):this.kc_models[i]=new n(r,l)}};r.prototype.getNumKCs=function(){return s.size(this.kc_models)},r.prototype.getKCStates=function(){var e={};for(var t in this.kc_models)e[t]=this.kc_models[t].getState();return e},r.prototype.logProbAllCorrect=function(){var e=0;for(var t in this.kc_models)e+=Math.log(this.kc_models[t].probCorrect());return e},r.prototype.minProbCorrect=function(e){var t=1;for(var i in this.kc_models)(!e||i in e)&&(t=Math.min(t,this.kc_models[i].probCorrect()));return t},r.prototype.update=function(e,t,i,a){for(var n=e.get("specific_type"),o=e.get("knowledge_components"),r=1,l=0;l<o.length;l++){var d=o[l];d in this.kc_models&&(r*=this.kc_models[d].probCorrect())}for(var l=0;l<o.length;l++){var d=o[l];if(d in this.kc_models){var c=1;if(!t)if(i&&Object.keys(i).length>0&&d in i)c=i[d];else{var u=this.kc_models[d].probCorrect(),h=r/u;c=u*(1-h)/(1-u*h)}var g=void 0!==a&&-1!==s.indexOf(a,d);this.kc_models[d].update(n,c,g)}}}},function(e,t){var i=t;i.es={en:{num_lexemes_per_lesson:7,hints_url:"d2.duolingo.com/api/1/dictionary/hints",beginner:!0,language_string:"Spanish",session_elements:[{specific_type:"name_example",language:"es",hint:"the boy",solution_key:"605a1c36da2cf22706eaad95b0b7eeee",source_language:"es",teaches_lexeme_ids:["605a1c36da2cf22706eaad95b0b7eeee"],activity_uuid:"eba0f2fd-8d41-40af-8ae7-b66505d38d04",highlight:["el","niño"],options:[{phrase_id:"9e89db30917d1083054f9fc12f914112",phrase:"el agua",image:"https://d2pur3iezf4d1j.cloudfront.net/images/fd1047fe6762e8f13c66ca9b2e5118ea"},{phrase_id:"39bb8253301808b7ef23e06abc103071",phrase:"la mujer",image:"https://d2pur3iezf4d1j.cloudfront.net/images/cfd6ac49dca2c518ce9da14a23347092"},{phrase_id:"fe7c5f3102972251c504894165299470",phrase:"el niño",image:"https://d2pur3iezf4d1j.cloudfront.net/images/8a986a776a80b4248af85a840ff0a5b1"}],generator_id:"605a1c36da2cf22706eaad95b0b7eeee",phrase:"el niño",known:!0,language_name:"Spanish",kc_surface_forms:{"niño":"605a1c36da2cf22706eaad95b0b7eeee"},knowledge_components:["605a1c36da2cf22706eaad95b0b7eeee"],type:"select",unknown_words:["el","niño"]},{specific_type:"name_example",language:"es",hint:"the woman",solution_key:"e5a09ea1bd469575ed000382d5cee176",source_language:"es",teaches_lexeme_ids:["e5a09ea1bd469575ed000382d5cee176"],activity_uuid:"eba0f2fd-8d41-40af-8ae7-b66505d38d04",highlight:["mujer","la"],options:[{phrase_id:"fe7c5f3102972251c504894165299470",phrase:"el niño",image:"https://d2pur3iezf4d1j.cloudfront.net/images/8a986a776a80b4248af85a840ff0a5b1"},{phrase_id:"9e89db30917d1083054f9fc12f914112",phrase:"el agua",image:"https://d2pur3iezf4d1j.cloudfront.net/images/3dcef5964c54240b484d059bc3070d2f"},{phrase_id:"39bb8253301808b7ef23e06abc103071",phrase:"la mujer",image:"https://d2pur3iezf4d1j.cloudfront.net/images/5277d3cda4aa7b55d9c63e98cf45ecef"}],generator_id:"e5a09ea1bd469575ed000382d5cee176",phrase:"la mujer",known:!0,language_name:"Spanish",kc_surface_forms:{mujer:"e5a09ea1bd469575ed000382d5cee176"},knowledge_components:["e5a09ea1bd469575ed000382d5cee176"],type:"select",unknown_words:["mujer","la"]},{specific_type:"name_example",language:"es",hint:"the man",solution_key:"86584daef5933b284384453795bbf0ed",source_language:"es",
teaches_lexeme_ids:["86584daef5933b284384453795bbf0ed"],activity_uuid:"eba0f2fd-8d41-40af-8ae7-b66505d38d04",highlight:["hombre"],options:[{phrase_id:"fe7c5f3102972251c504894165299470",phrase:"el niño",image:"https://d2pur3iezf4d1j.cloudfront.net/images/f454077fd87b8f1bb679fd096e29a4ca"},{phrase_id:"9e89db30917d1083054f9fc12f914112",phrase:"el agua",image:"https://d2pur3iezf4d1j.cloudfront.net/images/3dcef5964c54240b484d059bc3070d2f"},{phrase_id:"f1caeec4dbb9dd9914fba021f8e2d79e",phrase:"el hombre",image:"https://d2pur3iezf4d1j.cloudfront.net/images/af5dfab3daf7a1626450b4074a0b18b6"}],generator_id:"86584daef5933b284384453795bbf0ed",phrase:"el hombre",known:!0,language_name:"Spanish",kc_surface_forms:{hombre:"86584daef5933b284384453795bbf0ed"},knowledge_components:["86584daef5933b284384453795bbf0ed"],type:"select",unknown_words:["hombre"]},{specific_type:"name_example",language:"es",hint:"the girl",solution_key:"08dfcd4e6c86bb047be6dc84e77ed664",source_language:"es",teaches_lexeme_ids:["08dfcd4e6c86bb047be6dc84e77ed664"],activity_uuid:"eba0f2fd-8d41-40af-8ae7-b66505d38d04",highlight:["niña"],options:[{phrase_id:"9e89db30917d1083054f9fc12f914112",phrase:"el agua",image:"https://d2pur3iezf4d1j.cloudfront.net/images/fd1047fe6762e8f13c66ca9b2e5118ea"},{phrase_id:"39bb8253301808b7ef23e06abc103071",phrase:"la mujer",image:"https://d2pur3iezf4d1j.cloudfront.net/images/5277d3cda4aa7b55d9c63e98cf45ecef"},{phrase_id:"9d1295adf45293880829f2bda245ebe7",phrase:"la niña",image:"https://d2pur3iezf4d1j.cloudfront.net/images/a49d591d0f735e48ae2d42e3a2b28e0d"}],generator_id:"08dfcd4e6c86bb047be6dc84e77ed664",phrase:"la niña",known:!0,language_name:"Spanish",kc_surface_forms:{"niña":"08dfcd4e6c86bb047be6dc84e77ed664"},knowledge_components:["08dfcd4e6c86bb047be6dc84e77ed664"],type:"select",unknown_words:["niña"]},{sentence:"Un niño",solution_key:"c363248e945a136116c73937f5369631",source_language:"es",translation_key:null,wrong_tokens:null,unknown_words:["un"],activity_uuid:"eba0f2fd-8d41-40af-8ae7-b66505d38d04",specific_type:"translate",unknown:!1,grading_data:{version:0,vertices:[[{to:1,lenient:""},{to:4,lenient:""}],[{to:2,lenient:"a",orig:"A"}],[{to:3,lenient:" "}],[{to:7,lenient:"boy"}],[{to:5,lenient:"a",orig:"A"},{to:5,lenient:"one",orig:"One"},{to:5,lenient:"1",auto:!0}],[{to:6,lenient:" "}],[{to:7,lenient:"boy"},{to:7,lenient:"child"},{to:7,lenient:"kid"}],[]],language:"en"},generator_id:"c363248e945a136116c73937f5369631",text:"Un niño",type:"translate",new_explanation_ids:[],compact_translations:["A boy","[A/One] [boy/child/kid]"],teaches_lexeme_ids:["c5a5d664ac5b4440b3da8613095dd840","605a1c36da2cf22706eaad95b0b7eeee","6750a9301759fa06ca73d846700450d1"],tokens:null,sentence_id:"c363248e945a136116c73937f5369631",target_language_name:"English",characters:{2:{include_slow:!1,tts_gender:1,image_url:"https://d2pur3iezf4d1j.cloudfront.net/images/e69ffdbbdece5790ca1a99c9c2855544"}},known:!0,translation:"A boy",tts_id:"c363248e945a136116c73937f5369631",has_tts:!0,has_accents:!1,kc_surface_forms:{un:"c5a5d664ac5b4440b3da8613095dd840","niño":"605a1c36da2cf22706eaad95b0b7eeee"},context:"",highlight:["un"],knowledge_components:["c5a5d664ac5b4440b3da8613095dd840","605a1c36da2cf22706eaad95b0b7eeee"],explanations:{},target_language:"en"},{sentence:"El niño",solution_key:"22a15f856f4d96359f5f701530e28212",source_language:"es",translation_key:null,wrong_tokens:null,unknown_words:[],activity_uuid:"eba0f2fd-8d41-40af-8ae7-b66505d38d04",specific_type:"translate",unknown:!1,grading_data:{version:0,vertices:[[{to:1,lenient:""},{to:4,lenient:""}],[{to:2,lenient:"the",orig:"The"}],[{to:3,lenient:" "}],[{to:7,lenient:"boy"}],[{to:5,lenient:"the",orig:"The"}],[{to:6,lenient:" "}],[{to:7,lenient:"boy"},{to:7,lenient:"kid"},{to:7,lenient:"child"}],[]],language:"en"},generator_id:"22a15f856f4d96359f5f701530e28212",text:"El niño",type:"translate",new_explanation_ids:[],compact_translations:["The boy","The [boy/kid/child]"],teaches_lexeme_ids:["b1b2b2203009f082a1cf172e42fa65a3","605a1c36da2cf22706eaad95b0b7eeee"],tokens:null,sentence_id:"22a15f856f4d96359f5f701530e28212",target_language_name:"English",characters:{2:{include_slow:!1,tts_gender:1,image_url:"https://d2pur3iezf4d1j.cloudfront.net/images/23d4a680443f723a8e06f9d6eae866c1"}},known:!0,translation:"The boy",tts_id:"22a15f856f4d96359f5f701530e28212",has_tts:!0,has_accents:!1,kc_surface_forms:{el:"b1b2b2203009f082a1cf172e42fa65a3","niño":"605a1c36da2cf22706eaad95b0b7eeee"},context:"",highlight:[],knowledge_components:["b1b2b2203009f082a1cf172e42fa65a3","605a1c36da2cf22706eaad95b0b7eeee"],explanations:{},target_language:"en"},{sentence:"Soy un hombre.",solution_key:"2af7850b42dbc4a82f84f3775123c53c",source_language:"es",translation_key:null,wrong_tokens:null,unknown_words:["soy"],activity_uuid:"eba0f2fd-8d41-40af-8ae7-b66505d38d04",specific_type:"translate",unknown:!1,grading_data:{version:0,vertices:[[{to:1,lenient:""},{to:8,lenient:""}],[{to:2,lenient:"i",orig:"I"},{to:4,lenient:"i'm",auto:!0,orig:"I'm"}],[{to:3,lenient:" "}],[{to:4,lenient:"am"}],[{to:5,lenient:" "}],[{to:6,lenient:"a"}],[{to:7,lenient:" "}],[{to:21,lenient:"man",orig:"man."}],[{to:9,lenient:"i",orig:"I"},{to:11,lenient:"i'm",orig:"I'm"},{to:11,lenient:"i'm",auto:!0,orig:"I'm"},{to:16,lenient:"i'm",auto:!0,orig:"I'm"},{to:17,lenient:"i",auto:!0,orig:"I"},{to:19,lenient:"i",auto:!0,orig:"I"}],[{to:10,lenient:" "}],[{to:11,lenient:"am"}],[{to:12,lenient:" "}],[{to:13,lenient:""},{to:14,lenient:"1",auto:!0}],[{to:14,lenient:"a"},{to:14,lenient:"one"},{to:14,lenient:"1",auto:!0}],[{to:15,lenient:" "}],[{to:21,lenient:"man",orig:"man."}],[{to:13,lenient:" "}],[{to:18,lenient:" "}],[{to:11,lenient:"am",auto:!0}],[{to:20,lenient:" "}],[{to:16,lenient:"am",auto:!0}],[]],language:"en"},generator_id:"2af7850b42dbc4a82f84f3775123c53c",text:"Soy un hombre.",type:"translate",new_explanation_ids:[],compact_translations:["I am a man.","[I am/I'm] [a/one] man."],teaches_lexeme_ids:["c5a5d664ac5b4440b3da8613095dd840","6750a9301759fa06ca73d846700450d1","86584daef5933b284384453795bbf0ed","84e18e86c58e8e61d687dfa06b3aaa36"],tokens:null,sentence_id:"2af7850b42dbc4a82f84f3775123c53c",target_language_name:"English",characters:{2:{include_slow:!1,tts_gender:1,image_url:"https://d2pur3iezf4d1j.cloudfront.net/images/caa964a39eecff97a6b6382c1def8682"}},known:!0,translation:"I am a man.",tts_id:"2af7850b42dbc4a82f84f3775123c53c",has_tts:!0,has_accents:!1,kc_surface_forms:{soy:"84e18e86c58e8e61d687dfa06b3aaa36",un:"c5a5d664ac5b4440b3da8613095dd840",hombre:"86584daef5933b284384453795bbf0ed"},context:"",highlight:["soy"],knowledge_components:["c5a5d664ac5b4440b3da8613095dd840","86584daef5933b284384453795bbf0ed","84e18e86c58e8e61d687dfa06b3aaa36"],explanations:{},target_language:"en"},{sentence:"El hombre, la mujer",solution_key:"997cbf43c0413dacb48175b348899164",source_language:"es",translation_key:null,wrong_tokens:null,unknown_words:[],activity_uuid:"eba0f2fd-8d41-40af-8ae7-b66505d38d04",specific_type:"translate",unknown:!1,grading_data:{version:0,vertices:[[{to:1,lenient:""},{to:8,lenient:""}],[{to:2,lenient:"the",orig:"The"}],[{to:3,lenient:" "}],[{to:4,lenient:"man",orig:"man,"}],[{to:5,lenient:" "}],[{to:6,lenient:"the"}],[{to:7,lenient:" "}],[{to:15,lenient:"woman"}],[{to:9,lenient:"the",orig:"The"}],[{to:10,lenient:" "}],[{to:11,lenient:"man",orig:"man,"}],[{to:12,lenient:" "}],[{to:13,lenient:"the"}],[{to:14,lenient:" "}],[{to:15,lenient:"woman"},{to:15,lenient:"lady"}],[]],language:"en"},generator_id:"997cbf43c0413dacb48175b348899164",text:"El hombre, la mujer",type:"translate",new_explanation_ids:["9f2596a8c5e7c6eeb4e092dae9e9e535"],compact_translations:["The man, the woman","The man, the [woman/lady]"],teaches_lexeme_ids:["b1b2b2203009f082a1cf172e42fa65a3","e3f7a4495f1d47fbca713a5a70dbd8e9","86584daef5933b284384453795bbf0ed","e5a09ea1bd469575ed000382d5cee176"],tokens:null,sentence_id:"997cbf43c0413dacb48175b348899164",target_language_name:"English",characters:{2:{include_slow:!1,tts_gender:1,image_url:"https://d2pur3iezf4d1j.cloudfront.net/images/717a540b6ce1007b4e18359b36444e9b"}},known:!0,translation:"The man, the woman",tts_id:"997cbf43c0413dacb48175b348899164",has_tts:!0,has_accents:!1,kc_surface_forms:{el:"b1b2b2203009f082a1cf172e42fa65a3",hombre:"86584daef5933b284384453795bbf0ed",mujer:"e5a09ea1bd469575ed000382d5cee176",la:"e3f7a4495f1d47fbca713a5a70dbd8e9"},context:"",highlight:[],knowledge_components:["b1b2b2203009f082a1cf172e42fa65a3","e3f7a4495f1d47fbca713a5a70dbd8e9","86584daef5933b284384453795bbf0ed","e5a09ea1bd469575ed000382d5cee176"],explanations:{2:{details:"In Spanish all nouns are either masculine or feminine. The articles <i>el</i> and <i>un</i> are used with masculine nouns, whereas <i>la</i> and <i>una</i> are used with feminine nouns.",skill:"BASICS",title:"Masculine and feminine nouns",id:"9f2596a8c5e7c6eeb4e092dae9e9e535",show:!0}},target_language:"en"},{sentence:"Una niña",solution_key:"6a663a5e70dab117c91b133fdd624282",source_language:"es",translation_key:null,wrong_tokens:null,unknown_words:["una"],activity_uuid:"eba0f2fd-8d41-40af-8ae7-b66505d38d04",specific_type:"translate",unknown:!1,grading_data:{version:0,vertices:[[{to:1,lenient:""},{to:4,lenient:""}],[{to:2,lenient:"a",orig:"A"}],[{to:3,lenient:" "}],[{to:7,lenient:"girl"}],[{to:5,lenient:"a",orig:"A"},{to:5,lenient:"one",orig:"One"},{to:5,lenient:"1",auto:!0}],[{to:6,lenient:" "}],[{to:7,lenient:"girl"},{to:7,lenient:"child"},{to:7,lenient:"kid"}],[]],language:"en"},generator_id:"6a663a5e70dab117c91b133fdd624282",text:"Una niña",type:"translate",new_explanation_ids:["9f2596a8c5e7c6eeb4e092dae9e9e535"],compact_translations:["A girl","[A/One] [girl/child/kid]"],teaches_lexeme_ids:["767fce885fae7a70ef9eab520d78f1bb","08dfcd4e6c86bb047be6dc84e77ed664","6750a9301759fa06ca73d846700450d1"],tokens:null,sentence_id:"6a663a5e70dab117c91b133fdd624282",target_language_name:"English",characters:{2:{include_slow:!1,tts_gender:0,image_url:"https://d2pur3iezf4d1j.cloudfront.net/images/45d7fc95c3aeae718effdc8a866ddb52"}},known:!0,translation:"A girl",tts_id:"6a663a5e70dab117c91b133fdd624282",has_tts:!0,has_accents:!1,kc_surface_forms:{una:"767fce885fae7a70ef9eab520d78f1bb","niña":"08dfcd4e6c86bb047be6dc84e77ed664"},context:"",highlight:["una"],knowledge_components:["767fce885fae7a70ef9eab520d78f1bb","08dfcd4e6c86bb047be6dc84e77ed664"],explanations:{0:{details:"In Spanish all nouns are either masculine or feminine. The articles <i>el</i> and <i>un</i> are used with masculine nouns, whereas <i>la</i> and <i>una</i> are used with feminine nouns.",skill:"BASICS",title:"Masculine and feminine nouns",id:"9f2596a8c5e7c6eeb4e092dae9e9e535",show:!0}},target_language:"en"},{sentence:"Yo soy una niña.",solution_key:"88bf2d7789992113d413cb403e7bfc99",source_language:"es",translation_key:null,wrong_tokens:null,unknown_words:["yo"],activity_uuid:"eba0f2fd-8d41-40af-8ae7-b66505d38d04",specific_type:"translate",unknown:!1,grading_data:{version:0,vertices:[[{to:1,lenient:""},{to:10,lenient:""}],[{to:2,lenient:"i'm",orig:"I'm"},{to:6,lenient:"i",orig:"I"},{to:8,lenient:"i",auto:!0,orig:"I"},{to:2,lenient:"i'm",auto:!0,orig:"I'm"}],[{to:3,lenient:" "}],[{to:4,lenient:"a"}],[{to:5,lenient:" "}],[{to:23,lenient:"girl",orig:"girl."}],[{to:7,lenient:" "}],[{to:2,lenient:"am"}],[{to:9,lenient:" "}],[{to:2,lenient:"am",auto:!0}],[{to:11,lenient:"i",orig:"I"},{to:13,lenient:"i'm",orig:"I'm"},{to:13,lenient:"i'm",auto:!0,orig:"I'm"},{to:18,lenient:"i'm",auto:!0,orig:"I'm"},{to:19,lenient:"i",auto:!0,orig:"I"},{to:21,lenient:"i",auto:!0,orig:"I"}],[{to:12,lenient:" "}],[{to:13,lenient:"am"}],[{to:14,lenient:" "}],[{to:15,lenient:""},{to:16,lenient:"1",auto:!0}],[{to:16,lenient:"a"},{to:16,lenient:"one"},{to:16,lenient:"1",auto:!0}],[{to:17,lenient:" "}],[{to:23,lenient:"girl",orig:"girl."},{to:23,lenient:"child",orig:"child."},{to:23,lenient:"kid",orig:"kid."}],[{to:15,lenient:" "}],[{to:20,lenient:" "}],[{to:13,lenient:"am",auto:!0}],[{to:22,lenient:" "}],[{to:18,lenient:"am",auto:!0}],[]],language:"en"},generator_id:"88bf2d7789992113d413cb403e7bfc99",text:"Yo soy una niña.",type:"translate",new_explanation_ids:["9f2596a8c5e7c6eeb4e092dae9e9e535"],compact_translations:["[I'm/I am] a girl.","[I am/I'm] [a/one] [girl/child/kid]."],teaches_lexeme_ids:["a96439c6627d7b2447435b1a5f32eade","767fce885fae7a70ef9eab520d78f1bb","08dfcd4e6c86bb047be6dc84e77ed664","6750a9301759fa06ca73d846700450d1","84e18e86c58e8e61d687dfa06b3aaa36"],tokens:null,sentence_id:"88bf2d7789992113d413cb403e7bfc99",target_language_name:"English",characters:{2:{include_slow:!1,tts_gender:0,image_url:"https://d2pur3iezf4d1j.cloudfront.net/images/a8e413c01d4533d6dc3ff238216b4fcc"}},known:!0,translation:"I'm a girl.",tts_id:"88bf2d7789992113d413cb403e7bfc99",has_tts:!0,has_accents:!1,kc_surface_forms:{soy:"84e18e86c58e8e61d687dfa06b3aaa36",una:"767fce885fae7a70ef9eab520d78f1bb","niña":"08dfcd4e6c86bb047be6dc84e77ed664",yo:"a96439c6627d7b2447435b1a5f32eade"},context:"",highlight:["yo"],knowledge_components:["a96439c6627d7b2447435b1a5f32eade","767fce885fae7a70ef9eab520d78f1bb","08dfcd4e6c86bb047be6dc84e77ed664","84e18e86c58e8e61d687dfa06b3aaa36"],explanations:{2:{details:"In Spanish all nouns are either masculine or feminine. The articles <i>el</i> and <i>un</i> are used with masculine nouns, whereas <i>la</i> and <i>una</i> are used with feminine nouns.",skill:"BASICS",title:"Masculine and feminine nouns",id:"9f2596a8c5e7c6eeb4e092dae9e9e535",show:!0}},target_language:"en"}],target_lexeme_ids:["b1b2b2203009f082a1cf172e42fa65a3","86584daef5933b284384453795bbf0ed","e3f7a4495f1d47fbca713a5a70dbd8e9","e5a09ea1bd469575ed000382d5cee176","a96439c6627d7b2447435b1a5f32eade","c5a5d664ac5b4440b3da8613095dd840","767fce885fae7a70ef9eab520d78f1bb","84e18e86c58e8e61d687dfa06b3aaa36","605a1c36da2cf22706eaad95b0b7eeee","08dfcd4e6c86bb047be6dc84e77ed664"],activity_uuid:"eba0f2fd-8d41-40af-8ae7-b66505d38d04",mixture_models:{a96439c6627d7b2447435b1a5f32eade:{},"767fce885fae7a70ef9eab520d78f1bb":{},"605a1c36da2cf22706eaad95b0b7eeee":{},b1b2b2203009f082a1cf172e42fa65a3:{},c5a5d664ac5b4440b3da8613095dd840:{},e3f7a4495f1d47fbca713a5a70dbd8e9:{},"84e18e86c58e8e61d687dfa06b3aaa36":{},e5a09ea1bd469575ed000382d5cee176:{},"86584daef5933b284384453795bbf0ed":{},"08dfcd4e6c86bb047be6dc84e77ed664":{}},first_lesson:!0,pass_strength:2.2666416106849994,id:"Nwj8Wa1eU0F2jgKu",skill_id:"6c625c52ff35ecf719097a30abd8b190",min_strength_increment:.1,first_user_lesson:!0,grading_data:{accented_character_maps:{en:{"Ă":"A","Ć":"C","Ċ":"C","Ď":"D","Ē":"E","Ė":"E","Ě":"E","Ğ":"G","Ģ":"G","Ħ":"H","Ī":"I","Į":"I","Ķ":"K","ĺ":"l","ľ":"l","Ã":"A","ł":"l","Ç":"C","ņ":"n","Ë":"E","Ï":"I","Ŏ":"O","Ó":"O","×":"x","Ŗ":"R","Û":"U","Ś":"S","Ş":"S","ã":"a","Ţ":"T","ç":"c","Ŧ":"T","ë":"e","Ū":"U","ï":"i","Ů":"U","ó":"o","Ų":"U","÷":"/","Ŷ":"Y","û":"u","ź":"z","ÿ":"y","ž":"z","ā":"a","ą":"a","ĉ":"c","č":"c","đ":"d","ĕ":"e","ę":"e","ĝ":"g","ġ":"g","ĥ":"h","ĩ":"i","ĭ":"i","ı":"i","ĵ":"j","Ĺ":"L","Ľ":"L","Ł":"L","À":"A","Ņ":"N","Ä":"A","È":"E","ō":"o","Ì":"I","ő":"o","Ð":"D","ŕ":"r","Ô":"O","ř":"r","Ø":"O","ŝ":"s","Ü":"U","š":"s","à":"a","ť":"t","ä":"a","ũ":"u","è":"e","ŭ":"u","ì":"i","ű":"u","ð":"d","ŵ":"w","ô":"o","Ź":"Z","ø":"o","Ž":"Z","ü":"u","Ā":"A","Ą":"A","Ĉ":"C","Č":"C","Đ":"D","Ĕ":"E","Ę":"E","Ĝ":"G","Ġ":"G","Ĥ":"H","Ĩ":"I","Ĭ":"I","İ":"I","Ĵ":"J","ĸ":"k","ļ":"l","Á":"A","ŀ":"l","Å":"A","ń":"n","É":"E","ň":"n","Í":"I","Ō":"O","Ñ":"N","Ő":"O","Õ":"O","Ŕ":"R","Ù":"U","Ř":"R","Ý":"Y","Ŝ":"S","á":"a","Š":"S","å":"a","Ť":"T","é":"e","Ũ":"U","í":"i","Ŭ":"U","ñ":"n","Ű":"U","õ":"o","Ŵ":"W","ù":"u","Ÿ":"Y","ý":"y","ż":"z","ă":"a","ć":"c","ċ":"c","ď":"d","ē":"e","ė":"e","ě":"e","ğ":"g","ģ":"g","ħ":"h","ī":"i","į":"i","ķ":"k","Ļ":"L","Ŀ":"L","Ń":"N","Â":"A","Ň":"N","Ê":"E","ŏ":"o","Î":"I","Ò":"O","ŗ":"r","Ö":"O","ś":"s","Ú":"U","ş":"s","ţ":"t","â":"a","ŧ":"t","ū":"u","ê":"e","ů":"u","î":"i","ų":"u","ò":"o","ŷ":"y","ö":"o","Ż":"Z","ú":"u"},es:{"Ă":"A","Ć":"C","Ċ":"C","Ď":"D","Ē":"E","Ė":"E","Ě":"E","Ğ":"G","Ģ":"G","Ħ":"H","Ī":"I","Į":"I","Ķ":"K","ĺ":"l","ľ":"l","Ã":"A","ł":"l","Ç":"C","ņ":"n","Ë":"E","Ï":"I","Ŏ":"O","Ó":"O","×":"x","Ŗ":"R","Û":"U","Ś":"S","Ş":"S","ã":"a","Ţ":"T","ç":"c","Ŧ":"T","ë":"e","Ū":"U","ï":"i","Ů":"U","ó":"o","Ų":"U","÷":"/","Ŷ":"Y","û":"u","ź":"z","ÿ":"y","ž":"z","ā":"a","ą":"a","ĉ":"c","č":"c","đ":"d","ĕ":"e","ę":"e","ĝ":"g","ġ":"g","ĥ":"h","ĩ":"i","ĭ":"i","ı":"i","ĵ":"j","Ĺ":"L","Ľ":"L","Ł":"L","À":"A","Ņ":"N","Ä":"A","È":"E","ō":"o","Ì":"I","ő":"o","Ð":"D","ŕ":"r","Ô":"O","ř":"r","Ø":"O","ŝ":"s","Ü":"U","š":"s","à":"a","ť":"t","ä":"a","ũ":"u","è":"e","ŭ":"u","ì":"i","ű":"u","ð":"d","ŵ":"w","ô":"o","Ź":"Z","ø":"o","Ž":"Z","ü":"u","Ā":"A","Ą":"A","Ĉ":"C","Č":"C","Đ":"D","Ĕ":"E","Ę":"E","Ĝ":"G","Ġ":"G","Ĥ":"H","Ĩ":"I","Ĭ":"I","İ":"I","Ĵ":"J","ĸ":"k","ļ":"l","Á":"A","ŀ":"l","Å":"A","ń":"n","É":"E","ň":"n","Í":"I","Ō":"O","Ñ":"N","Ő":"O","Õ":"O","Ŕ":"R","Ù":"U","Ř":"R","Ý":"Y","Ŝ":"S","á":"a","Š":"S","å":"a","Ť":"T","é":"e","Ũ":"U","í":"i","Ŭ":"U","ñ":"n","Ű":"U","õ":"o","Ŵ":"W","ù":"u","Ÿ":"Y","ý":"y","ż":"z","ă":"a","ć":"c","ċ":"c","ď":"d","ē":"e","ė":"e","ě":"e","ğ":"g","ģ":"g","ħ":"h","ī":"i","į":"i","ķ":"k","Ļ":"L","Ŀ":"L","Ń":"N","Â":"A","Ň":"N","Ê":"E","ŏ":"o","Î":"I","Ò":"O","ŗ":"r","Ö":"O","ś":"s","Ú":"U","ş":"s","ţ":"t","â":"a","ŧ":"t","ū":"u","ê":"e","ů":"u","î":"i","ų":"u","ò":"o","ŷ":"y","ö":"o","Ż":"Z","ú":"u"}},version:2,normalization_data:{en:[["[’\\'´‘`′ʻ́̀´]","'"],["[\\[\\]\\{\\}\\<\\>\\)\\(\\^\\~\\_\\-\\‐\\;\\!\\¡\\|\\?\\¿\\/\\·\\'\\«\\»\\“\\”\\„\\–\\:\\,\\.\\▶\\*\\+\\’\\。\\，\\、\\､\\‚\\｡\\；\\：\\「\\」\\『\\』\\（\\）\\？\\！\\─\\…\\《\\》\\〈\\〉\\．\\～\\،\\؟\\।\\—\\‧]",""],["\\s+"," "],["^ | $",""]],es:[["[’\\'´‘`′ʻ́̀´]","'"],["[\\[\\]\\{\\}\\<\\>\\)\\(\\^\\~\\_\\-\\‐\\;\\!\\¡\\|\\?\\¿\\/\\·\\'\\«\\»\\“\\”\\„\\–\\:\\,\\.\\▶\\*\\+\\’\\。\\，\\、\\､\\‚\\｡\\；\\：\\「\\」\\『\\』\\（\\）\\？\\！\\─\\…\\《\\》\\〈\\〉\\．\\～\\،\\؟\\।\\—\\‧]",""],["\\s+"," "],["^ | $",""]]}},min_strength_decrement:.075,skill_index:1,lesson_number:1,skill_tree_id:"c6c72018640236aa09ed084ec020b1f1",type:"lesson",additional_mixpanel_event_suffixes:[],language_information:{pronoun_mapping:[{tenses:{pri:"present_indicative_first_person_singular"},pronoun:"yo"},{tenses:{pri:"present_indicative_second_person_singular_tu"},pronoun:"tú"},{tenses:{pri:"present_indicative_third_person_singular"},pronoun:"él/ella/usted"},{tenses:{pri:"present_indicative_first_person_plural"},pronoun:"nosotros/nosotras"},{tenses:{pri:"present_indicative_second_person_plural_vosotros"},pronoun:"vosotros/vosotras"},{tenses:{pri:"present_indicative_second_person_plural_ustedes"},pronoun:"ustedes"},{tenses:{pri:"present_indicative_third_person_plural"},pronoun:"ellos/ellas"}],tenses:{indicative:[{tense_string:"Present",tense:"pri"}]}},js_version:"2194ccc42974e4545c02-vendor.js-2194ccc42974e4545c02-duolingo.js",is_preview:!1,explanation:"<h5>Masculine and Feminine Nouns</h5><p>In Spanish all nouns are masculine or feminine. Usually, nouns that end with an 'o' are masculine, and nouns that end with an 'a' are feminine. For example, 'manzana' (apple) is feminine and 'diario' (newspaper) is masculine.</p><p>The articles 'el' and 'un' are used with masculine nouns, and the articles 'la' and 'una' are used with feminine nouns. 'The apple' is 'la manzana' and 'a newspaper' is 'un diario.'</p><h5>Accent Marks</h5><p>Vowels in Spanish can have an accent mark, such as the 'u' in 'menú' (menu). One use of the accent mark is to indicate which syllable should be stressed in the pronunciation. For example, in 'teléfono' (telephone), the second 'e' has the most stress.</p><p>Accent marks are also used to distinguish homophones. For example, 'él' and 'el' are homophones because they have the same pronunciation. However, 'él' is a masculine pronoun (meaning 'he' or 'him') and 'el' is a masculine article (meaning 'the').</p><h5>The Second Person Singular</h5><p>'Tú,' 'usted' and 'vos' are different ways of referring to the second person singular (you). 'Usted' is the formal way of saying 'you,' and 'vos' is used in informal speech in certain countries instead of 'tú.'</p><p>The three pronouns are synonyms, but they change the way verbs are conjugated. For instance, for the verb 'comer' (to eat), it is 'tú comes,' 'usted come,' and 'vos comés.'</p><p>The decision of which form of 'you' to use is regional and cultural, but you can typically use 'usted' when referring to strangers.</p><h5>Verb Conjugation</h5>\n\n<p>Verb conjugation in Spanish is more complicated than in English. In Spanish, the verb endings change in order to describe who is doing the action and when. For example, for 'comer,' 'I eat' is 'yo como' and 'you eat' is 'tú comes.'</p><p>Because the conjugations indicate who is doing the action, it is usually possible to omit the pronoun. For instance instead of saying 'yo como arroz' (I eat rice), you can say 'como arroz.'</p>",skill_title:"Basics 1",ui_language:"en",skill_name:"Basics-1",tracking_properties:{failure_rate_threshold_per_lesson_ab_test3:.3,lesson_length_per_lesson_ab_test2:-1,is_hand_selected_counterfactual:!1,is_hand_selected_sequence:!1,listen_challenge_per_lesson_ab_test:!1,read_from_cache:!1,tree_level:1,equivalent_skill_id:"6c625c52ff35ecf719097a30abd8b190",backend_latency_ms:501,no_op_per_lesson_ab_test:!0},skill_tree_level:1,language:"es",scribe_channels:[],kc_strength_model_version:2,tts_enabled:!0,skill_color:"blue"}}},function(e,t,i){var s=i(33),a=i(252);e.exports=s.extend({type:"lesson",setTrialLesson:function(e,t){return e in a&&t in a[e]?(this.set(this.parse(a[e][t])),!0):!1}})},function(e,t,i){var s=i(2),a=i(3),n=i(35);e.exports=a.Collection.extend({model:n,parse:function(e){return s.map(e,function(e){return n.prototype.parse.call(this,e)})},checkFinished:function(){var e=this.find(function(e){return!e.get("learned")&&"bonus"!=e.get("category")});return void 0===e},checkLastRowFinished:function(){var e=s.toArray(this.groupBy(function(e){return e.get("coords_y")})),t=s.last(s.filter(e,function(e){return e[0]&&"bonus"!==e[0].get("category")}));return s.every(t,function(e){return e.get("learned")})}})},function(e,t,i){var s=i(3),a=i(2),n=i(68);e.exports=s.Collection.extend({model:n,url:"/translate_jobs",fetch:function(e){e=e||{},e.data=e.data||{},e.data.sort_by=this.sort_by,e.data.filter=this.filter_option,s.Collection.prototype.fetch.call(this,e)},parse:function(e){return this.page=e.page,this.more=e.more,this.categories=e.categories,this.directions=e.directions,this.account=e.account,a.map(e.translate_jobs,function(e){return n.prototype.parse(e)})},getMore:function(){this.fetch({data:{page:this.page+1},update:!0,remove:!1})}})},function(e,t,i){var s=i(3),a=i(2),n=i(4),o=i(257);e.exports=s.Collection.extend({url:"/ranked_translations",model:o,initialize:function(e,t){t&&(this.sort=t.sort||"default",this.self_service=!!t.self_service,this.more=t.more||!0,this.source_lang=t.source_lang,this.target_lang=t.target_lang)},fetch:function(e){e=e||{},e.data=e.data||{},e.data.sort=this.sort,e.data.source_lang=this.source_lang,e.data.target_lang=this.target_lang,this.self_service&&(e.data.self_service=!0),e.data.per_page||(e.data.per_page=50);var t=(new Date).getTime(),i=e.success;e.success=function(e,s){var a=(new Date).getTime()-t,o={latency_ms:a,backend_latency_ms:s.backend_latency_ms};n.track("fetch_ranked_translations",o),i&&i(e,s)},s.Collection.prototype.fetch.call(this,e)},parse:function(e){return this.encoded_iterator_state=e.encoded_iterator_state,this.page=e.page,this.more=e.more,a.map(e.data,function(e){return o.prototype.parse.call(this,e)})}})},function(e,t,i){var s=i(32);e.exports=s.extend({})},function(e,t,i){var s=i(32),a=i(259);e.exports=s.extend({parse:function(e){for(var t=0;t<e.sentences.length;t++)e.sentences[t]=new a(e.sentences[t],{parse:!0});return e}})},function(e,t,i){var s=i(1),a=i(2),n=i(4),o=i(32);e.exports=o.extend({addRevision:function(e,t,i,s,a,n){this.addRevisionOrSuggestEdit(e,t,i,s,!1,a,n)},suggestEdit:function(e,t,i,s){this.addRevisionOrSuggestEdit(e,t,!1,!1,!0,i,s)},addRevisionOrSuggestEdit:function(e,t,i,o,r,l,d){var c=this,u="/wiki_translation_sentence/"+this.get("translation_id")+"/"+this.get("document_sentence_id")+"/add_revision",h={translation:e,is_revert:i,is_edit_suggestion:r,share_credit:o};t&&(h.explanation=t);var g=(new Date).getTime();s.post(u,h,function(s){var u=(new Date).getTime()-g;c.set(s),r&&c.set("edit_suggestion_text",e),duo.user.incrementSkillPoints(s.num_points_awarded),l(s);var h=s.first_translation?"submit_wiki_translation":"edit_wiki_translation",p={source_language:c.get("source_language"),target_language:c.get("target_language"),translation_id:c.get("translation_id"),document_sentence_id:c.get("document_sentence_id"),is_revert:i,is_edit_suggestion:r,cur_translation_quality:c.get("cur_translation_quality"),has_comment:!!t,sentence_num_words:c.get("num_words"),latency_ms:u,backend_latency_ms:s.backend_latency_ms};if(s.first_translation||(p.share_credit=o),c.get("machine_translation")){var _=n.getEditDistance(e,c.get("machine_translation"));p.duobot_edit_distance=_}d&&(p=a.extend(p,d)),n.track(h,p)})},imageContainsNoText:function(e){var t="/wiki_translation_sentence/"+this.get("translation_id")+"/"+this.get("document_sentence_id")+"/add_revision",i={image_contains_no_text:!0},a=this;s.post(t,i,function(t){a.set(t),e(t.num_points_awarded,t.level_event)})},rateCurrentTranslation:function(e,t,i,o){var r=this,l="/wiki_translation_sentence/"+this.get("translation_id")+"/"+this.get("document_sentence_id")+"/"+this.get("cur_sent_trans_id")+"/rate",d=(new Date).getTime();s.post(l,{rating:e,undo:t},function(s){var l=(new Date).getTime()-d,c=t?0:e;r.set({user_approved:1==c,user_disapproved:-1==c,user_rating:c,num_upvotes:s.num_upvotes,num_downvotes:s.num_downvotes}),duo.user.incrementSkillPoints(s.num_points_awarded),i(s);var u=t?"undo_approve_wiki_translation":"approve_wiki_translation",h={rating:e,source_language:r.get("source_language"),target_language:r.get("target_language"),translation_id:r.get("translation_id"),document_sentence_id:r.get("document_sentence_id"),cur_translation_quality:r.get("cur_translation_quality"),sentence_num_words:r.get("num_words"),latency_ms:l,backend_latency_ms:s.backend_latency_ms};o&&(h=a.extend(h,o)),n.track(u,h)})},update:function(e){var t="/wiki_translation_sentence/"+this.get("translation_id")+"/"+this.get("document_sentence_id")+"/get_sentence",i=this;s.post(t,{},function(t){i.set(t),e&&e()})},numCharacters:function(){for(var e=0,t=this.get("sentence_hunks"),i=0;i<t.length;i++)e+=t[i].hunk.length;return e},reportTranslatorCheating:function(e,t,i){var a=(duo.user.id,"/wiki_translations/report_translator_cheating/"+e),o=this;s.post(a,{translation_id:this.get("translation_id"),undo:t},function(s){if(o.get("user_id")==e&&o.set("reported_cheating",!t),i)for(var a=i.get("revisions"),r=0;r<a.length;r++)a[r].get("user_id")==e&&a[r].set("reported_cheating",!t);t||n.track("wiki_translation_report_abuse")})}})},function(e,t,i){var s=i(1),a=i(3),n=i(4),o=i(126);e.exports=a.Model.extend({url:function(){var e="/wiki_translation_sentence/"+this.get("translation_id")+"/"+this.get("document_sentence_id")+"/get_revisions";return e},parse:function(e){for(var t=0;t<e.revisions.length;t++)e.revisions[t]=new o(e.revisions[t]);return e},toJSON:function(){var e=a.Model.prototype.toJSON.call(this);return JSON.parse(JSON.stringify(e))},follow:function(e){this.followOrUnfollow(e,!0)},unfollow:function(e){this.followOrUnfollow(e,!1)},followOrUnfollow:function(e,t){var i=this,a="/wiki_translation_sentence/"+this.get("translation_id")+"/"+this.get("document_sentence_id");a+=t?"/follow":"/unfollow",s.post(a,{},function(s){e(s.success),s.success?i.set("following",t):alert("Back-end failed.  Please try again later.")})},fetch:function(e){e=e||{};var t=(new Date).getTime(),i=e.success;e.success=function(e,s){var a=(new Date).getTime()-t,o={latency_ms:a,backend_latency_ms:s.backend_latency_ms};n.track("fetch_sentence_revision_history",o),i&&i(e,s)},a.Model.prototype.fetch.call(this,e)},addRevision:function(e){var t=this.get("revisions");t.splice(0,0,e),this._recomputeIndices()},removeLastRevision:function(){var e=this.get("revisions");0!=e.length&&(e.pop(),this._recomputeIndices())},_recomputeIndices:function(){var e=this.get("revisions");this.set({num_revisions:e.length,multiple_revisions:e.length>1});for(var t=0;t<e.length;t++)e[t].set("index",t)}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(4),r=i(32),l=i(258);e.exports=r.extend({urlRoot:"/wiki_translations",parse:function(e){for(var t=0;t<e.document_paragraphs.length;t++)e.document_paragraphs[t]=new l(e.document_paragraphs[t],{parse:!0});return e},toJSON:function(){var e=n.Model.prototype.toJSON.call(this);return JSON.parse(JSON.stringify(e))},forEachSentence:function(e){for(var t=this.get("document_paragraphs"),i=0;i<t.length;i++)for(var s=t[i].get("sentences"),a=0;a<s.length;a++){var n=s[a];e(n)}},reportUserFinishedTranslation:function(e){if(!this.get("user_finished_translation")){var t="/wiki_translation/"+this.get("translation_id")+"/user_finished_translation",i=this;s.post(t,{},function(t){i.set("user_finished_translation",!0),e(t),t.num_points_awarded>0&&o.track("user_finished_wiki_translation",{translation_id:i.get("translation_id")})})}},addTranslator:function(){for(var e=duo.user.id,t=this.get("translators"),i=0;i<t.length;i++)if(t[i].user_id==e)return;t.push({user_id:e,username:duo.user.get("username")}),this.set("num_translators",1+this.get("num_translators"))},fetch:function(e){duo.user&&(e.data.ui_language=duo.user.get("ui_language")),n.Model.prototype.fetch.call(this,e)},mixpanelProperties:function(){var e=this.get("source_language")==duo.user.get("learning_language")&&this.get("target_language")==duo.user.get("ui_language");return a.extend(this.multiGet(["from_skill_id","from_skill_name"]),{view_both:!!this.get("view_both"),lesson_mode:!!this.get("lesson_mode"),sponsored:this.get("paid_translation"),document_title:this.get("title"),is_trusted_translator:this.get("is_trusted_translator"),is_forward_direction:e})}})},function(e,t,i){var s=i(2),a=i(3),n=i(128);e.exports=a.Collection.extend({model:n,urlRoot:"/ui_strings",initialize:function(e){this.target_language=e.target_language,void 0!==e.keyword&&(this.keyword=e.keyword)},url:function(){return this.keyword?this.urlRoot+"/search/"+this.target_language+"/"+this.keyword:this.urlRoot+"/list/"+this.target_language},fetch:function(e){e=e||{},e.data=e.data||{},a.Collection.prototype.fetch.call(this,e)},parse:function(e){return this.target_language_string=e.target_language_string,s.map(e.ui_strings,function(e){return n.prototype.parse(e)})}})},function(e,t,i){var s=i(2),a=i(3);e.exports=a.Model.extend({url:"/api/1/store/get_items",initialize:function(){this.allowed_misc_items=["streak_freeze","rupee_wager","certification","timed_practice"],this.total_bonus_slots=3},parse:function(e){return this.price_dict=s.object(s.pluck(e.misc_items,"name"),s.pluck(e.misc_items,"price")),this.bonus_skills=e.bonus_skills,e.prices=this.price_dict,e=this.updateStoreInfoForUser(e)},updateStoreInfoForUser:function(e){var t=duo.user.get("rupees"),i=duo.user.get("inventory");data=e||{},data.bonus_skills=this.bonus_skills;var a=this;return s.each(this.allowed_misc_items,function(e){data["afford_"+e]=t>=a.price_dict[e],data["own_"+e]="certification"==e?e+"_"+duo.user.get("learning_language")in i:e in i}),s.each(data.bonus_skills,function(e){var s=e.name+"_"+duo.user.get("learning_language");e.afford=t>=e.price,s in i&&(e.own=!0)}),data.slots=Math.max(this.total_bonus_slots-duo.user.getOwnedBonusSkills().length,0),data}})},function(e,t,i){var s=i(3);e.exports=s.Model.extend({getSkills:function(){return{}},hasFeatureEnabled:function(){return!1},playEffects:function(){return!0},shouldAutoPlay:function(){return!0}})},function(e,t,i){var s=i(3),a=i(38);e.exports=s.Collection.extend({model:a,parse:function(e){return"users"in e?(this.more=e.more,this.page=e.page,e.users):e},fetch:function(e){
return e=e||{},e.data=e.data||{},e.data.per_page=this.per_page,s.Collection.prototype.fetch.call(this,e)},nextPage:function(){return this.fetch({data:{page:this.page+1},update:!0,remove:!1})}})},function(e,t,i){var s=i(3);e.exports=s.Model.extend({parse:function(e){return e.score=-1,e.front_term=e.learning_word,e.back_definition=e.ui_word,e}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(266);e.exports=n.Collection.extend({boxes:0,comparator:"score",getNumCardsRemoved:function(){return this.num_cards-this.length},getProgress:function(){var e=a.reduce(this,function(e,t){return e+=Math.max(0,t.get("score"))},this.getNumCardsRemoved());return e/this.num_cards},initialize:function(e,t){this.get_url=t.from_classroom?"/api/1/flashcards/classroom":"/api/1/flashcards"},parse:function(e){this.learning_language=e.learning_language,this.ui_language=e.ui_language,this.front_flag_abbr=this.learning_language,this.back_flag_abbr=this.ui_language;var t=a.map(e.flashcard_data,function(e){return o.prototype.parse(e)});return this.num_cards=t.length,t},postResults:function(e,t){if(e.length>0){var i=this;s.post("/api/1/flashcards",JSON.stringify({flashcard_results:e,learning_language:i.learning_language,ui_language:i.ui_language}),t)}else t()},url:function(){return this.get_url}})},function(e,t,i){var s=i(2),a=i(3),n=i(5),o=i(269);e.exports=a.Collection.extend({model:o,url:"/vocabulary/overview",parse:function(e){this.language_string=e.language_string,this.from_language=e.from_language,this.learning_language=e.learning_language,this.language_information=e.language_information;var t={},i=duo.user.getSkills().skills.models;return s.each(i,function(e){t[e.get("url_title")]=e.get("locked")}),s.map(e.vocab_overview,function(i){return"de"==e.learning_language&&"Noun"==i.pos&&i.word_string&&(i.word_string=i.word_string.charAt(0).toUpperCase()+i.word_string.slice(1)),i.pos&&(i.pos=n(i.pos)),i.gender&&(i.gender=n(i.gender)),i.locked=t[i.skill_url_title],o.prototype.parse(i)})}})},function(e,t,i){var s=i(3);e.exports=s.Model.extend({})},function(e,t,i){var s=i(4),a=i(9),n=i(225),o=i(295);e.exports=a.extend({routes:{admin_tools:"admin"},admin:function(){var e=new n;document.title="Duolingo: Admin Dashboard";var t=this;e.fetch({data:{page:0,log_type:"deletes"},success:function(i){if("access denied"==i.get("response"))return s.show404(),!1;var a=new o({model:e}),n="admin";t.switchView(a,n)}})}})},function(e,t,i){var s=i(2),a=i(5),n=i(9),o=i(242),r=i(153),l=i(122),d=i(18);e.exports=n.extend({routes:{"power_practice/:obfuscated_params":"practice",quit_classroom_session:"quitClassroomSession","preview/:skill_id/:lesson":"preview"},practice:function(e){duo.topbar&&duo.topbar.$el.hide();var t=this,i=e.hexDecode();i=i.split("||");var s=new o({language:i[0],target_user_id:i[1]});s.fetch({success:function(e){e.get("js_version")!==duo.js_version&&window.location.reload(!0),document.title="Duolingo: "+a("Practice");var i=new r({model:s});t.switchView(i,"player")}})},quitClassroomSession:function(){s.delay(function(){window.close()},700)},preview:function(e,t){duo.topbar&&duo.topbar.$el.hide();var i=this,s=new l({skill_id:e,lesson_number:t,is_preview:!0});s.fetch({success:function(e){e.get("js_version")!==duo.js_version&&window.location.reload(!0),document.title="Duolingo: "+a("Lesson");var t=new d({model:s});i.switchView(t,"player")}})}})},function(e,t,i){var s=i(3),a=i(1),n=i(2),o=i(5),r=i(4),l=i(9),d=i(34),c=i(41),u=i(120),h=i(301),g=i(100);e.exports=l.extend({routes:{"comment/:id$unfollow":"showCommentUnfollow","comment/:id$from_email=:from_email&comment_id=:comment_id":"showCommentFromEmail","comment/:id$from_email=:from_email":"showCommentFromEmail","comment/:id$comment_id=:comment_id":"scrollToComment","comment/:id":"showComment",discussion:"listComments","discussion/:sort":"listComments","discussion$from_email=:from_email":"listCommentsFromEmail","topic/:id":"showTopic","topic/:id/:sort_by":"showTopic",troubleshooting:"showTroubleshooting"},showComment:function(e,t,i){var s=!!duo.user;s&&!duo.user.hasFeatureEnabled("discussions")&&r.show404();var l=this,u=new d({id:e});u.fetch({data:{ui_language:s?void 0:duo.browser_language},success:function(){var d=u.get("topic"),h=n.findWhere(duo.available_languages,{base_from_language_name:d.from_language_name,base_learning_language_name:d.name}),p=!!h,_=u.get("title"),m=s?duo.user.get("ui_language"):duo.browser_language;r.track("show_comment",{id:e,logged_in:s,course_topic:p,topic_name:d.name,title:_,ui_language:m,from_language:d.from_language_abbrev,ui_language_matches:m===d.from_language_abbrev});var v;!s&&p&&(v={learning_language_name:h.base_learning_language_name,course_url:a.duostache("/course/{{learning_language_id}}/{{from_language_id}}",h)}),document.title=_+" - "+o("Duolingo");var f=new c({model:u,comment_id:i,new_forum_cta:v}),b="comment better-comment";b+=" community-topic";var w=u.get("message");if(w=w.length>0?w.replace(/\n/g," "):_+' / "'+u.get("translation")+'"',l.switchView(f,b,null,w),!s){var y={el:".logged-out-message"};u.get("sentence_comment")&&(y.language=u.get("root").name);var k=new g(y);k.render()}t&&u.unwatch()},error:function(){r.track("show_comment",{id:e,logged_in:s,not_found:!0}),r.show404()}})},showCommentFromEmail:function(e,t,i){r.track("email button click",{from_email:t}),this.showComment(e,void 0,i)},scrollToComment:function(e,t){this.showComment(e,void 0,t)},showCommentUnfollow:function(e){this.showComment(e,!0,void 0)},listComments:function(e){this.showTopic(void 0,e)},listCommentsFromEmail:function(e){r.track("email button click",{from_email:e}),s.history.navigate("/discussion",{trigger:!0,replace:!0})},showTopic:function(e,t){duo.user&&!duo.user.hasFeatureEnabled("discussions")&&r.show404();var i=this;"subscriptions"===e&&duo.user&&(e=void 0);var s=new u({id:e});r.track("Show Topic"),s.fetch({data:{ui_language:duo.user?void 0:duo.browser_language},success:function(){s.get("js_version")!=duo.js_version&&window.location.reload(!0);var e,n=s.get("name");"undefined"!=typeof n?(e=o("{{#_iv}}{{name}}{{/_iv}} Discussions"),e=a.duostache(e,{name:n})):e=o("Discussion stream"),document.title=e+" - "+o("Duolingo Forum");var r=new h({model:s}),l="comment better-comment";if(i.switchView(r,l),!duo.user){var d=new g({el:".logged-out-message"});d.render()}t||(t="hot"),r.changeSort(t)}})},showTroubleshooting:function(){a.get("/comments/troubleshooting_id",function(e){var t=e||"647";duo.commentRouter.navigate("/topic/"+t,{trigger:!0,replace:!0})})}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(5),r=i(6),l=i(4),d=i(9),c=i(231),u=i(304),h=i(232),g=i(305);e.exports=d.extend({routes:{"course(_announcement)/:learning_language_id(/:from_language_id)(/*text)":"course","courses(/:from_language_id)":"courseList"},initialize:function(){this.setGoBackToAll(!1)},courseList:function(e){var t=this,i=new h;i.fetch({data:{ui_language_abbrev:duo.user?duo.user.get("ui_language"):duo.browser_language},success:function(s){var a=new g({collection:i,from_language_id:e});t.switchView(a)}})},_course:function(e,t,i,a,d){var h=new c({learning_language_id:e,from_language_id:t}),g=this;h.fetch({data:{ui_language_abbrev:duo.user?duo.user.get("ui_language"):duo.browser_language},success:function(e){var t=a&&a.indexOf("@")>=0,c=duo.isMobileWithNativeAppSupport()&&t,p="duolingo://switch_course?ui_language="+encodeURIComponent(h.get("from_language"))+"&learning_language="+encodeURIComponent(h.get("learning_language"))+"&email="+encodeURIComponent(a);c&&l.deeplink(p,i);var _="Learn {{#_iv}}{{learning_language_name}}{{/_iv}} in just 5 minutes a day. For free.";_=o(_),_=s.duostache(_,{learning_language_name:h.get("learning_language_name"),from_language_name:h.get("from_language_name")}),document.title=_+" - "+o("Duolingo"),n.history.navigate(r("/"+d+"/{{learning_language_id}}/{{from_language_id}}/{{#_i}}Learn-{{#_iv}}{{learning_language_name}}{{/_iv}}-Online{{/_i}}",h.toJSON()).replace(" ","-"),{replace:!0});var m=new u({model:h,from_all:g._go_back_to_all,email:a,has_email:t}),v="Duolingo’s bite-sized {{#_iv}}{{learning_language_name}}{{/_iv}} lessons are fun, easy, and 100% free. Practice online with language courses that are scientifically proven to work.";v=o(v),v=s.duostache(v,{learning_language_name:h.get("learning_language_name")});var f,b;h.get("phase");duo.user||(f="course-splash-page colored-monument colored-monument-"+h.get("learning_language"),b="full-screen monument-background"),g.switchView(m,b,f,v)}})},course:function(e,t){var i=l.getUrlParameters(),s="from_email"in i;if(s){var o=e+"<-"+t;l.track("email button click",{from_email:i.from_email,link:o})}var r=duo.user?duo.user.get("ui_language"):duo.browser_language,d=!t||r===l.languageIdToAbbrev(t),c=l.languageIdToAbbrev(e),u=l.checkValidDirection(r,c)>0,h=duo.user&&d&&a.where(duo.user.get("languages"),{learning:!0,language:c});if(t||u){var g=window.location.pathname,p=g.substring(1,g.indexOf("/",1));if(h&&h.length>0&&s&&"course"===p)duo.user.switchLanguage(c);else{var _=t||l.languageAbbrevToId(r);this._course(e,_,i.from_email,i.email,p)}}else duo.user?duo.homeRouter.navigate("/",!0):n.history.navigate("/",{trigger:!0,replace:!0})},setGoBackToAll:function(e){this._go_back_to_all=e}})},function(e,t,i){var s=i(1),a=i(2),n=i(5),o=i(23),r=i(4),l=i(40),d=i(9),c=i(240),u=i(241),h=i(238),g=i(246),p=i(239),_=i(150),m=i(151),v=i(94),f=i(18),b=i(98),w=i(159),y=i(166),k=i(137),x=(i(85),i(141)),$=i(143),S=i(24).createModal,T=i(177);i(129);e.exports=d.extend({routes:{"practice/timed":"practiceTimed","practice/:language":"practiceLanguage","bigtest/:language/:test":"bigTest","placement/:language":"placementTest","certification/:language":"certificationTest","debug/:language/:words":"debugWords","debug/:source_language/:target_language/:sentence":"debugSentence","debug/:source_language/:target_language/:sentence/:se_type":"debugSentence","practice($from_email=:from_email)":"practice","welcome$email=:email&section=:section":"welcome","welcome$email=:email":"welcome",welcome:"welcome","welcome/:link_code":"welcomeLinkCode","notify_me$email=:email&ui_language=:ui_language":"notify_me","notify_me$email=:email":"notify_me",notify_me:"notify_me","one_click$email=:email&token=:token&from_email=:from_email":"one_click","one_click$email=:email&token=:token":"one_click",reset_password:"reset_password","reset_password$email=:email&token=:token":"reset_password","reset_password%24email=:email&token=:token":"reset_password","reset_password$email=:email%26token=:token":"reset_password","reset_password%24email=:email%26token=:token":"reset_password",translate:"translate",forgot_password:"forgotPassword",register:"home","register($:extra)":"loggedIn","o$o=:email&s=:section&gclassroom=:from_gclassroom":"magicLink","o$o=:email&s=:section":"magicLink","o$o=:email":"magicLink","o/:link_code":"magicLinkCode",o:"magicLink",redirect:"redirectClosePopup"},initialize:function(){duo.topbar=new T({model:duo.user}),s("#topbar").replaceWith(duo.topbar.render().el)},redirectClosePopup:function(){this.navigate("",!0),window.close()},home:function(){this.navigate("/",!0)},forgotPassword:function(){s(".modal").modal("hide");var e=new k;this.switchView(e,"page-forgot")},welcome:function(e,t){this.welcomeHelper(e,t)},welcomeLinkCode:function(e){this.welcomeHelper(void 0,void 0,e)},welcomeHelper:function(e,t,i){document.title="Duolingo: "+n("Welcome");var s=this,a=function(e){var t=new w({classroom_info:e}),i="colored-monument colored-monument-"+duo.user.get("learning_language");r.track("welcome"),window.fbq("trackCustom","welcome"),s.switchView(t,"welcome monument-background",i)};l.getObserverInfo(i,e,t,a,a)},practice:function(e){e&&r.track("email button click",{from_email:e}),this.practiceLanguage(duo.user.get("learning_language"),!1,e)},practiceTimed:function(){this.practiceLanguage(duo.user.get("learning_language"),!0)},practiceLanguage:function(e,t,i){var s=this,a=new u({language:e,from_email:i});a.fetch({success:function(e,i){if(0===i.session_elements.length)return S({type:"alert",message_type:"custom_message",message:n("You have practiced all of your words. Try doing some lessons or translations.")}),void duo.homeRouter.navigate("",!0);e.get("js_version")!=duo.js_version&&window.location.reload(!0),document.title="Duolingo: "+n("Practice");var o=new b({model:a,extra:7,die:!0,total_time:30,points:!0,shown_max_time:60,auto_timed:t});s.switchView(o,"player")}})},bigTest:function(e,t){var i=this,s=new h;s.fetch({data:{language:e,big_test:t},success:function(e,t){if(0===t.session_elements.length)return void duo.homeRouter.navigate("/",!0);e.get("js_version")!=duo.js_version&&window.location.reload(!0),document.title="Duolingo: "+n("Test");var a=new _({model:s});i.switchView(a,"player")}})},placementTest:function(e){var t=this,i=new g;i.fetch({data:{language:e},success:function(e,s){document.title="Duolingo: "+n("Test");var a=new v({model:i});t.switchView(a,"player")}})},certificationTest:function(e){var t=this,i=new p;delete duo.user.get("inventory")["certification_"+e],i.fetch({data:{language:e},success:function(e,s){document.title="Duolingo: "+n("Test");var a=new m({model:i});t.switchView(a,"player")}})},debugWords:function(e,t){var i=new c;i.fetch({data:{language:e,words:decodeURIComponent(t)},success:function(e,t){if(0===t.session_elements.length)return void duo.homeRouter.navigate("/",!0);e.get("js_version")!=duo.js_version&&window.location.reload(!0),document.title="Duolingo: Debug";var a=new f({model:i});s("#app").replaceWith(a.render().el),s("#app").removeClass(duo.view)}})},debugSentence:function(e,t,i,a){var n=new c;n.fetch({data:{source_language:e,target_language:t,sentence:decodeURIComponent(i),se_type:a},success:function(e,t){if(0===t.session_elements.length)return void duo.homeRouter.navigate("/",!0);e.get("js_version")!=duo.js_version&&window.location.reload(!0),document.title="Duolingo: Debug";var i=new f({model:n});s("#app").replaceWith(i.render().el),s("#app").removeClass(duo.view)}})},reset_password:function(e,t){var i=r.getUrlParameters();e=e||i.email,t=t||i.token;var s=new $({email:decodeURIComponent(e),token:t,user_id:i.user_id});this.switchView(s,"page-reset")},help:function(){document.title="Duolingo: "+n("Help");var e=new y;this.switchView(e,"help")},translate:function(){document.title="Duolingo: Translate";var e=new TranslateView;s("#app").replaceWith(e.render().el),s("#app").removeClass(duo.view),duo.view=null},notify_me:function(e,t){duo.courseRouter.navigate("/courses",!0)},one_click:function(e,t,i){i&&r.track("email button click",{from_email:i,link:"one_click"});var a=new x({email:decodeURIComponent(e),token:t});this.switchView(a,"one-click-landing"),s("#logged-out-message").hide()},magicLink:function(e,t,i){this.magicLinkHelper(void 0,e,t,i)},magicLinkCode:function(e){this.magicLinkHelper(e)},magicLinkHelper:function(e,t,i,n){r.track("magic_link_click",{logged_out:!1,from_gclassroom:void 0!==n,has_link_code:void 0!==e}),l.getObserverInfo(e,t,i,function(t){if(r.track("magic_link_show",{logged_out:!1,has_link_code:void 0!==e}),duo.user.get("trial_account")){var i=function(){a.defer(function(){o.trigger("registerDelayed",{classroom_info:t})})};duo.homeRouter.navigate("/",{trigger:!0,replace:!0}),a.defer(i)}else{if(s.browser.mobile&&e){var n="duolingo://o?link_code="+encodeURIComponent(e);duo.isIOS()?r.deeplinkWithoutFallback(n):duo.isAndroid()&&duo.feature_flags.schools_android_deep_links&&r.deeplink(n)}duo.homeRouter.navigate("/",{trigger:!0,replace:!0}),a.defer(function(){duo.user.confirmObserver(t)})}},function(){duo.homeRouter.navigate("/",{trigger:!0,replace:!0})})}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(5),r=i(4),l=i(40),d=i(9),c=i(38),u=i(84),h=i(85),g=i(141),p=i(137),_=i(143),m=i(144),v=i(100),f=i(175),b=i(255);e.exports=d.extend({routes:{register:"register","register$email=:email&invite=:invite&ui_language=:ui_language&invited_via=:invited_via":"register_ui","register$email=:email&invite=:invite&ui_language=:ui_language":"register_ui","register$email=:email&invite=:invite&target_language=:target_language&ui_language=:ui_language":"register","register$email=:email&invite=:invite&target_language=:target_language":"register","register$email=:email&invite=:invite":"register","register$fbid=:fbid":"registerWithFB","register$twttrid=:twttrid":"registerWithTwttr","register$ib=:user_id&invited_via=:invited_via":"registerWithInvite","register$ib=:user_id":"registerWithInvite","register$target_language=:target_language":"registerLanguage","register_user$email=:email":"registerSkipDelayed",register_user:"registerSkipDelayed","o$o=:email&s=:section&gclassroom=:from_gclassroom":"magicLink","o$o=:email&s=:section":"magicLink","o$o=:email":"magicLink","o/:link_code":"magicLinkCode",o:"magicLink","notify_me$email=:email&ui_language=:ui_language":"notify_me","notify_me$email=:email":"notify_me",notify_me:"notify_me",forgot_password:"forgot_password","one_click$email=:email&token=:token&from_email=:from_email":"oneClickLanding","one_click$email=:email&token=:token":"oneClickLanding",reset_password:"reset_password","reset_password$email=:email&token=:token":"reset_password","reset_password%24email=:email&token=:token":"reset_password","reset_password$email=:email%26token=:token":"reset_password","reset_password%24email=:email%26token=:token":"reset_password","$from_email=:from_email&email=:email":"splash","$from_email=:from_email":"splash",":username":"profile","":"splash","*path":"login"},initialize:function(){duo.topbar=new u({el:s("#topbar")}),duo.topbar.render(),s("footer .change-language-dark").remove(),a.each(duo.ui_languages,function(e){this.route(e.id,"changeLanguage",function(){duo.switchLanguage(e.language)})},this),this.route(duo.browser_language_id,"splashLanguage",function(){n.history.navigate("/",{trigger:!0,replace:!0})})},login:function(e){duo.loggedOutRootRouter.login()},registerLanguage:function(e){var t={learning_language:e};this.showRegistration(t,!0)},register:function(e,t,i,s,a,n){var o=r.getUrlParameters();if(e=e||o.email,t=t||o.invite,i=i||o.target_language,s=s||o.ui_language,a=a||o.invited_via,n=n||o.from_email,null!=s&&s!=duo.browser_language)duo.switchLanguage(s);else{var l={};e&&(l.email=e),t&&(l.invite=t,r.track("present registration with invite",{invite_type:"code",invited_via:a,from_email:n})),i&&(l.learning_language=i),s&&(l.ui_language=s),a&&(l.invited_via=a),this.showRegistration(l)}},registerSkipDelayed:function(e){r.track("deprecated splash skip register");var t="splash-2014";this.splashView=new m({splash_skip_delayed:!0,email:e,google_only:!0}),this.switchView(this.splashView,null,t)},registerWithFB:function(e){return window.FB?void FB.api("/me?fields=picture,email,username,name,locale",function(e){var t={email:e.email,profile_image:e.picture,facebook_username:e.username,facebook_id:e.id};this.showRegistration(t)}):void this.register()},registerWithTwttr:function(e){if(e.idStr){var t={twitter_username:e.data("screen_name"),profile_image:e.data("profile_image_url"),twitter_id:e.idStr};this.showRegistration(t)}else this.register()},registerWithInvite:function(e,t){var i={invited_by:e,invited_via:t};this.showRegistration(i),r.track("present registration with invite",{invite_type:"invited_by",invited_via:t})},register_ui:function(e,t,i,s){this.register(decodeURIComponent(e),t,null,i,s)},showRegistration:function(e){var t="splash-2014";this.splashView=new m,this.switchView(this.splashView,null,t),this.splashView.showRegistration(e)},splash:function(e,t){if(!(window.location.href.indexOf("_escaped_fragment_")>0)){var i=r.getUrlParameters();e=i.from_email||e,t=i.email||t,e&&r.track("email button click",{from_email:e,link:"splash"});var s=t&&t.indexOf("@")>=0,n=duo.isMobileWithNativeAppSupport()&&s;n&&r.deeplink("duolingo://?email="+encodeURIComponent(t),e),s&&(duo.topbar.setLogin(t),a.defer(function(){duo.topbar.toggleLogin()}));var o="splash-2014";this.splashView=new m,this.switchView(this.splashView,null,o)}},notify_me:function(e,t){null!=t&&t!=duo.browser_language?duo.switchLanguage(t):duo.courseRouter.navigate("/courses",{replace:!0,trigger:!0})},forgot_password:function(){var e=new p;this.switchView(e,"page-forgot"),s("#logged-out-message").hide()},reset_password:function(e,t){var i=r.getUrlParameters();e=e||i.email,t=t||i.token;var s=new _({email:decodeURIComponent(e),token:t,user_id:i.user_id});this.switchView(s,"page-reset")},profileFromEmail:function(){var e=a.toArray(arguments);r.track("email button click",{from_email:e[e.length-1]}),this.profile.apply(this,e.slice(0,e.length-1))},profile:function(e){var t=new c({username:e}),i=this;t.fetch({success:function(e){e.get("js_version")!=duo.js_version&&window.location.reload(!0),i.show(t)},error:function(){i.login()}})},show:function(e){document.title=e.get("username")+" - "+o("Profile")+" - "+o("Duolingo");var t=new f({model:e}),i=new v({model:e,el:s(".logged-out-message")});this.switchView(t,"home other-user",null,e.get("username")+" "+o("is using Duolingo to learn languages for free while helping to translate the web.")),i.render(),s("head").append('<meta name="robots" content="noindex,follow" />');var a=window.location.href.replace(/^https:\/\/[a-zA-Z0-9_-]+?\./,"https://www.");s("#canonical").attr("href",a)},upload:function(){var e=this,t=new b;t.fetch({success:function(){document.title="Duolingo: "+o("Translate");var i=new TranslateView({collection:t});e.switchView(i,"upload-page")}})},oneClickLanding:function(e,t,i){i&&r.track("email button click",{from_email:i,link:"one_click"});var a=new g({email:decodeURIComponent(e),token:t});this.switchView(a,"one-click-landing"),s("#logged-out-message").hide()},magicLink:function(e,t,i){this.magicLinkHelper(void 0,e,t,i)},magicLinkCode:function(e){var t="duolingo://o?link_code="+encodeURIComponent(e);duo.isIOS()?r.deeplinkWithoutFallback(t):duo.isAndroid()&&duo.feature_flags.schools_android_deep_links&&r.deeplink(t),this.magicLinkHelper(e)},magicLinkHelper:function(e,t,i,s){r.track("magic_link_click",{logged_out:!0,from_gclassroom:void 0!==s,has_link_code:void 0!==e}),document.title="Duolingo: "+o("Join a classroom");var a=this;l.getObserverInfo(e,t,i,function(t){r.track("magic_link_show",{logged_out:!0,has_link_code:void 0!==e});var i=new h({classroom_info:t});a.switchView(i,"magic-link","splash-2014"),duo.topbar.hideLogin()},function(){a.navigate("/",{trigger:!1}),a.splash()})}})},function(e,t,i){var s=i(9),a=i(312);e.exports=s.extend({routes:{"pm/:learning_language/:from_language/:tree_depth/:user_id":"proficiencyMonitoring"},proficiencyMonitoring:function(e,t,i,s){var n=new a({from_language:t,learning_language:e,tree_depth:i,user_id:s});"es"===t?document.title="Duolingo: Estudio":document.title="Duolingo: Study",this.switchView(n)}})},function(e,t,i){var s=i(1),a=i(9),n=i(313),o=i(88);e.exports=a.extend({routes:{"*path":"enterMagicLinkCode"},enterMagicLinkCode:function(){duo.topbar=new n,s("#topbar").replaceWith(duo.topbar.render().el),duo.topbar.$("header").addClass("enter-magic-link-topbar");var e=new o;this.switchView(e,"enter-magic-link")}})},function(e,t,i){var s=i(1),a=i(9),n=i(147),o=i(88);e.exports=a.extend({routes:{"*path":"enterMagicLinkCode"},enterMagicLinkCode:function(){duo.topbar=new n,s("#topbar").replaceWith(duo.topbar.render().el),duo.topbar.$("header").addClass("enter-magic-link-topbar");var e=new o;this.switchView(e,"enter-magic-link")}})},function(e,t,i){var s=i(1),a=i(9),n=i(309),o=i(177);e.exports=a.extend({initialize:function(){duo.topbar=new o({model:duo.user}),s("#topbar").replaceWith(duo.topbar.render().el),duo.topbar.$(".topbar-nav, .topbar-stats, .dropdown-menu li:not(:last-child)").hide(),duo.topbar.$(".dropdown-menu").addClass("align-to-arrow"),duo.topbar.$(".mobile-menu-stats, .mobile-menu-listing li:not(:last-child)").hide(),duo.topbar.$(".mobile-menu-listing li:last-child").addClass("full-width")},routes:{"":"welcome","*path":"welcome"},welcome:function(){this.switchView(new n,null,"splash-2014")}})},function(e,t,i){var s=i(1),a=i(3),n=i(130),o=i(125),r=i(316),l=i(322),d=i(55),c=i(5);e.exports=n.extend({routes:{"":"selfService",upload:"uploadSelfService"},selfService:function(e,t){duo.user.get("upload-self-service")?this.selfServiceHome(e,t):this.selfServiceSplash({model:duo.user})},selfServiceHome:function(e,t){this.replaceTopbar();var i=this,a=new o;a.self_service=!0,a.fetch({data:{source:e,target:t},success:function(e){document.title="Duolingo: "+c("Translations");var t=new r({model:e});i.switchView(t,"self-service","self-service-body"),i.fixFooterLinks(),s("li[data-tab=uploaded]").click()}})},uploadSelfService:function(){if(duo.user.get("upload-self-service")){this.replaceTopbar();var e=new d({model:new a.Model});this.switchView(e,"self-service-upload","self-service-upload-body"),s('a[href*="/"]').click(function(){return"upload"!==a.history.fragment||confirm(s("#confirm-message-link").text())?void 0:!1});var t=function(){return"upload"===a.history.fragment?s("#confirm-message-window").text():void 0};s(window).on("unload",t),s(window).on("beforeunload",t),this.fixFooterLinks()}else location.href="/"},replaceTopbar:function(){s("body").css("background-image","none"),duo.topbar=new l({model:duo.user}),s("#topbar").replaceWith(duo.topbar.render().el)}})},function(e,t,i){var s=i(2),a=i(4),n=i(5),o=i(9),r=i(345);e.exports=o.extend({routes:{settings:"account","settings/account":"account","settings/sound":"sound","settings/profile":"profile","settings/password":"password","settings/progress":"progress","settings/notifications":"notifications","settings/deactivate":"deactivate_account","settings/direction":"direction","settings/reset_lang":"reset_lang","settings/coach":"coach","settings/observer":"observer"},initialize:function(){},toSettingsTab:function(e){return duo.user?duo.user.get("trial_account")&&!s.contains(["sound","direction","coach"],e)?void a.show404():(this.settings||(this.settings=new r),"settings"!=duo.view&&this.switchView(this.settings,"settings"),void this.settings.tab(e)):void a.show404()},account:function(){document.title="Duolingo: "+n("Account Settings"),this.toSettingsTab("account")},profile:function(){document.title="Duolingo: "+n("Profile Settings"),this.toSettingsTab("profile")},password:function(){document.title="Duolingo: "+n("Password Settings"),this.toSettingsTab("password")},notifications:function(){document.title="Duolingo: "+n("Notifications Settings"),this.toSettingsTab("notifications")},progress:function(){document.title="Duolingo: "+n("Track Your Progress"),this.toSettingsTab("progress")},deactivate_account:function(){document.title="Duolingo: "+n("Deactivate Account"),this.toSettingsTab("deactivate")},reset_lang:function(){document.title="Duolingo: "+n("Reset or remove languages"),this.toSettingsTab("reset")},direction:function(){document.title="Duolingo: "+n("Change language"),this.toSettingsTab("direction")},sound:function(){document.title="Duolingo: "+n("Sound Settings"),this.toSettingsTab("sound")},coach:function(){document.title="Duolingo: "+n("Coach Settings"),this.toSettingsTab("coach")},observer:function(){document.title="Duolingo: "+n("Progress Sharing Settings"),this.toSettingsTab("observer")}})},function(e,t,i){var s=i(1),a=i(5),n=i(4),o=(i(293),i(9)),r=i(35),l=i(248),d=i(51),c=i(122),u=i(18),h=i(98),g=i(164),p=i(352);e.exports=o.extend({routes:{"skill/:language/:name$from_email=:from_email":"skill","skill/:language/:name":"skill","skill/:language/:name/practice":"practice","skill/:language/:name/practice/timed":"practiceTimed","skill/:language/:name/test":"test","skill/:language/:name/practice/:index":"practice","skill/:language/:name/translation/:index":"translation","skill/:language/:name/:lesson/:debug_type?:param":"lesson_debug","skill/:language/:name/:lesson$from_email=:from_email":"lesson","skill/:language/:name/:lesson":"lesson","skill/:language/:name/:lesson/:debug_type":"lesson_debug"},skill:function(e,t,i){var s=this,o=new r({url_title:t,language:e});o.fetch({success:function(e){document.title="Duolingo: "+a(o.get("title"));var t=duo.user.getSkills().skills,r=t.get(e.id),l=!1;r&&(l=r.get("recommended")),n.track("skill",{id:e.id,language:o.get("language"),title:o.get("title"),name:o.get("name"),recommended:l,from_email:i});var d=new p({model:o}),c="skill skill-page-path";s.switchView(d,c)},error:function(){duo.homeRouter.navigate("/",!0)}}),i&&n.track("email button click",{from_email:i})},practiceTimed:function(e,t,i){this.practice(e,t,i,!0)},practice:function(e,t,i,s){var n=this,o=new l({name:t,language:e,path_node_index:i});o.fetch({data:{name:decodeURIComponent(t),language:e},success:function(e,t){if(0===t.session_elements.length)return void duo.homeRouter.navigate("/",!0);e.get("js_version")!==duo.js_version&&window.location.reload(!0),document.title="Duolingo: "+a("Refresh");var i=new h({model:o,extra:7,die:!0,total_time:30,points:!0,shown_max_time:60,auto_timed:s});n.switchView(i,"player")}})},test:function(e,t){var i=this,s=new d({name:t,language:e});s.fetch({data:{name:decodeURIComponent(t),language:e},success:function(e,t){if(0===t.session_elements.length)return void duo.homeRouter.navigate("/",!0);e.get("js_version")!==duo.js_version&&window.location.reload(!0),document.title="Duolingo: "+a("Test");var n=new u({model:s});i.switchView(n,"player")}})},lesson:function(e,t,i,s){var o=this,r=new c({name:t,lesson_number:i,language:e,from_email:s});r.fetch({data:{name:decodeURIComponent(t),language:e},success:function(e,t){if(e.get("js_version")!==duo.js_version&&window.location.reload(!0),0===t.session_elements.length)return void duo.homeRouter.navigate("/",!0);document.title="Duolingo: "+a("Lesson");var i=null;i=r.get("first_user_lesson")?new g({model:r}):new u({model:r}),o.switchView(i,"player")}}),s&&n.track("email button click",{from_email:s})},lesson_debug:function(e,t,i,s,a){var n=this,o=new c({name:t,lesson_number:i,language:e}),r={debug_type:s,name:decodeURIComponent(t),language:e};a&&(r[a]=!0),o.fetch({success:function(e){e.get("js_version")!==duo.js_version&&window.location.reload(!0);var t=new u({model:o});n.switchView(t,"player")},data:r})},translation:function(e,t,i){s.getJSON("/skills/"+e+"/"+t+"/translation/"+i,function(e){e.id&&duo.translationRouter.navigate("/translation/"+e.id+"?index="+e.start_index+"&skill="+e.skill_id,!0)})}})},function(e,t,i){var s=i(1),a=i(5),n=(i(4),i(9)),o=i(365),r=i(100);e.exports=n.extend({routes:{static_page:"staticDir",terms:"terms",info:"info",contact:"contact",resources:"resources",mobile:"mobile","!/mobile":"mobile",privacy:"privacy",jobs:"jobs",team:"team",help:"help",guidelines:"guidelines",press:"press",research:"research","effectiveness-study":"effectivenessStudy",design:"design"},staticDir:function(e){document.title=a("Terms")+" - "+a("Duolingo");var t=new o;this.switchView(t,"terms")},toStaticPage:function(e,t){if(this.staticDirectory||(this.staticDirectory=new o),"staticView"!=duo.view&&(this.switchView(this.staticDirectory,"staticView"),!duo.user)){var i=new r({el:"#logged-out-message"});i.render()}this.staticDirectory.jobsView.data=t,this.staticDirectory.tab(e)},terms:function(){document.title=a("Terms")+" - "+a("Duolingo"),this.toStaticPage("terms")},help:function(){return"en"===duo.browser_language||duo.user&&"en"===duo.user.get("ui_language")?void window.location.replace("//support.duolingo.com/hc"):(document.title=a("Help")+" - "+a("Duolingo"),void this.toStaticPage("help"))},guidelines:function(){document.title=a("Guidelines")+" - "+a("Duolingo"),this.toStaticPage("guidelines")},about:function(e){this.toStaticPage("info",e)},info:function(){document.title=a("About us")+" - "+a("Duolingo"),this.about("info")},contact:function(){document.title=a("Contact")+" - "+a("Duolingo"),this.toStaticPage("contact")},resources:function(){document.title=a("Resources")+" - "+a("Duolingo"),this.about("resources")},mobile:function(){document.title=a("Duolingo on the go")+" - "+a("Duolingo"),this.toStaticPage("mobile")},privacy:function(){document.title=a("Privacy")+" - "+a("Duolingo"),
this.toStaticPage("privacy")},jobs:function(e){var t=this;s.get("/jobs_list",function(e){document.title=a("Jobs")+" - "+a("Duolingo"),e.id="app",t.toStaticPage("jobs",e)},"json")},press:function(){document.title=a("Press")+" - "+a("Duolingo"),this.toStaticPage("press")},team:function(){document.title=a("Team")+" - "+a("Duolingo"),this.toStaticPage("team")},research:function(){document.title=a("Research")+" - "+a("Duolingo"),this.toStaticPage("research")},effectivenessStudy:function(){this.navigate("/research",{replace:!0,trigger:!0})},design:function(){window.location.href="/design"}})},function(e,t,i){var s=i(4),a=i(9),n=i(369),o=i(5);e.exports=a.extend({routes:{activity_stream:"stream"},stream:function(){!duo.user.get("trial_account")&&duo.user.hasFeatureEnabled("stream")||s.show404(),document.title="Duolingo: "+o("Activity");var e=new n({model:duo.user});this.switchView(e)}})},function(e,t,i){var s=i(1),a=i(3),n=i(5),o=i(4),r=i(9),l=i(125),d=i(261),c=i(381),u=i(167),h=i(373);e.exports=r.extend({routes:{translations:"translations","translations/:source/:target":"translations","translations$from_email=:from_email":"translationsFromEmail","translated/:id":"translation","translation/:id$trusted":"trustedTranslation","translation/:id$from_username=:username":"translationFromUsername","translation/:id$max_timestamp=:max_timestamp":"translationWithMaxTimestamp","translation/:id$revision_number=:revision_number":"translationWithRevisionNumber","translation/:id$index=:index":"translationFromEmail","translation/:id$from_skill=:skill_id":"translationFromSkill","translation/:translation_id$accept_edit_suggestion=:edit_suggestion_id":"acceptEditSuggestion","translation/:translation_id$reject_edit_suggestion=:edit_suggestion_id":"rejectEditSuggestion","translation/:id":"translation"},translations:function(e,t){if(0!=duo.feature_flags.show_translations){duo.user&&!duo.user.hasFeatureEnabled("immersion")&&o.show404();var i=this,s=new l;s.fetch({data:{source:e,target:t},success:function(e){e.get("js_version")!==duo.js_version&&window.location.reload(!0),document.title="Duolingo: "+n("Translations");var t=new h({model:e}),s="translations reddit-translations";i.switchView(t,s)}})}},translationsFromEmail:function(e){o.track("email button click",{from_email:e}),a.history.navigate("/translations",{trigger:!0,replace:!0})},translation:function(e){this.wikiTranslation(e,void 0,!1,void 0,void 0)},trustedTranslation:function(e){this.wikiTranslation(e,void 0,!0,void 0,void 0)},translationFromUsername:function(e,t){this.wikiTranslation(e,void 0,!1,void 0,t)},translationWithMaxTimestamp:function(e,t){this.wikiTranslation(e,void 0,!1,void 0,void 0,t)},translationWithRevisionNumber:function(e,t){this.wikiTranslation(e,void 0,!1,void 0,void 0,void 0,t)},translationFromEmail:function(e,t){"user"in duo?this.wikiTranslation(e,t,!1,void 0,void 0):duo.loginRouter.showLoginWindow()},translationFromSkill:function(e,t){"user"in duo?this.wikiTranslation(e,-1,!1,t,void 0):duo.loginRouter.showLoginWindow()},acceptEditSuggestion:function(e,t){this.replyToEditSuggestion(e,t,!0)},rejectEditSuggestion:function(e,t){this.replyToEditSuggestion(e,t,!1)},replyToEditSuggestion:function(e,t,i){if(!("user"in duo))return void duo.loginRouter.showLoginWindow();var a="/wiki_translations/"+(i?"accept":"reject")+"_edit_suggestion/"+t,n=this;s.post(a,{},function(t){n.navigate("/translation/"+e+"$index="+t.sentence_index,!0),o.track("reply_to_edit_suggestion",{accept:i})}).fail(function(){alert("An error has occurred.  If you have multiple accounts, make you're logged in under the right one.")})},wikiTranslation:function(e,t,i,a,n,r,l){var h=this,g=new d({id:e}),p=(new Date).getTime();g.fetch({data:{trusted:1==i,from_skill:a,from_username:n,max_timestamp:r,revision_number:l},success:function(e,i){document.title="Duolingo: "+g.get("title");var n;n=!g.get("logged_in")||duo.user&&duo.user.get("trial_account")?new u({model:g,view_both:!0}):new c({model:g});var r="wiki-translation wide";h.switchView(n,r,"static-background"),t&&t>=0&&n.openSentenceView(t),g.get("logged_in")||s("#app").addClass("wide");var l=(new Date).getTime()-p;o.track("view_translation",{translation_id:g.get("translation_id"),source_language:g.get("source_language"),target_language:g.get("target_language"),latency_ms:l,skill_id:a,backend_latency_ms:i.backend_latency_ms})},error:function(){o.show404()}})}})},function(e,t,i){var s=i(3),a=i(9),n=i(169);e.exports=a.extend({routes:{"translations/upload":"uploadTranslation"},uploadTranslation:function(){var e=new n({model:new s.Model});this.switchView(e,"paid-upload")}})},function(e,t,i){var s=i(1),a=i(2),n=i(9),o=i(264),r=i(253),l=i(147),d=i(18);e.exports=n.extend({routes:{"trial_lesson/:learning_language":"trialLesson"},trialLesson:function(e){var t=function(){window.location.href="//schools.duolingo.com"};duo.topbar=new l,s("#topbar").replaceWith(duo.topbar.render().el),duo.topbar.$(".topbar-right").hide();var i=a.filter(duo.available_languages,function(t){return t.learning_language_id===e});if(!duo.ab_options.schools_new_splash_experiment||i.length<1)return void t();var n="en";if("es"!==e)return void this.navigate("/trial_lesson/es",{trigger:!0,replace:!0});duo.informant_reference={};var c={};c[e]={max_tree_level:-1},duo.user=new o({is_trial_user:!0,learning_language:e,ui_language:n,ab_options:{},inventory:{},language_data:c}),s.tts.setupSoundManager();var u=new r({name:"Basics-1",lesson_number:1,language:e,is_trial:!0});if(!u.setTrialLesson(e,n))return void t();var h=this;s.get("/api/1/version_info",function(e){var t=e.tts_voice_configuration;duo.tts_base_url=e.tts_base_url,t&&(duo.tts_path=t.path,duo.tts_voices=JSON.parse(t.voices),duo.tts_multi_voices=JSON.parse(t.multi_voices));var i=new d({model:u});h.switchView(i,"player")})}})},function(e,t,i){var s=i(9),a=i(128),n=i(262),o=i(384),r=i(386);e.exports=s.extend({routes:{"ui_strings/:target_language$search=:keyword":"search","ui_strings/:target_language":"list","ui_strings/:id":"show"},show:function(e){var t=this,i=new a({id:e});i.fetch({success:function(){document.title="Duolingo: UI String "+e;var s=new o({model:i});t.switchView(s,"translate_job")}})},list:function(e){if(e.length>2)return this.show(e);var t=this,i=new n({target_language:e});i.fetch({success:function(){document.title="Duolingo: UI Strings";var e=new r({collection:i});t.switchView(e,"upload-page")}})},search:function(e,t){var i=this,s=new n({target_language:e,keyword:t});s.fetch({success:function(){document.title="Duolingo: UI Strings";var e=new r({collection:s});i.switchView(e,"upload-page")}})}})},function(e,t,i){var s=i(9),a=i(368);e.exports=s.extend({routes:{"":"landing","*path":"landing"},landing:function(){document.title="Duolingo";var e=new a;this.switchView(e)}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(5),r=i(4),l=i(9),d=i(31),c=i(350),u=i(175),h=i(38),g=i(54);e.exports=l.extend({routes:{"":"home",show_stream:"showStream",show_store:"showStore","show_store$scroll=:skill":"showStoreSkill","$from_email=:from_email&email=:email":"homeFromEmail","$from_email=:from_email":"homeFromEmail","event/:id$from_email:from_email":"showEventFromEmail","event/:id":"showEvent","reset_password?email=:email&token=:token":"home",":username$from_email=:from_email":"profileFromEmail",":username$follow_if=:follow_if&from_email=:from_email":"followFromEmail",":username":"profile","!/:username":"profile",":username/:tab$from_email=:from_email":"profileFromEmail",":username/:tab":"profile"},initialize:function(){},ownProfile:function(e){duo.user.get("trial_account")&&r.show404();var t=duo.user.get("username"),i="/"+t;e&&(i+="/"+e),this.navigate(i,!1),this.show(duo.user,e)},followFromEmail:function(e,t,i){var s=duo.user&&duo.user.id==Number(t);this.profileFromEmail.call(this,e,null,s,i)},profileFromEmail:function(){var e=a.toArray(arguments);r.track("email button click",{from_email:e[e.length-1]}),this.profile.apply(this,e.slice(0,e.length-1))},homeFromEmail:function(e,t){this.home(null,null,e,t)},profile:function(e,t,i){if("activity"!==t&&(t=null),e&&e!=duo.user.get("username"))if(e&&a.pluck(duo.available_languages,"from_language").indexOf(e)>=0)n.history.navigate("/",{trigger:!0,replace:!0});else{var o=new h({username:e}),l=this;o.fetch({success:function(e){e.get("js_version")!=duo.js_version&&window.location.reload(!0),e.get("trial_account")&&r.show404(),i&&!o.get("is_following")&&(o.set("is_following",!0),duo.user.follow(o.get("id"))),l.show(o,t)},error:function(){r.show404()}})}else s.getJSON("/version",function(e){e.js_version!=duo.js_version&&window.location.reload(!0)}),this.ownProfile(t)},show:function(e,t){document.title="Duolingo: "+e.get("username");var i=new u({model:e}),s="profile";this.switchView(i,s)},home:function(e,t,i,a){s.getJSON("/version",function(e){e.js_version!=duo.js_version&&window.location.reload(!0)}),window.location.hostname.match(duo.local_host_re)||"https:"==window.location.protocol||duo.from_internet_org||window.location.replace("https://"+window.location.host+window.location.pathname);var n=r.getUrlParameters();i=n.from_email||i,a=n.email||a,i&&r.track("email button click",{from_email:i,link:"home"});var l=a&&a.indexOf("@")>=0,d=duo.isMobileWithNativeAppSupport()&&l;d&&r.deeplink("duolingo://?email="+encodeURIComponent(a),i),document.title="Duolingo: "+o("Home");var u=new c({model:duo.user,scroll:t});r.track("show home"),window.fbq("trackCustom","show home"),this.switchView(u,"home"),"stream"==e?u.$(".show-stream").click():"store"==e&&u.switchToTab("store",!0)},showStore:function(){this.home("store")},showStoreSkill:function(e){this.home("store",e)},showStream:function(){this.home("stream")},showEvent:function(e){var t=new d({id:e}),i=this;t.fetch({success:function(e){e.get("js_version")!=duo.js_version&&window.location.reload(!0);var t=new g({model:e});i.switchView(t,"standalone-event")}})},showEventFromEmail:function(e,t){r.track("email button click",{from_email:t}),this.showEvent(e)}})},function(e,t,i){var s=i(2),a=i(4),n=i(5),o=i(9),r=i(268),l=i(395);e.exports=o.extend({routes:{words:"listVocab"},listVocab:function(){var e=s.contains(duo.vocab_languages,duo.user.get("ui_language"))&&s.contains(duo.vocab_languages,duo.user.get("learning_language"))&&!duo.user.get("trial_account")&&duo.feature_flags.show_vocab_page;if(!e)return a.show404(),!1;var t=new r,i=this;t.fetch({data:{},success:function(){var e=new l({collection:t});document.title="Duolingo: "+n("Words"),i.switchView(e)}})}})},function(e,t,i){function s(e){return i(a(e))}function a(e){return n[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var n={"./hover-element.tmpl":191,"./hover-reminder.tmpl":528,"./intro-hover.tmpl":529,"./intro-translate.tmpl":530,"./other-fb-friends.tmpl":192,"./simplified-welcome.tmpl":193,"./welcome-fb-friends.tmpl":531,"./welcome-session-end-fb.tmpl":532};s.keys=function(){return Object.keys(n)},s.resolve=a,e.exports=s,s.id=292},function(e,t){var i=t;i.getRollbarPrefix=function(){return"DuoRollbar"},i.error=function(){var e=Array.prototype.slice.call(arguments),t=e.join(" ");duo.debug&&console.log("Sending error to rollbar: %c"+t,"color: red"),Rollbar.error(i.getRollbarPrefix()+": "+t)},i.warning=function(){var e=Array.prototype.slice.call(arguments),t=e.join(" ");duo.debug&&console.log("Sending warning to rollbar: %c"+t,"color: orange"),Rollbar.warning(i.getRollbarPrefix()+": "+t)},i.info=function(){if(duo.debug){var e=Array.prototype.slice.call(arguments),t=e.join(" ");console.log(t)}},i.debug=function(){if(duo.debug){var e=Array.prototype.slice.call(arguments);e.join(" ")}}},function(e,t,i){var s=i(2),a=function(e,t,i){if(i=i||{},i=s.defaults(i,{isPriority:!1}),s.isUndefined(typeof Storage))return!1;var a=JSON.stringify(t);try{return localStorage.setItem(e,a),!0}catch(n){if(i.isPriority){localStorage.clear();try{return localStorage.setItem(e,a),!0}catch(n){return!1}}}};t.setItem=a;var n=function(e){try{return JSON.parse(localStorage.getItem(e))}catch(t){return null}};t.getItem=n},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(20),r=i(403),l=i(297),d=i(296),c=i(226),u=i(132),h=i(298);i(7);e.exports=n.View.extend({id:"app",template:r,events:{"click .view-option":"showView","click .show-comments":"seeCommentLog","click .show-deletes":"seeDeleteLog","click .show-bans":"showShadowBanned","click .get-summary":"showUserSearch","keyup #search-user":"getSummary"},initialize:function(){this.banned=void 0},render:function(){this.$el.html(s.duostache(this.template,this.model.toJSON()));var e=new u({el:this.$("#moderation-log"),collection:this.model.get("moderation_log"),model:this.model,type:"deletes"});e.render(),this.$(".search-input-box").hide();var t=this;return a.defer(function(){t.$("label").inFieldLabels()}),this},showView:function(e){var t=s(e.currentTarget).data("view-area");if(this.$(".view-area").hide(),this.$(".view-area#"+t).show(),"lingot-store-activity"==t){if(this.$("#selected-view-option").text("Lingot Store Activity"),a.isUndefined(this.lingot_store_activity_view)){var i=new d({model:new c,el:this.$("#lingot-store-activity")});i.model.fetch({success:a.bind(i.render,i)})}}else if("manage-moderators"==t){var n=this;s.post("/diagnostics/topic_moderators/list_topics",function(e){n.$("#selected-view-option").text("Manage Moderators"),n.mod_manager||(n.mod_manager=new l({topics:e,el:n.$("#manage-moderators")}),n.mod_manager.changeTopic())})}else this.$("#selected-view-option").text("Recent Moderator Activity")},seeCommentLog:function(){a.isUndefined(this.model.comment_log)&&(this.model.getComments(),this.$(".show-comments").addClass("active"),this.$(".show-deletes").removeClass("active"),this.$("#moderation-log").hide(),this.$("#comment-log").show())},seeDeleteLog:function(){this.$(".show-comments").removeClass("active"),this.$(".show-deletes").addClass("active"),this.$("#comment-log").hide(),this.$("#moderation-log").show()},showShadowBanned:function(){this.model.getShadowBannedUsers();var e=this;void 0===this.banned&&(this.banned=new h({el:this.$("#banned-modal"),model:this.model}),this.$("#banned-modal").modal({keyboard:!0,backdrop:!0,show:!1}).delegate(".username","click",function(t){e.$("#banned-modal").modal("hide")})),this.banned.render(),this.$("#banned-modal").modal("show")},showUserSearch:function(){var e=o.getConditionAndTreat("web_user_search_fade_experiment","novel_context"),t={control:200,slow:600,instant:0}[e];void 0===t&&(t=200),this.$(".search-input-box").fadeToggle(t)},getSummary:function(e){if(13===e.which){var t=this.$("input[id=search-user]").val();window.location="/diagnostics/user/summary/"+t}}})},function(e,t,i){var s=i(1),a=i(3),n=i(404);e.exports=a.View.extend({template:n,render:function(){this.$el.html(s.duostache(this.template,this.model.toJSON()))}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(405);e.exports=n.View.extend({template:o,events:{"click .topic-option":"changeTopic","click .add-user":"addModerator","click .remove-moderator":"removeModerator","click #see-all":"listAllMods"},render:function(){var e=this.options.topics;a.each(e,function(e,t){e.active=e.id===this.topic_id,e.type=e.learning_language?null:e.name.toLowerCase(),e.main="Duolingo"==e.name,e.trouble="Troubleshooting"==e.name,e.flag_abbrev=e.from_language},this),this.$el.html(s.duostache(this.template,{topics:e,moderators:this.mod_info,has_moderators:this.mod_info.length>0,has_topic:this.topic_id}))},listAllMods:function(){this.$(".topic-option.active").removeClass("active");var e=this;s.post("/diagnostics/topic_moderators/list_mods",{},function(t){e.mod_info=t,e.topic_id=void 0,e.render()})},changeTopic:function(e){this.topic_id=e?s(e.currentTarget).data("id"):1;var t=this;s.post("/diagnostics/topic_moderators/list_mods",{topic_id:t.topic_id},function(e){t.mod_info=e;var i=t.$(".topic-list").scrollTop();t.render(),t.$(".topic-list").scrollTop(i)})},addModerator:function(){var e=this.$("#add-moderator").val(),t=this;""!=s.trim(e)&&s.post("/diagnostics/topic_moderators/add",{topic_id:t.topic_id,user_id:e},function(e){t.mod_info=e,t.render()})},removeModerator:function(e){var t=s(e.currentTarget).data("id"),i=this;s.post("/diagnostics/topic_moderators/remove",{topic_id:i.topic_id,user_id:t},function(e){i.mod_info=e,i.render()})}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(406);i(7);e.exports=n.View.extend({template:o,events:{"click .add-banned":"addBannedUser","click .unban-user":"removeBannedUser","keypress .add-username-input":"checkKeyup"},initialize:function(e){this.model.on("change",this.render,this),this.banned_users=e.banned_users},render:function(){this.$el.html(s.duostache(this.template,{users:this.model.get("banned_users")}));var e=this;return a.defer(function(){e.$("label").inFieldLabels()}),this},checkKeyup:function(e){13===e.which&&(e.preventDefault(),this.addBannedUser())},addBannedUser:function(){var e=this.$("input[id=add-username]").val();e.length>0&&this.model.addShadowBannedUser(e)},removeBannedUser:function(e){var t=s(e.currentTarget),i=t.data("userid");this.model.removeShadowBannedUser(i)}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=(i(46),i(300)),r=i(407);i(7);e.exports=n.View.extend({template:r,events:{"click #load-more-comments":"onClickLoad"},initialize:function(e){this.collection=e.collection,this.collection.bind("add",this.render,this),this.collection.bind("change",this.render,this),this.collection.bind("reset",this.render,this),void 0!=e.buttons?this.buttons=e.buttons:this.buttons=!0,this.infinite_scrolling=e.infinite_scrolling,this.topic_id=e.topic_id,this.topic_name=e.topic_name,this.experts=e.experts},render:function(){this.$el.html(s.duostache(this.template,{comments:this.collection.toJSON(),more:this.collection.more,buttons:this.buttons,topic_id:this.topic_id,topic_name:this.topic_name,infinite_scrolling:this.infinite_scrolling,experts:this.experts,has_subscriptions:this.options.has_subscriptions,followed_tab:"following"==this.collection.sort_by}));var e=this;return this.collection.each(function(t){var i=new o({model:t,el:e.$("#comment-"+t.id),experts:e.experts?e.experts:e.collection.experts,list_topic_id:e.topic_id});i.render()}),this.$("textarea").characterLimit(65e3),this.$('a.topic-label[data-topic="'+this.topic_id+'"]').remove(),a.defer(function(){e.$("label").inFieldLabels()}),this},onClickLoad:function(){this.loadMoreComments()},loadMoreComments:function(e){e=e||{},e=a.extend(e,{page:this.collection.page+1}),this.collection.fetch({data:e,update:!0,remove:!1})}})},function(e,t,i){var s=i(1),a=i(2),n=i(41),o=i(410),r=i(43),l=i(35);e.exports=n.extend({template:o,events:{"click .vote-up":"upvote","click .vote-down":"downvote","click .reply":"reply","click .show-answer-input":"showAnswerInput","click .body .more":"moreMessage","click .nested-comment .more":"moreComment"},initialize:function(e){this.model.bind("change",this.render,this),this.experts=e.experts},render:function(){var e=duo.user?duo.user.get("ui_language"):duo.browser_language;if(this.$el.html(s.duostache(this.template,a.extend(this.model.toJSON(),{show_badges:!0,front_page:!this.options.list_topic_id,different_ui:e!=this.model.get("topic").from_language_abbrev}))),this.model.has("skill")){var t=this.model.get("skill"),i=new r({model:new l(l.prototype.parse.call(this,t)),size:"xxsmall",current_user:"points"in t});this.$(".skill-"+t.id).append(i.render().el)}return this},reply:function(){var e=s.trim(this.$(".comment-reply-box").val());e.length>0&&this.model.reply(e)},showAnswerInput:function(){this.$(".answer-input").show().find("textarea").focus(),this.$(".show-answer-input").hide()},moreMessage:function(){this.$(".body").html(this.model.get("processed_message"))},moreComment:function(){this.$(".nested-body p").remove(),this.$(".nested-body").append(this.model.get("best_comment").processed_message)}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(4),r=i(414),l=i(299),d=i(230),c=i(302),u=i(43),h=i(35),g=i(135),p=i(303);i(7),i(46);e.exports=n.View.extend({id:"app",template:r,events:{"click #ask-question":"toggleQuestion","click .follow":"toggleFollow","click .comment-main .tabs li":"switchTab","click .nav-tabs li":"switchTab","click .clear-button":"clearSearch","keyup #search-comments":"keyCheckSearch","click .manage-subscriptions":"manageSubscriptions"},initialize:function(){this.throttledSearch=a.debounce(this.throttledSearch,500),this.model.bind("change",this.render,this),this.last_request_length=0,this.user_subscriptions=this.model.get("subscriptions"),a.bindAll(this,"onPost"),n.history.once("route",this.cleanup,this)},render:function(){var e=duo.user?duo.user.get("ui_language"):duo.browser_language,t=!1,i=duo.user&&!duo.user.get("trial_account"),n=i?"subscriptions":"subtopics";a.each(this.model.get(n),function(e,i){e.active=e.topic_id===this.model.id||e.id===this.model.id,e.type=e.language_abbrev?null:e.name.toLowerCase(),e.main="Duolingo"==e.name,e.trouble="Troubleshooting"==e.name,t=e.topic_id==this.model.get("troubleshooting_id")||t,e.flag_abbrev=e.from_language_abbrev},this),this.$el.html(s.duostache(this.template,a.extend({},this.model.toJSON(),{show_subscriptions:i,main_topic:"Duolingo"==this.model.get("name")||"Troubleshooting"==this.model.get("name")||"Incubator"==this.model.get("name"),duo_topic:"Duolingo"==this.model.get("name"),trouble_topic:"Troubleshooting"==this.model.get("name"),show_active:(this.model.get("admin_user")||this.model.get("mod_user"))&&this.model.get("id"),front_page:!this.model.get("id"),hide_troubleshoot:t,troubleshoot_ui:e,topic_id:this.model.get("id")})));var o=this.model.get("subscriptions").length>0;this.hot_comments=new l({el:this.$("#hot-tab"),collection:this.model.get("comments"),buttons:!1,infinite_scrolling:!0,topic_id:this.model.id,sort:"hot",experts:this.model.get("experts"),has_subscriptions:o}),this.hot_comments.render(),this.new_comments=new l({el:this.$("#new-tab"),collection:this.model.get("new_comments"),infinite_scrolling:!0,experts:this.model.get("experts"),topic_id:this.model.id,has_subscriptions:o}),this.top_comments=new l({el:this.$("#top-tab"),collection:this.model.get("top_comments"),infinite_scrolling:!0,experts:this.model.get("experts"),topic_id:this.model.id}),this.sent_comments=new l({el:this.$("#sent-tab"),collection:this.model.get("sent_comments"),infinite_scrolling:!0,experts:this.model.get("experts"),topic_id:this.model.id}),this.active_comments=new l({el:this.$("#active-tab"),collection:this.model.get("active_comments"),infinite_scrolling:!0,experts:this.model.get("experts"),topic_id:this.model.id}),this.following_comments=new l({el:this.$("#following-tab"),collection:this.model.get("following_comments"),infinite_scrolling:!0,topic_id:this.model.id}),this.search_collection||(this.search_collection=new d,this.search_view=new c({collection:this.search_collection,el:this.$(".comment-search")}),this.search_collection.bind("all",this.toggleSearchView,this));var r=window.location.href,_=r.substr(r.lastIndexOf("/")+1),m=["top","hot","new","active","sent","following"];if(m.indexOf(_)>-1&&duo.user&&this.changeSort(_),this.model.has("user_skill")){var v=new u({model:new h(h.prototype.parse.call(this,this.model.get("user_skill"))),el:this.$("#comment-skill")});v.render()}var f=new g({el:this.$("#question-fields"),type:"question",edit:!1,success:this.onPost,model:this.model});f.render(),this.topic_subscriptions=new p({el:this.$("#topic-subscriptions"),parent_view:this}),this.topic_subscriptions.render(),this.$("textarea").characterLimit(65e3);var b=this;return this.$(".modal").modal({keyboard:!0,backdrop:!0,show:!1}),this.$("#topic-subscriptions").bind("hide",function(){b.user_subscriptions!=b.model.get("subscriptions")&&b.model.fetch({data:{},success:function(){b.render()}})}),a.defer(function(){b.$("label").inFieldLabels()}),s(document).unbind(".topic_scroll").bind("scroll.topic_scroll.infinite_scroll",function(e){var t=s(document).height(),i=t-s(document).scrollTop(),a=s(window).height();if(1.5*a>i){var n=b.hot_comments;"top"==b.current_panel?n=b.top_comments:"new"==b.current_panel?n=b.new_comments:"sent"==b.current_panel?n=b.sent_comments:"active"==b.current_panel?n=b.active_comments:"following"==b.current_panel&&(n=b.following_comments),0!=n.collection.more&&(b.search_on&&(n=b.search_view),void 0===n.last_request_length&&(n.last_request_length=0),n.collection.length>n.last_request_length&&(n.last_request_length=n.collection.length,n.loadMoreComments({topic_id:b.model.id,per_page:10,limits:n.collection.limits})))}}),s(this).fixedSidebar(),this},toggleFollow:function(){this.model.get("is_following")?this.model.unfollow():this.model.follow()},toggleQuestion:function(){this.$("#question-fields").show(),this.$(".comment-rankings").hide(),this.$(".topic-header").hide()},onPost:function(e){var t=parseInt(e.get("topic_id"));a.indexOf(this.model.get("included_topics"),t)>=0&&this.model.get("new_comments").length&&this.model.get("new_comments").add(e,{at:0}),this.$(".modal").modal("hide"),duo.commentRouter.navigate("/comment/"+e.get("id"),!0)},keyCheckSearch:function(e){var t=s.trim(this.$("#search-comments").val());this.throttledSearch(t),t.length?this.$(".clear-button").show():this.$(".clear-button").hide()},toggleSearchView:function(){""!=this.$("#search-comments").val()?(this.$(".comment-search").show(),this.$(".comment-main").hide(),this.search_on=!0):(this.$(".comment-search").hide(),this.$(".comment-main").show(),this.search_on=!1)},throttledSearch:function(e){o.track("Questions Search"),null==this.model.get("id")?this.search_collection.fq="":duo.user?this.search_collection.fq="-(learning_language:* AND -learning_language:"+this.model.get("learning_language")+") AND from_language:"+this.model.get("from_language"):this.search_collection.fq="from_language:"+this.model.get("from_language"),this.search_collection.q=e,this.search_collection.reset([]),this.search_collection.fetch()},typeSelect:function(){var e=this.$menu.find(".active").data("id");this.$menu.remove(),duo.commentRouter.navigate("/comment/"+e,!0)},changeLanguage:function(){this.model.fetch()},cleanup:function(){duo.topbar.unbind("navigate",this.cleanUp,this),s(document).unbind(".topic_scroll"),duo.user&&duo.user.unbind("change:learning_language",this.changeLanguage,this)},switchTab:function(e){var t=s(e.currentTarget).data("tab");if(t==this.current_panel)return!1;this.$(".panel").fadeOut("fast"),this.changeSort(t);var i=!duo.user||this.model.id?this.model.id:"subscriptions";duo.commentRouter.navigate("/topic/"+i+"/"+t,!1)},changeSort:function(e){var t=s("#"+e),i=e,a=this.$("#"+e+"-tab");this.$(".panel").hide(),a.fadeIn("fast"),this.$(".comment-main .tabs li").removeClass("active"),this.$(".nav-tabs li").removeClass("active"),t.addClass("active"),this.current_panel=i;var n=this;"hot"!==i&&0===this.model.get(i+"_comments").length?this.model.get(i+"_comments").fetch({data:{topic_id:this.model.id},success:function(){n[i+"_comments"].render()}}):this[i+"_comments"].render()},clearSearch:function(){this.$("#search-comments").val("").keyup().blur()},manageSubscriptions:function(){var e=this;s.get("/api/1/topics/list",{},function(t){e.topic_subscriptions.topics=t,e.topic_subscriptions.render(),e.$("#subscription-modal").modal("show")})}})},function(e,t,i){var s=i(1),a=i(3),n=i(409);e.exports=a.View.extend({template:n,events:{"click #load-more-comments":"loadMoreComments"},initialize:function(e){this.collection=e.collection,this.collection.on("reset",this.onReset,this),this.collection.on("add",this.render,this)},render:function(){return this.$el.html(s.duostache(this.template,{comments:this.collection.toJSON(),results_count:this.collection.num_results,has_more:this.collection.length<this.collection.num_results})),this},loadMoreComments:function(){this.collection.fetch()},onReset:function(){this.last_request_length=0,this.render()}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(413);e.exports=n.View.extend({template:o,events:{"click .toggle-subscription":"toggleSubscription"},initialize:function(e){this.topics=void 0},render:function(){return a.each(this.topics,function(e,t){e.type=e.language_abbrev?null:e.name.toLowerCase(),e.main="Duolingo"==e.name,e.trouble="Troubleshooting"==e.name,e.flag_abbrev=e.from_language_abbrev},this),this.$el.html(s.duostache(this.template,{topics:this.topics})),this},toggleSubscription:function(e){var t=this,i=s(e.currentTarget),a=i.data("id"),n=i.hasClass("subscribed"),o=n?"unsubscribe":"subscribe";s.post("/api/1/topics/"+a+"/topic_"+o,function(e){if("FAILURE"==e.response);else{t.options.parent_view.model.set({subscriptions:e.subscriptions},{silent:!0});var s=n?i.data("subscribe"):i.data("unsubscribe");i.text(s),i.toggleClass("btn-outline btn-standard subscribed btn-green checkmark")}})}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(14),r=i(5),l=i(4),d=i(417),c=i(416),u=i(140),h=i(59);e.exports=n.View.extend({id:"app",oldTemplate:d,loggedOutTemplate:c,events:{"click .btn-course-notify":"toggleNotify","click .switch-learning-language":"switchLearningLanguage","click .switch-ui-language":"switchDirection","click .register":"showRegistration","click .login":"showLogin","click .email-subscribe":"showEmailOption","click .icon-arrow-down-white":"scrollToMain","blur .email-input":"emailInputBlur","keyup .email-input":"emailInputKeyup","keydown .email-input":"emailInputKeydown","mousedown .confirm-email-subscribe":"confirmSubscribeMousedown"},render:function(){var e=this.model.get("phase"),t=[];this.model.get("contributors").sort(function(e,t){return-(e.contribution-t.contribution)});var i=this.model.get("contributors").length;a.each(this.model.get("contributors"),function(e,s){var a=parseInt(100*e.contribution);if(1>=a)return void(i-=1);e.contrib_percent=a;var n=Math.floor(s/4);n in t?t[n].contributors.push(e):t[n]={contributors:[e]}},this);var o=duo.user?duo.user.get("ui_language"):duo.browser_language,r=o==this.model.get("from_language"),d=this.model.get("learning_language"),c=duo.user&&r&&a.where(duo.user.get("languages"),{learning:!0,language:d});this.options.has_email&&duo.topbar.setLogin(this.options.email);var g=!duo.user;g?this.$el.html(s.duostache(this.loggedOutTemplate,a.extend(this.model.toJSON(),{from_all:this.options.from_all,has_email:this.options.has_email,phase_1:1===e,beta_launch_date:this.model.get("estimated_beta_date_string")}))):this.$el.html(s.duostache(this.oldTemplate,a.extend(this.model.toJSON(),{phase_1:1===e,phase_2:2===e,phase_3:3===e,in_beta:e>1,num_contributors:i,rows:t,learning:c,curr_learning_language:duo.user&&this.model.get("learning_language")===duo.user.get("learning_language"),ui_language_matches:r,normalized_progress:parseInt(2*this.model.get("progress")),beating_average:this.model.get("compare_to_avg")>0,overall_progress:Math.min(this.model.get("progress")+(2===e?this.model.get("percent_to_stable")/2:0),95),from_all:this.options.from_all,has_contributors:this.model.get("contributors").length>0})));var p=this;return a.defer(function(){s(".course-page-illustration").parallax(),p.$(".contributor-row").each(function(){s(this).absoluteTableCell()});var t=p.model.get("user_subscribed")?"subscribed":"unsubscribed";if(s(".subscribe-text").text(s(".subscribe").data(t)),g){if(1===e){var i=p.model.get("subscriber_count"),a=p.$(".counter span").width(12*i.toFixed(0).length);p.$(".counter").data("enabled",!0).show(),p.countUp(a,i)}n.history.once("route",p.cleanUp,p),p.onScroll(),s(window).bind("scroll",p.onScroll),s(window).bind("resize",p.onScroll)}}),duo.user||(this.registration_modal||(this.registration_modal=new u({learning_language:this.model.get("learning_language"),from_language:this.model.get("from_language")}),this.registration_modal.render(),s("body").append(this.registration_modal.el)),this.registration_modal.switchToCreateView()),a.defer(function(){var e=new h({el:s("#footer-sitemap"),logged_in:!!duo.user,is_splash:g});e.render(),g&&(s(".topbar").removeClass("topbar-blue"),s(".sign-in-btn").addClass("btn-monument-color"),s('.mobile-menu-listing a[href="/register"], #topbar .register').click(function(){return p.showRegistration(),
!1}))}),l.track("course splash",{logged_in:!!duo.user,ui_language_matches:r,learning_language:this.model.get("learning_language"),from_language:this.model.get("from_language"),new_design:g,course_phase:e}),this},toggleNotify:function(){var e=this.$(".btn-course-notify").hasClass("success"),t=e?"unsubscribed":"subscribed";this.$(".subscribe-text").text(s(".btn-course-notify").data(t)),this.$(".subscribe").toggleClass("success");var i=parseInt(this.$(".course-notify-count").text());i="unsubscribed"==t?i-1:i+1,this.$(".course-notify-count").text(i),s.post("/api/1/courses/"+this.model.get("learning_language_id")+"/"+this.model.get("from_language_id")+"/"+(e?"unsubscribe":"subscribe")),e||l.track("course subscribe",{logged_in:!0,learning_language:this.model.get("learning_language"),from_language:this.model.get("from_language")})},switchLearningLanguage:function(){duo.user.switchLanguage(this.model.get("learning_language"))},switchDirection:function(){duo.user.switchDirection(this.model.get("learning_language"),this.model.get("from_language"),"/")},showEmailOption:function(){var e=this;if(!e.$(".email-input").is(":visible")){e.$(".subscribe").addClass("btn-outline");var t=e.$(".subscribe-text").width();e.$(".subscribe-text").hide(),e.$(".email-input").show().css("width",t+"px").stop().animate({width:"250px"},500).focus(),e.$(".confirm-email-subscribe").stop(),duo.user?e.$(".course-notify-count").stop().fadeTo(250,0,function(){e.$(".confirm-email-subscribe").fadeTo(250,1)}):e.$(".confirm-email-subscribe").show()}},emailInputBlur:function(){return this._prevent_blur?(this._prevent_blur=!1,void this.$(".email-input").focus()):void this.hideEmailOption()},hideEmailOption:function(e){var t=this;if(!t.$(".email-input").prop("disabled")){var i=t.$(".subscribe-text").width();t.$(".email-input").prop("disabled",!0).stop().animate({width:i+"px"},500,function(){t.$(".subscribe").removeClass("btn-outline"),t.$(".subscribe-text").show(),t.$(".email-input").prop("disabled",!1).hide(),e&&t.$(".subscribe").removeClass("email-subscribe").prop("disabled",!0)}),duo.user?(t.$(".course-notify-count").stop(),t.$(".confirm-email-subscribe").stop().fadeTo(250,0,function(){t.$(".course-notify-count").fadeTo(250,1)})):t.$(".confirm-email-subscribe").hide()}},emailInputKeydown:function(e){9==e.which&&e.preventDefault()},emailInputKeyup:function(e){13==e.which?this.subscribeWithEmail():27==e.which&&this.hideEmailOption()},confirmSubscribeMousedown:function(){this.subscribeWithEmail(),this._prevent_blur=!0},showToast:function(e){self.$(".error-toast").text(e).stop(!0).css("opacity",1).show().fadeTo(800,1).fadeOut(800)},subscribeWithEmail:function(){var e=this,t=e.$(".email-input").val();l.isEmail(t)?(s.post("/api/1/courses/"+e.model.get("learning_language_id")+"/"+e.model.get("from_language_id")+"/subscribe",{email:t},null,"json").done(function(t){if(t.newly_subscribed){if(duo.user){var i=parseInt(e.$(".course-notify-count").text());e.$(".course-notify-count").text(i+1)}else if(s(".counter").data("enabled")){var a=e.$(".counter span"),n=parseInt(a.text().replace(/\D/g,""))+1;a.text(n.toLocaleString(duo.browser_language))}}else e.showToast(r("Already subscribed!"))}),e.$(".subscribe-text").text(e.$(".subscribe").data("subscribed")),e.hideEmailOption(!0),l.track("course subscribe",{logged_in:!1,learning_language:e.model.get("learning_language"),from_language:e.model.get("from_language")})):e.showToast(r("Invalid email address!"))},showRegistration:function(){s("#global-loading-indicator").show();var e=l.languageAbbrevToId(this.model.get("from_language")),t=l.languageAbbrevToId(this.model.get("learning_language"));o.createUser(e,{fromLanguage:e,learningLanguage:t}).done(function(e){l.track("$create_alias",{alias:""+e.id},function(){window.location="/welcome"},300),s("#global-loading-indicator").hide()})},showLogin:function(e){duo.topbar.isOpen()||duo.topbar.toggleLogin(e),e.stopPropagation()},scrollToMain:function(){var e=s(window).width()>=700,t=e?70:50;s("body").animate({scrollTop:s(".main-container").offset().top-t},700)},onScroll:function(){var e,t=s(window).height(),i=t/2-163,a=t/2-75,n=s(document).scrollTop();i>=n?e=1:n>i&&a>=n?e=2:n>a&&(e=3);var o=s(window).width(),r=700>o,l=o>=1100,d=200,c=s(".cta-container"),u=c.data("phase")||0,h=u!==e,g=r?"mobile":l?"desktop":"small desktop",p=c.data("screen")||"mobile",_=p!==g;c.data("phase",e).data("screen",g);var m=function(e,t,i){t?i?e.fadeIn(d):e.show():i?e.fadeOut(d):e.hide()};if(h||_){var v=s("."+(l?"long":"short")+"-header-label").text();s(".topbar-header").text(v),3===e&&c.css({position:"fixed"}),3===u&&c.css({position:"relative"});var f=s(".launch-date-wrapper"),b=1===f.length;m(s(".long-header-label"),1===e||l,!1),m(s(".short-header-label"),!(1===e||l),!1),m(s(".topbar-username, .sign-in-btn"),(1===e||b)&&!r,!1),m(s(".topbar .btn-start-learning"),!(1===e||b||r),!1),m(s(".cta-container .btn-start-learning"),1===e,!1),m(s(".topbar-background-layer"),3===e,!0),m(s(".topbar-header"),!r,!0),m(c,1===e||2===e&&!r,!0);var w=s(".counter");m(w,w.data("enabled")&&1===e&&!r,!0),m(f,1===e,!0)}if(h&&((1===u||0===u&&e>1)&&s(".cta-container button.register").fadeTo(d,0,function(){s(".cta-container button.register").css({visibility:"hidden"})}),1===e&&s(".cta-container button.register").css({visibility:"visible"}).fadeTo(d,1)),r)_&&s(".cta-container h1").css("font-size","28px");else{var y=34,k=22,x=Math.max(Math.min((n-i)/(a-i),1),0),$=(k+(1-x)*(y-k)).toFixed(1);s(".cta-container h1").css("font-size",$+"px"),s(".scroll-animate").each(function(e,t){t=s(t),t.visible(!0)&&t.addClass("slide-in")})}s(".show-all-courses").css("opacity",3/Math.max(n-10,1))},cleanUp:function(){s(window).unbind("scroll",this.onScroll),s(window).unbind("resize",this.onScroll)},countUp:function(e,t){function i(){d+=r,l++,l>=o&&(clearInterval(c),d=t),e.html(d.toLocaleString(duo.browser_language))}var s=0,a=1e3,n=20,o=Math.ceil(a/n),r=Math.ceil((t-s)/o),l=0,d=s,c=setInterval(i,n)}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(5),r=i(415),l=i(59);e.exports=n.View.extend({id:"app",template:r,events:{"change .from-language-dropdown":"newFilterLanguage"},initialize:function(e){this.filter_from_language=e.from_language_id,this.use_abbrev=!1,void 0===this.filter_from_language&&(this.filter_from_language=duo.user?duo.user.get("ui_language"):duo.browser_language,this.use_abbrev=!0)},render:function(){var e="all"===this.filter_from_language;duo.courseRouter.setGoBackToAll(e);var t=[];t=this.use_abbrev?e?this.collection.models:this.collection.where({from_language:this.filter_from_language}):e?this.collection.models:this.collection.where({from_language_id:this.filter_from_language});var i=[];a.each(t,function(e,t){var s=Math.floor(t/3);s in i?i[s].directions.push(e):i[s]={directions:[e]}},this);var n;return e||0===t.length?n=o("Duolingo Language Courses"):(n=o("Language Courses for {{#_iv}}{{from_language_name}}{{/_iv}} Speakers"),n=s.duostache(n,{from_language_name:t[0].get("from_language_name")})),this.$el.html(s.duostache(this.template,{all_source_languages:this.collection.all_source_languages,course_list:t,rows:i,course_list_headline:n})),document.title=n+" - "+o("Duolingo"),this.use_abbrev?this.$(".from-language-dropdown option[data-abbrev="+this.filter_from_language+"]").attr("selected","selected"):this.$(".from-language-dropdown option[data-id="+this.filter_from_language+"]").attr("selected","selected"),a.defer(function(){var e=new l({el:s("#footer-sitemap"),logged_in:!!duo.user});e.render()}),this},newFilterLanguage:function(){return this.filter_from_language=this.$(".from-language-dropdown").find(":selected").data("id"),this.use_abbrev=!1,this.render(),duo.courseRouter.navigate("/courses/"+this.filter_from_language),!0}})},function(e,t,i){var s=i(2),a=i(4),n=i(38),o=i(87);e.exports=o.extend({initialize:function(e){o.prototype.initialize.call(this,s.extend({ui_location:"course registration"},e)),this._learning_language=e.learning_language,this._from_language=e.from_language},signupFacebook:function(){var e=this;e._form.fillWithFacebook(function(){n.prototype.switchDirection(e._learning_language,e._from_language,"/")},function(){e.showForm()})},signupGoogle:function(){var e=this;a.loginWithGoogle("course registration",function(){n.prototype.switchDirection(e._learning_language,e._from_language,"/")},function(){n.prototype.switchDirection(e._learning_language,e._from_language,"/welcome")})}})},function(e,t,i){function s(e){return i(a(e))}function a(e){return n[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var n={"./collapsed_event":52,"./collapsed_event.js":52,"./comment_event":69,"./comment_event.js":69,"./delete_event":70,"./delete_event.js":70,"./event":11,"./event.js":11,"./event_comments":71,"./event_comments.js":71,"./events":53,"./events.js":53,"./follow_event":72,"./follow_event.js":72,"./lesson_event":73,"./lesson_event.js":73,"./level_event":74,"./level_event.js":74,"./master_event":75,"./master_event.js":75,"./pass_event":76,"./pass_event.js":76,"./practice_event":77,"./practice_event.js":77,"./skill_event":36,"./skill_event.js":36,"./standalone_event":54,"./standalone_event.js":54,"./stream_post_event":78,"./stream_post_event.js":78,"./test_event":79,"./test_event.js":79,"./translation_event":80,"./translation_event.js":80,"./translator_promotion_event":81,"./translator_promotion_event.js":81,"./unlock_event":82,"./unlock_event.js":82,"./welcome_event":83,"./welcome_event.js":83};s.keys=function(){return Object.keys(n)},s.resolve=a,e.exports=s,s.id=307},function(e,t,i){function s(e){return i(a(e))}function a(e){return n[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var n={"./collapsed_event.js":52,"./comment_event.js":69,"./delete_event.js":70,"./follow_event.js":72,"./lesson_event.js":73,"./level_event.js":74,"./master_event.js":75,"./pass_event.js":76,"./practice_event.js":77,"./skill_event.js":36,"./standalone_event.js":54,"./stream_post_event.js":78,"./test_event.js":79,"./translation_event.js":80,"./translator_promotion_event.js":81,"./unlock_event.js":82,"./welcome_event.js":83};s.keys=function(){return Object.keys(n)},s.resolve=a,e.exports=s,s.id=308},function(e,t,i){var s=i(1),a=i(2),n=i(449),o=i(144),r=i(145);e.exports=o.extend({id:"app",template:n,render:function(){this.$el.html(s.duostache(this.template,{}));var e=r.extend({events:{"click .choose-language":"chooseCourse"},chooseCourse:function(e){if(!this.course_picked){this.course_picked=!0,s(".login-signup-flag-list-container").addClass("course-chosen");var t=s(e.currentTarget);t.addClass("active");var i=t.data("from"),a=t.data("language");duo.user.switchDirection(a,i,"/welcome")}}});this.signup_view=new e({el:this.$(".signup"),needs_a_learning_language:!0}),s("html").css("height","100%"),duo.topbar.$(".topbar").addClass("topbar-blue-dark dark-theme no-shadow").removeClass("topbar-blue");var t=this;return a.defer(function(){t.showRegistration()}),this}})},function(e,t,i){var s=i(2),a=i(4),n=i(87),o=i(136);e.exports=n.extend({initialize:function(e){n.prototype.initialize.call(this,s.extend({ui_location:"delayed modal"}),e)},_createForm:function(e){return new o({ui_location:e,teacher_register:this.options.teacher_register,splash_skip_delayed:this.options.splash_skip_delayed,hide_username:this.options.teacher_register})},signupGoogle:function(){a.loginWithGoogle("delayed_modal",function(){window.location.reload(!0)},function(){window.location.reload(!0)})}})},function(e,t,i){var s=i(138),a=i(451);e.exports=s.extend({id:"login-view",template:a})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(28),r=i(465),l=i(468),d=i(464),c=i(467),u=i(466),h=i(469);e.exports=o.extend({id:"app",template:r,events:{"click #submit-btn":"submitSurvey"},initialize:function(e){this.fromLanguage=e.from_language,this.learningLanguage=e.learning_language,this.treeDepth=parseInt(e.tree_depth,10),this.userid=parseInt(e.user_id,10),this.instructionsTemplate=d,this.thanksTemplate=u,"en"===this.learningLanguage&&"es"===this.fromLanguage&&(this.template=l,this.instructionsTemplate=c,this.thanksTemplate=h)},render:function(){var e=this,t={user_id:e.userid,tree_depth:e.treeDepth,learning_language:e.learningLanguage,from_language:e.fromLanguage},i={};return s.get("/internal_api/1/proficiency_monitoring",t,"json").done(function(t){t.test?e.template=e.thanksTemplate:t.survey&&(e.template=e.instructionsTemplate,i.expired=t.credit_expired,i.days_left=t.credit_days_left),e.$el.html(s.duostache(e.template,a.extend(i)))}).fail(function(){n.history.navigate("/",!0)}),this},submitSurvey:function(){var e=this.gatherInput("#pm-form");e.user_id=this.userid,e.tree_depth=this.treeDepth,e.learning_language=this.learningLanguage,e.from_language=this.fromLanguage,e.prior&&e.reason&&e.languages&&e.materials&&(s.post("/internal_api/1/proficiency_monitoring",e,"json"),location.reload())}})},function(e,t,i){var s=i(6),a=i(185),n=i(3);e.exports=n.View.extend({id:"topbar",template:a,render:function(){return this.$el.html(s(this.template,duo.user.toJSON())),this}})},function(e,t,i){"use strict";var s=i(1),a=i(2),n=i(6),o=i(3),r=i(149),l=i(148),d=i(484);e.exports=o.View.extend({template:d,events:{"click #assignment-switch-language":"switchLanguage","click .assignment-tile:not(.completed)":"onAssignmentClick"},render:function(){var e={student_assignments:this.collection.toJSON(),has_assignments:this.collection.length>0,other_language_info:this.collection.other_language_info};this.$el.html(n(this.template,e));var t=this;return a.defer(function(){t.collection.each(function(e){var i=0,s=e.get("skill_name");if(s?(i=100*e.get("lessons_completed")/e.get("num_lessons"),e.get("completion_date")&&(i=100)):i=100*e.get("xp_gained")/e.get("xp_goal"),i){var a='li[data-id="'+e.id+'"]',n=s?e.get("skill_color"):"gold";t.$(a+" .fill").addClass(n),t.$(a+" .radial-progress").attr("data-progress",parseInt(i))}})}),this},switchLanguage:function(e){var t=s(e.currentTarget).data("language");duo.user.switchLanguage(t)},onAssignmentClick:function(e){var t=s(e.currentTarget).data("id"),i=this.collection.get(t);if(i.get("xp_goal")){var a=this.collection.next_skill;if(a)if(duo.user.getSkills().show_practice){var n=new r({next_skill:a,xp_goal:i.get("xp_goal")});this.$el.append(n.render().el)}else duo.homeRouter.navigate(a.skill_url,!0);else duo.homeRouter.navigate("practice",!0)}else if(i.get("locked")){var o=new l({model:i});this.$el.append(o.render().el)}else duo.homeRouter.navigate(i.get("skill_url"),!0)}})},function(e,t,i){"use strict";var s=i(1),a=i(2),n=i(6),o=i(4),r=i(3),l=i(149),d=i(148),c=i(485);e.exports=r.View.extend({template:c,events:{"click .assignment-action":"onAssignmentClick"},render:function(){this.incomplete_assignments=this.options.incomplete_assignments,this.complete_json=this.options.complete_assignments;var e=this.incomplete_assignments.toJSON().concat(this.complete_json.toJSON()),t={student_assignments:e,has_assignments:e.length>0,assignment_language_name:duo.user.get("learning_language_string")};return this.$el.html(n(this.template,t)),this.$(".modal").modal("show").on("hidden.bs.modal",a.bind(this.onHidden,this)),o.track("show_student_assignments"),this},onAssignmentClick:function(e){var t=s(e.currentTarget).data("id"),i=this.incomplete_assignments.get(t);if(i.get("xp_goal")){var a=this.incomplete_assignments.next_skill;if(a)if(duo.user.getSkills().show_practice){var n=new l({next_skill:a,xp_goal:i.get("xp_goal")});this.options.super_el.append(n.render().el)}else duo.homeRouter.navigate(a.skill_url,!0);else duo.homeRouter.navigate("practice",!0)}else if(i.get("locked")){var o=new d({model:i});this.options.super_el.append(o.render().el)}else duo.homeRouter.navigate(i.get("skill_url"),!0);this.$(".modal").modal("hide")},onRoute:function(){this.$(".modal").modal("hide")},onHidden:function(){this.remove()}})},function(e,t,i){"use strict";var s=i(1),a=i(3),n=i(8),o=i(324),r=i(495);e.exports=n.extend({id:"app",template:r,events:{'click .translate-main .tabs li[data-tab="uploaded"]':"clickTab","change input[type=checkbox]":"changeFiltering","change .tabs select":"changeMonth","click #upload-document":"uploadDocument"},initialize:function(){this.listenTo(this.model,"change",this.render),a.history.once("route",this.close,this)},render:function(){this.closeChildViews(),this.$el.html(s.duostache(this.template,this.model.toJSON())),this.uploaded_translations=new o({el:this.$("#uploaded-tab"),collection:this.model.get("uploaded_translations"),category_label:this.model.get("category_label"),uploaded:!0,parent_view:this}),this.addChildView(this.uploaded_translations),this.monthly_translations=new o({el:this.$("#monthly-tab"),collection:this.model.get("monthly_translations"),category_label:this.model.get("category_label"),uploaded:!0,parent_view:this}),this.addChildView(this.monthly_translations);var e=(new Date).getFullYear(),t=(new Date).getMonth()+1,i=this.model.get("first_year"),a=this.model.get("first_month")-1;for(1>a&&(a+=12,i-=1);i!==e||a!==t;)this.$(".tabs select").append('<option value="'+e+"-"+t+'">'+t+" / "+e+"</option>"),t-=1,1>t&&(t=12,e-=1);return this},clickTab:function(e){var t=s(e.currentTarget);this.switchTab(t)},changeMonth:function(e){var t=e.currentTarget.value;"none"!==t&&(this.switchTab(s('li[data-tab="monthly"]')),this.$('li option[value="none"]').hide())},switchTab:function(e){var t=e.data("tab");"monthly"!==t&&this.$("li select").val("none");var i=this.$("#"+t+"-tab");this.$(".panel").hide(),i.show(),this.$(".translate-main .tabs li").removeClass("active"),e.addClass("active");var s=t+"_translations",a=this.getFilterOptions();return a.none_selected?void this.model.get(t+"_translations").reset([]):(this.setEmptyMessage(),"monthly"===t&&(a.year=parseInt(this.$("li select").val().split("-")[0],10),a.month=parseInt(this.$("li select").val().split("-")[1],10)),void this.model.get(s).fetch({data:a}))},getFilterOptions:function(){var e=[],t=this.model.get("filters")[0].options,i=!1;if(s("#progress_pending:checked").length>0&&(e.push(t[0].id),e.push(t[1].id),i=!0),s("#progress_finished:checked").length>0&&(e.push(t[2].id),i=!0),!i)return{none_selected:"true"};var a={document_types:e.join("|")},n=this.$("#translation-tabs li.active").data("tab");return"monthly"===n&&(a.year=parseInt(this.$("li select").val().split("-")[0],10),a.month=parseInt(this.$("li select").val().split("-")[1],10)),a},changeFiltering:function(){var e=this.getFilterOptions();e.none_selected||(e.per_page=10,this.setEmptyMessage(),this.model.get(this.$("#translation-tabs li.active").data("tab")+"_translations").fetch({data:e}))},setEmptyMessage:function(){this.uploaded_translations.all_shown=s("#progress_pending:checked").length>0&&s("#progress_finished:checked").length>0},uploadDocument:function(){duo.selfServiceRouter.navigate("/upload",!0)}})},function(e,t,i){"use strict";var s=i(1),a=i(55),n=i(487);e.exports=a.extend({template:n,events:{"change #input-type":"clickType","keyup #article-headline":"checkInputContinue","change #article-headline":"checkInputContinue","keyup #article-body":"checkInputContinue","change #article-body":"checkInputContinue","keyup #url":"checkInputContinue","change #url":"checkInputContinue"},initialize:function(){},render:function(){var e=this.model.toJSON();return this.$el.html(s.duostache(this.template,e)),this.changeType("url"),this},clickType:function(e){this.changeType(e.currentTarget.value)},changeType:function(e){this.currentType=e,this.$("#input-type").val(this.currentType),this.$(".self-service-type-input").hide(),this.$("#self-service-"+this.currentType).show(),this.$("#continue-input").removeClass("file-submit paste-submit url-submit").addClass(this.currentType+"-submit"),this.$(".step-number span:visible").each(function(e){s(this).text(e+1)}),this.checkInputContinue()},checkInputContinue:function(){if(this.$("#input-errors").hide(),s(".prev-step").addClass("inactive"),s(".pay-step").addClass("inactive"),this.countWords(),"file"===this.currentType);else if("paste"===this.currentType){if(this.$("#article-headline").val()&&this.$("#article-body").val())return void this.$("#continue-input").removeAttr("disabled")}else if("url"===this.currentType&&this.$("#url").val())return void this.$("#continue-input").removeAttr("disabled");this.$("#continue-input").attr("disabled","disabled")}})},function(e,t,i){"use strict";var s=i(1),a=i(2),n=i(489),o=i(84);i(7);e.exports=o.extend({template:n,render:function(){var e={ui_language_name:duo.ui_language_name,ui_languages_list:duo.ui_languages};this.model&&a.extend(e,this.model.toJSON()),this.$el.html(s.duostache(this.template,e));var t=this;return a.defer(function(){t.$("label").inFieldLabels({periodic:!0})}),this}})},function(e,t,i){"use strict";var s=i(1),a=i(55),n=i(491);i(115);e.exports=a.extend({template:n,events:{"keyup input":"checkPayButton","change input":"checkPayButton","change #cards":"toggleCardFields"},initialize:function(){},render:function(){var e=this.model.toJSON();return this.$el.html(s.duostache(this.template,e)),this.$("#card-number").payment("formatCardNumber"),this.$("#card-expiry").payment("formatCardExpiry"),this.$("#card-cvc").payment("formatCardCVC"),this.checkPayButton(),this},checkPayButton:function(){var e=this.$("#card-number").val(),t=this.$("#card-expiry").payment("cardExpiryVal"),i=s.payment.cardType(e),a=s.payment.validateCardNumber(e),n=s.payment.validateCardExpiry(t.month,t.year),o=s.payment.validateCardCVC(this.$("#card-cvc").val(),i);a&&n&&o?(this.$("#card-month").val(t.month),this.$("#card-year").val(t.year),this.$("#stripe-button").removeAttr("disabled")):s("#stripe-button").attr("disabled","disabled")},toggleCardFields:function(){s("#cards").val().indexOf("card_")>=0?(this.$("#card-fields").hide(),this.$("#submit-container").prependTo("#payment-choice"),this.$("#stripe-button").removeAttr("disabled")):(this.$("#card-fields").show(),this.$("#submit-container").appendTo("#card-fields"),this.checkPayButton())}})},function(e,t,i){"use strict";var s=i(1),a=i(55),n=i(492);e.exports=a.extend({template:n,events:{"change select":"checkPreviewContinue"},initialize:function(){},render:function(){var e=this.model.toJSON();this.$el.html(s.duostache(this.template,e));var t=e.language;t&&s("option[value="+t+"]").attr("selected","selected");var i=e.category;return i&&s('option[value="'+i+'"]').attr("selected","selected"),this.checkPreviewContinue(),this},checkPreviewContinue:function(){return"None"!==this.$("#category").val()&&"None"!==this.$("#language").val()?void this.$("#continue-preview").removeAttr("disabled"):void this.$("#continue-preview").attr("disabled","disabled")}})},function(e,t,i){"use strict";var s=i(1),a=i(3),n=i(493);e.exports=a.View.extend({id:"app",events:{"change #available-languages select":"showAvailableLanguages","click .welcome button":"openRequestForm","click .bottom button":"scrollTop","click .request-form button":"requestInvite","change .request-form td *":"checkFields","keyup .request-form td *":"checkFields"},template:n,render:function(){return this.$el.html(s.duostache(this.template)),this.request_button_text=this.$(".welcome button").html(),this},showAvailableLanguages:function(){var e=this.$("#available-languages option:selected").val();this.$("#available-languages table").hide(),this.$("#available-languages .available-"+e).show()},openRequestForm:function(){var e=this;this.checkFields(),this.$(".welcome").fadeOut(function(){e.$(".request-form").fadeIn(),e.$(".request-form input").eq(0).focus()})},scrollTop:function(){this.openRequestForm(),s("html, body").animate({scrollTop:0},"slow")},checkFields:function(){var e=!0;this.$(".request-form input, .request-form textarea").each(function(){return s.trim(s(this).val())?void 0:(e=!1,!1)}),e?this.$(".request-form button").removeAttr("disabled"):this.$(".request-form button").attr("disabled","disabled")},requestInvite:function(){var e=JSON.stringify({company:this.$("#request-company").val(),email:this.$("#request-email").val(),sample:this.$("#request-sample").val(),description:this.$("#request-description").val()}),t=this.$(".request-form button");t.html(t.data("wait")),t.attr("disabled","disabled");var i=this;s.post("/translate_jobs/request_invite",{data:e}).done(function(){i.$(".request-form").fadeOut(function(){i.$("#thankyou").fadeIn()})}).fail(function(){t.html(t.data("fail")),t.removeAttr("disabled")})}})},function(e,t,i){"use strict";var s=i(1),a=i(3),n=i(490);e.exports=a.View.extend({id:"topbar",template:n,render:function(){return this.$el.html(s.duostache(this.template,this.model.toJSON())),this.$("#global-loading-indicator").ajaxStart(function(){s(this).show()}).ajaxStop(function(){s(this).hide()}),this}})},function(e,t,i){"use strict";var s=i(1),a=i(2),n=i(8),o=i(488);e.exports=n.extend({tagName:"li",className:"list-document-item",template:o,events:{"click .list-document-item-right a":"downloadTranslation"},initialize:function(e){this.listenTo(this.model,"change",this.render),this.draft=e.draft},render:function(){this.closeChildViews();var e=a.extend(this.model.toJSON(),{draft:this.draft});return 100===e.percent_high_quality&&(e.finished=!0),this.$el.html(s.duostache(this.template,e)),this},downloadTranslation:function(e){location.href="/translate_jobs/"+s(e.currentTarget).data("job")+"/export?trusted"}})},function(e,t,i){var s=i(168),a=i(323);e.exports=s.extend({addOne:function(e){var t=new a({model:e});this.addChildView(t),this.$(".ranked-translations").append(t.render().el)}})},function(e,t,i){function s(e){return i(a(e))}function a(e){return n[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var n={"./big_test_session.js":150,"./certification_test_session.js":151,"./create_profile_nag.js":89,"./example_name_element.js":152,"./explanation.js":90,"./extract_element.js":326,"./form_element.js":327,"./grade.js":42,"./hearts.js":91,"./hover_element.js":328,"./in_class_session.js":153,"./in_class_session_end.js":92,"./judge_element.js":329,"./listen_element.js":330,"./locally_graded_element.js":93,"./name_element.js":331,"./no_sound_modal.js":154,"./placement_test_progress.js":155,"./placement_test_session.js":94,"./point_count_module.js":156,"./progress.js":56,"./reverse_speak_element.js":157,"./review_modal.js":158,"./select_element.js":332,"./session.js":18,"./session_element.js":29,"./session_failed.js":95,"./simplified_welcome.js":159,"./slide_session_awesome.js":57,"./slide_session_end.js":96,"./speak_element.js":97,"./stack_translate_element.js":160,"./timed_session.js":98,"./timing_module.js":161,"./title_element.js":333,"./translate_element.js":162,"./vocab_session.js":334,"./web_speech_reverse_speak_element.js":335,"./web_speech_speak_element.js":163,"./welcome_lesson_session.js":164,"./welcome_translate_element.js":99};s.keys=function(){return Object.keys(n)},s.resolve=a,e.exports=s,s.id=325},function(e,t,i){var s=i(1),a=i(2),n=(i(27),i(6),i(160)),o=i(17);i(15);e.exports=n.extend({initialize:function(e){n.prototype.initialize.call(this,e),this.variable=this.model.get("sentence").match(/\$\$(.+)\$\$/),this.regexes=a.map(this.model.get("correct_translations"),function(e){return new RegExp("^"+e.replace(".","\\.?").replace(/\$\$(.+)\$\$|__(.+)__/g,"(.+?)")+"$","i")})},render:function(){var e={};e[this.variable[0]]={value:"«type in your "+this.variable[1]+"»",hint_table:{rows:[{cells:[{colspan:1,hint:"Put your "+this.variable[1]+" here"}]}]},class_name:"extract-token"},this.$el.html(s.duostache(this.template,this.model.toJSON())),this.$input_field=this.$("#text-input"),this.$input_field.vkeyboard({language:this.model.get("target_language"),placeholder:this.$("#vkeyboard-placeholder"),toggle_button:this.$("#toggle_vkeyboard"),shown:this.model.get("target_language")!=duo.user.get("ui_language")});var t={url:this.session.get("hints_url"),show_hints:1,specials:e};return this.$(".hints").hints(t),this},postRender:function(){this.$input_field.focus(),this.model.get("source_language")!==duo.user.get("ui_language")&&(this.$("#big-speaker").tts(a.extend(this.model.toJSON(),{language:this.model.get("source_language"),tts_type:"sentence",tts_id:this.model.get("tts_id"),template:i(21),autoplay:duo.user.shouldAutoPlay()})),this.startTiming())},tryExtraction:function(){for(var e=s.trim(this.getVal()),t=0;t<this.regexes.length;t++){var i=this.regexes[t].exec(e);if(i)return i[1]}return!1},change:function(){s.trim(this.getVal()).length>0&&"rendered"===this.session.get("state")?this.tryExtraction()&&this.session.set({state:"ready"}):"ready"===this.session.get("state")&&(this.tryExtraction()||this.session.set({state:"rendered"}))},submit:function(){this.submitted=!0,this.$input_field.attr("disabled","disabled").blur();var e=s.trim(this.getVal()),t="";if("name"===this.variable[1]){var i=this.tryExtraction();t="Hello "+i+", nice to meet you!",duo.user.set({fullname:i})}else if("location"===this.variable[1]){var a=this.tryExtraction();t=this.tryExtraction()+" seems like a nice place!",duo.user.set({location:a})}this.ses=new o({session_element:this.model,value:e,greeting:t}),this.save(this.ses)}})},function(e,t,i){var s=i(1),a=i(2),n=i(26),o=(i(6),i(504)),r=i(45),l=i(29),d=i(17);e.exports=l.extend({events:{"change select":"change","keyup select":"change"},template:o,initialize:function(e){l.prototype.initialize.call(this,e),this.session.bind("render",this.postRender,this)},postRender:function(){this.$("select").first().focus(),this.startTiming()},submit:function(){if(this.$(".medium").attr("disabled","disabled").blur(),!this.gradeClientSide()){var e=this.selectedSentence(),t=new d({session_element:this.model,sentence:e});this.save(t)}},buildSentenceFromOption:function(e){var t=a.map(this.model.get("tokens"),function(t){return t.word?t.display_value:e});return t.join("")},selectedSentence:function(){var e=a.map(this.model.get("tokens"),function(e){return e.word?e["display_value"+n.NATIVE_PROPERTY_SUFFIX]||e.display_value:this.$("select#options_"+e.i).val()});return e.join(" ")},gradeClientSide:function(){for(var e=void 0,t=[],i=this.selectedSentence(),s=this.model.get("tokens"),a=0;a<s.length;a++)if(s[a].options)for(var n=this.$("select#options_"+a).val(),o=s[a].options,r=0;r<o.length;r++)if(o[r].display_value==n&&(e=o[r].correct),o[r].correct){var l=this.buildSentenceFromOption(o[r].display_value);t.push(l)}if(void 0===e)return!1;var c=new d({session_element:this.model,sentence:l,correct:e,correct_solutions:t,sentence:i,incorrect:!e});return this.addGradedSolution(c),!0},graded:function(e,t){if(l.prototype.graded.call(this,e,t),this.session.get("answer_feedback")){var i=e.toJSON();i.has_solutions=i.correct_solutions&&i.correct_solutions.length>0;var a=s("#correct-solutions");a.html(s.duostache(r,i))}},skip:function(){this.$(".medium").attr("disabled","disabled").blur();var e=new d({session_element:this.model,sentence:"",skipped:!0});this.save(e)},change:function(e){this.$(".blue-select").addClass("no-focus");var t=s(e.target);t.val()&&t.val().length>0&&t.children(".placeholder").size()>0&&t.children(".placeholder").remove(),0==this.$("select .placeholder").size()&&"rendered"===this.session.get("state")&&this.session.set({state:"ready"})},clear:function(e){this.session.unbind("render",this.postRender)}})},function(e,t,i){var s=i(1),a=i(2),n=(i(6),i(191)),o=i(99),r=i(17);i(15);e.exports=o.extend({template:n,initialize:function(e){o.prototype.initialize.call(this,e);var t=this.model.get("text"),i=this.session.get("context_variables");for(var s in i)t=t.replace("$$"+s+"$$",i[s]);this.model.set({text:t}),this.notHovered=!0},render:function(){this.$el.html(s.duostache(this.template,this.model.toJSON()));var e=this.session.get("context_variables"),t=null;if(this.model.has("manual_hints")){t=this.model.get("manual_hints");for(var i=0;i<t.length;i++)if(t[i].match){var a=t[i].match(/\$\$(.+)\$\$/);a&&(t[i]=[e[a[1]],e[a[1]]])}}var n={url:this.session.get("hints_url"),show_hints:1,callback:this.hintHover,callback_context:this,source_language:this.model.get("source_language"),target_language:this.model.get("target_language"),manual_hints:this.model.has("manual_hints")?this.model.get("manual_hints"):null
};return duo.user.getSkills().can_transliterate&&duo.user.get("transliterate")&&(n.text=this.model.get("text"),n.transliterate="target_language"),this.$(".hints").hints(n),this},hintHover:function(e,t,i){var n=this;this.notHovered&&a.defer(function(){n.notHovered=!1,n.session.set({state:"ready"}),n.session.addSolution(new r({session_element:n.model,correct:!0,hover_trial:!0})),s(".t13n-toggle").addClass("disabled"),s("#hover-owl").addClass("peek-from-bottom"),setTimeout(function(){s("#bubble-hover").addClass("slide-in-left-right")},1e3),n.session.set({state:"submitted"}),n.session.set({state:"graded"}),n.session.trigger("hover",e)}),s(".owl-standing-big").removeClass("pointing")},postRender:function(){this.startTiming()}})},function(e,t,i){var s=i(1),a=i(2),n=(i(27),i(15),i(508)),o=i(29),r=i(17);e.exports=o.extend({events:{"change input":"mark"},template:n,initialize:function(e){o.prototype.initialize.call(this,e),this.session.bind("render",this.postRender,this),s(document).bind("keyup.judge.session",a.bind(this.keyCheck,this));for(var t=this.model.get("sentences"),i=0;i<t.length;i++)t[i].number=i+1},render:function(){o.prototype.render.call(this);var e={url:this.session.get("hints_url"),callback:this.hintHover,callback_context:this,source_language:this.model.get("source_language"),target_language:this.model.get("target_language"),language_information:this.session.get("language_information"),reverse:this.model.get("target_language")===this.session.get("language"),highlight_verb_endings:!0};return this.$(".hints").hints(e),this},postRender:function(){this.startTiming(),this.model.get("source_language")!==duo.user.get("ui_language")&&this.$("#big-speaker").tts(a.extend(this.model.toJSON(),{language:this.model.get("source_language"),tts_type:"sentence",tts_id:this.model.get("tts_id"),template:i(21),autoplay:duo.user.shouldAutoPlay()}))},mark:function(e){var t=this,i=s(e.currentTarget);this.$("input[type=checkbox]:checked").length>0?a.defer(function(){t.session.set({state:"ready"})}):a.defer(function(){t.session.set({state:"rendered"})}),i.prop("checked")?i.closest(".cb-container-long").addClass("active"):i.closest(".cb-container-long").removeClass("active")},submit:function(){this.$(".dotted-frame").addClass("disabled"),this.submitted=!0;var e=this.$("input[type=checkbox]").map(function(){return s(this).is(":checked")?"correct":"incorrect"}).get();if(this.$("input[type=checkbox]").attr("disabled","disabled").blur(),!this.gradeClientSide()){var t=new r({session_element:this.model,choices:e});this.save(t)}},gradeClientSide:function(e){e=!!e;for(var t=!e,i=this.model.get("sentences"),a=[],n=[],o=[],l=this.$("input[type=checkbox]"),d=0;d<l.length;d++){var c=i[d].correct;if(o.push(c?"correct":"incorrect"),c&&a.push(i[d].sentence),e)n.push("skip");else{var u=s(l[d]).is(":checked");n.push(u?"correct":"incorrect"),u!==c&&(t=!1)}}var h=new r({choices:n,correct:t,correct_choices:o,correct_solutions:a,incorrect:!t,session_element:this.model,skipped:e});return this.addGradedSolution(h),!0},skip:function(){var e=this.$(":checked").map(function(){return"skip"}).get();if(this.$("input[type=checkbox]").attr("disabled","disabled").blur(),!this.gradeClientSide(!0)){var t=new r({session_element:this.model,choices:e,skipped:!0});this.save(t)}},keyCheck:function(e){if(s("#report-options").is(":visible"))return!0;switch(e.which){case 49:case 97:this.$("#sentence-0").click().change(),this.$("input[type=checkbox]").blur();break;case 50:case 98:this.$("#sentence-1").click().change(),this.$("input[type=checkbox]").blur();break;case 51:case 99:this.$("#sentence-2").click().change(),this.$("input[type=checkbox]").blur()}},graded:function(e,t){o.prototype.graded.call(this,e,t);var i=e,a=(this.model.get("target_language")===this.session.get("language")?"forward":"reverse",!0);i.get("incorrect")&&(a=!1);var n=i.get("correct_choices"),r=i.get("choices");this.session.get("answer_feedback")&&this.$(".cb-container-long").each(function(e,t){"correct"===r[e]?s(t).addClass(n[e]):"correct"===n[e]&&s(t).addClass(n[e])})},clear:function(){this.session.unbind("render",this.postRender),s(document).unbind(".judge")}})},function(e,t,i){var s=i(1),a=i(2),n=(i(30),i(27),i(6),i(4),i(509)),o=i(45),r=i(93),l=i(17);e.exports=r.extend({events:{"keyup #word-input":"change","change #word-input":"change","click #big-speaker":"speakerClick","click .alert-message .close":"closeAlert","click .icon_speaker":"largeClick","click .slow-button":"slowClick"},template:n,initialize:function(e){r.prototype.initialize.call(this,e),this.session.on("render",this.postRender,this),this.session.on("retry",this.retry,this),this.session.on("grade",this.graded_,this)},render:function(){return this.$el.html(s.duostache(this.template,a.extend(this.model.toJSON(),{can_transliterate:duo.user.getSkills().can_transliterate,transliterate:duo.user.get("transliterate"),learning_language_name:duo.user.get("learning_language_string"),need_flash:s.need_flash,show_input_instructions:duo.isTransliterationLanguage(this.model.get("language")),is_windows:-1!==navigator.appVersion.indexOf("Win"),is_mac:-1!==navigator.appVersion.indexOf("Mac")}))),this.$("#word-input").vkeyboard({language:this.model.get("language"),placeholder:this.$("#vkeyboard-placeholder"),toggle_button:this.$("#toggle_vkeyboard"),shown:!0}),this},postRender:function(){if(this.model.get("language")!==duo.user.get("ui_language")){var e=this,t={language:this.model.get("language"),tts_type:"sentence",tts_id:this.model.get("tts_id"),template:i(21),size:"big",slowEnabled:this.session.get("tts_enabled")};duo.mobile_web_view||(this.session.trigger("loading_tts"),t.beginner=this.session.get("beginner")&&this.session.get("tts_enabled"),t.onload=function(){e.session.trigger("loaded_tts")}),this.$("#big-speaker").tts(t),duo.mobile_web_view||this.$("#word-input").focus(),this.startTiming()}},graded_:function(){var e=this.session.getSubmittedSolution();if(this.session.get("answer_feedback")||e.get("try_again")){var t=this.$("#word-input").val();this.$("#word-input").replaceWith("<bdi><div id='graded-word-input' class='one-line-input fake-input input-block listen-input input-lg'></div></bdi>"),this.$("#graded-word-input").text(t);var i=this.session.getSubmittedSolution(),n=i.toJSON();if(void 0!=n.highlights&&n.highlights.length>0){if(n.highlights=a.map(n.highlights,function(e){return e[1]}),"wrong_word"==n.blame||"case_gender"==n.blame||"gender"==n.blame)var r="line-through";else var r="red-bold";this.$("#graded-word-input").highlight(r,n.highlights)}n.has_solutions=n.correct_solutions&&n.correct_solutions.length>0;var l=s("#correct-solutions");l.html(s.duostache(o,n)),this.showBlame()}},speakerClick:function(){duo.mobile_web_view||this.$("#word-input").focus()},change:function(){s.trim(this.$("#word-input").val()).length>0&&"rendered"===this.session.get("state")?this.session.set({state:"ready"}):0===s.trim(this.$("#word-input").val()).length&&"ready"===this.session.get("state")&&this.session.set({state:"rendered"})},getUserAnswer:function(){var e=s.trim(this.$("#word-input").val());return this.$("#word-input").attr("disabled","disabled").blur(),e},getDisplayTranslation:function(){return this.model.get("text")},gradeServerSide:function(e){var t;this.correctWithNoBlame(e)?(t=new l({session_element:this.model,value:e,correct:!0}),this.addGradedSolution(t)):(t=this.getSolution(e),this.save(t))},correctWithNoBlame:function(e){var t=this.model.get("text");return this.normalizeForGrading(e)==this.normalizeForGrading(t)},normalizeForGrading:function(e){return e.replace(/[\.,-\/#!$%\^&\*;:{}=\-_`~()]/g,"").replace(/\s{2,}/g," ").toLowerCase()},graded:function(e,t){return"wrong_language"===e.get("blame")?(e.set({try_again:!0}),this.session.set({state:"ready"}),this.session.set({state:"rendered"}),e.unset("incorrect"),e.unset("wrong_language"),e.unset("try_again"),this.$("#vkeyboard-placeholder").show(),void this.$("#toggle_vkeyboard").show()):r.prototype.graded.call(this,e,t)},save:function(e,t){var i=this;t=t||{},t.success=t.success||this.graded;var s=function(){e.set({correct:!0,error:!0}),i.graded(e,null)};t.error=t.error||s,a.contains(["submitted","graded"],this.session.get("state"))||(this.ses||("ready"!==this.session.get("state")&&this.session.set({state:"ready"}),e.set({time_taken:this.stopTiming()}),this.session.addSolution(e),this.ses=e),this.session.set({state:"submitted"}),e.save(null,t))},continueSkip:function(){return this.$("#word-input").attr("disabled","disabled").blur(),!0},retry:function(){this.$("#word-input").removeAttr("disabled").focus()},clear:function(){this.session.unbind("render",this.postRender),this.session.unbind("grade",this.graded_),this.session.unbind("retry",this.retry)},closeAlert:function(){this.$(".alert-message").remove()},largeClick:function(){},slowClick:function(){},closeFail:function(){this.postRender()}})},function(e,t,i){var s=i(1),a=i(2),n=(i(30),i(6),i(510)),o=i(45),r=i(29),l=i(17);e.exports=r.extend({events:{"keyup #word-input":"change","change #word-input":"change","change #article-input":"change","click .choose-article li label":"selectArticle",keypress:"keyCheck"},template:n,initialize:function(e){r.prototype.initialize.call(this,e),this.session.bind("render",this.focusInput,this),this.session.get("answer_feedback")&&this.session.bind("grade",this.graded_,this)},render:function(){var e=this.model.get("articles");if(e)for(var t=[],i=0;i<e.length;i++)t.push({index:i+1,article:e[i]});return this.$el.html(s.duostache(this.template,a.extend(this.model.toJSON(),{can_transliterate:duo.user.getSkills().can_transliterate,transliterate:duo.user.get("transliterate"),learning_language_name:duo.user.get("learning_language_string"),articles_map:t,show_input_instructions:duo.isTransliterationLanguage(this.model.get("language")),is_windows:-1!==navigator.appVersion.indexOf("Win"),is_mac:-1!==navigator.appVersion.indexOf("Mac")}))),null!=e&&1==e.length&&(this.$("#article-input").val(e[0]),this.$("#article-input").attr("disabled","disabled")),this.$("#word-input").vkeyboard({language:this.model.get("language"),placeholder:this.$("#vkeyboard-placeholder"),toggle_button:this.$("#toggle_vkeyboard"),shown:!0,caps:!1}),this.startTiming(),this},focusInput:function(){this.$("#word-input").focus()},getSubmitData:function(){var e=this.$(".active input").val();return{article:e?e:"",word:s.trim(this.$("#word-input").val()),session_element:this.model}},submit:function(){this.$("#word-input").attr("disabled","disabled").blur(),this.$("#article-input").attr("disabled","disabled").blur();var e=new l(this.getSubmitData());this.save(e)},skip:function(){this.$("#word-input").attr("disabled","disabled").blur(),this.$("#article-input").attr("disabled","disabled").blur();var e={article:"",word:"",session_element:this.model,skipped:!0},t=new l(e);this.save(t)},isValid:function(){var e=this.getSubmitData();return(null==e.article||null==this.model.get("articles")||e.article.length>0)&&e.word.length>0},renderArticle:function(e,t){return-1!=a.indexOf(this.model.get("articles"),e)?(this.$("#article-input").val(e),this.$("#word-input").val(t),e=e.replace("'","\\'"),this.$(".choose-article label input[value="+e+"]").click(),!0):!1},checkArticle:function(){var e=this.getSubmitData(),t=e.word.indexOf(" ");-1==t&&(t=e.word.indexOf("'")),-1==t&&(t=e.word.length-1);var i=s.trim(e.word.substring(0,t+1).toLowerCase()),a=s.trim(e.word.substring(t+1).toLowerCase());this.renderArticle(i,a)},change:function(e){32!=e.which&&222!=e.keyCode||this.checkArticle(),this.isValid()&&"rendered"===this.session.get("state")?this.session.set({state:"ready"}):this.isValid()||"ready"!==this.session.get("state")||this.session.set({state:"rendered"})},graded_:function(){var e=this.$("#word-input").val(),t=this.$(".blue-label.active input").val();this.$("#word-input").replaceWith("<bdi><span id='graded-word-input' class='fake-input input-block listen-input input-lg'></span></bdi>"),this.$("#graded-word-input").text(e),this.$("#article-input").replaceWith("<span id='graded-article-input' class='fake-select'>"+t+"</span>");var i=this.session.getSubmittedSolution(),n=i.toJSON();n.has_solutions=n.correct_solutions&&n.correct_solutions.length>0;var r=null==t?-1:t.length;if(void 0!=n.highlights&&n.highlights.length>0){if("wrong_word"==n.blame||"case_gender"==n.blame||"gender"==n.blame)var l="line-through";else var l="red-bold";0==n.highlights[0][0][0]&&this.$("#graded-article-input").highlight(l,[[0,r]]),n.highlights=a.map(n.highlights,function(e){var t=[];return t[0]=e[1][0]-r-1,t[1]=e[1][1]-r-1,t}),this.$("#graded-word-input").highlight(l,n.highlights)}var d=s("#correct-solutions");d.html(s.duostache(o,n)),this.showBlame()},clear:function(){this.session.unbind("render",this.focusInput),this.session.unbind("grade",this.graded_),s(document).unbind(".judge")},selectArticle:function(e){this.$(".choose-article li label").removeClass("active"),s(e.currentTarget).addClass("active"),this.isValid()&&"rendered"===this.session.get("state")?this.session.set({state:"ready"}):this.isValid()||"ready"!==this.session.get("state")||this.session.set({state:"rendered"})},keyCheck:function(e){switch(e.which){case 49:return e.preventDefault(),e.stopPropagation(),this.$("#option-1").click(),!1;case 50:return e.stopPropagation(),e.preventDefault(),this.$("#option-2").click(),!1;case 51:return e.stopPropagation(),e.preventDefault(),this.$("#option-3").click(),!1}}})},function(e,t,i){var s=i(1),a=i(2),n=(i(27),i(6),i(515)),o=i(29),r=i(17);e.exports=o.extend({events:{"click .select-images-list li":"onSelect","change .select-images-list input":"onInput","keyup .select-images-list input":"onInput","click .select-images-list input":"onInput"},template:n,initialize:function(e){o.prototype.initialize.call(this,e),this.session.bind("render",this.postRender,this),s(document).bind("keyup.judge.session",a.bind(this.keyCheck,this))},render:function(){var e=a.map(this.model.get("options"),function(e,t){return e.number=t+1,e});return this.$el.html(s.duostache(this.template,a.extend(this.model.toJSON(),{options:e}))),this.startTiming(),this},postRender:function(){this.session.get("tts_enabled")&&a.each(this.model.get("options"),function(e,t){this.$("#speaker-"+e.number).tts({language:this.model.get("language"),tts_type:"sentence",tts_id:e.phrase_id,template:"",visible:!1,autoplay:!1,click:duo.user.shouldAutoPlay()})},this)},onSelect:function(e){if("ready"===this.session.get("state")||"rendered"===this.session.get("state")){var t=s(e.currentTarget);this.$(".select-images-list li").removeClass("selected"),t.addClass("selected"),t.find("input").prop("checked",!0).change()}},onInput:function(e){var t=s(e.currentTarget);"rendered"===this.session.get("state")&&this.session.set({state:"ready"}),this.$("#speaker-"+t.data("number")).click()},submit:function(){this.$(".select-images-list").addClass("deactivated");var e=this.$('input[name="selection"]:checked').val(),t=new r({value:e,correct:e===this.model.get("phrase"),incorrect:e!==this.model.get("phrase"),correct_solutions:[this.model.get("phrase")],abstract_challenge:this.model.get("abstract_challenge"),session_element:this.model});this.logGradedSolution(t)},graded:function(e,t){if(o.prototype.graded.call(this,e,t),this.session.get("answer_feedback")){var i=e;a.each(this.model.get("options"),function(e,t){e.phrase===i.get("value")?this.$("#option-"+(t+1)).addClass(i.get("correct")?"correct":"incorrect"):e.phrase===this.model.get("phrase")&&this.$("#option-"+(t+1)).addClass("correct")},this)}},skip:function(){a.each(this.model.get("options"),function(e,t){e.phrase===this.model.get("phrase")&&this.$("#option-"+(t+1)).addClass("correct")},this);var e=new r({value:"",correct:!1,incorrect:!0,correct_solutions:[this.model.get("phrase")],session_element:this.model,skipped:!0});this.logGradedSolution(e)},keyCheck:function(e){switch(e.which){case 49:case 97:this.$("#option-1").click();break;case 50:case 98:this.$("#option-2").click();break;case 51:case 99:this.$("#option-3").click()}},clear:function(){this.session.unbind("render",this.postRender),s(document).unbind(".judge")},logGradedSolution:function(e){this.session.addSolution(e),this.session.set({state:"submitted"}),e.set({time_taken:this.stopTiming()}),this.graded(e),this.session.get("is_trial")||s.post("/log_grading_result",JSON.stringify(e.toJSON()))}})},function(e,t,i){var s=i(152);e.exports=s.extend({render:function(){return this}})},function(e,t){var i=requires("views/session/session");e.exports=i.extend({getNumHearts:function(){var e=3;return this.model.get("session_elements").length<4&&(e=2),this.model.get("session_elements").length<3&&(e=1),duo.user.get("ab_options").hover_heart_experiment&&(e+=1),e}})},function(e,t,i){var s=i(1),a=i(2),n=i(4),o=i(188),r=i(157),l=i(163);e.exports=l.extend({template:o,events:{"click #no-mic-link":"turnMicOff","click #record-button":"record","click #stop-button":"stop"},initialize:function(e){l.prototype.initialize.call(this,e),this.model.set({source_language:this.model.get("source_language")||duo.user.get("ui_language")})},processReference:function(){var e=this.model.get("stripped_text")||"";e=e.slice(e.indexOf("|")+1);var t=e.split(/[\s|]+/),i=a.map(t,function(e){return n.normalizeHomophones(this.lang,n.preprocessTextSpeak(e))}),s=a.object(i,t);this.reference_words_norm=a.keys(s),this.reference_words=a.values(s)},alignSolution:function(e){for(var t=this.findBestMatch(e),i=[],a=0;a<t.length;++a)t[a]>=0&&i.push({text:this.reference_words[t[a]],is_recognized:!0});var o=!1;if(i.length>0){for(var r="",l=0;l<i.length;++l)r+=i[l].text+" ";r=s.trim(r);var d=n.normalizeHomophones(this.lang,r),c=n.getEditDistance(this.translation_norm,d);0===c?(o=!0,this.makeDefaulCorrectSolution(),this.solution_distance=0):(c<this.solution_distance||i.length>this.solution_sequence.length)&&(this.solution_sequence=i,this.solution_text=r,this.solution_distance=c)}return o},getTimeout:function(){return 1500},renderSolution:function(){var e=s("<bdi>");if(this.is_recording&&this.solution_text)e.addClass("speech-unknown").text(this.solution_text.charAt(0).toUpperCase()+this.solution_text.slice(1));else if(this.solution_sequence)for(var t=0;t<this.solution_sequence.length;t++){var i=this.solution_sequence[t].text;0===t&&(i=i.charAt(0).toUpperCase()+i.slice(1)),t!==this.solution_sequence.length-1&&(i+=" ");var a;if(this.solution_sequence[t].is_recognized)a="speech-correct";else{if(!(this.ses.get("correct")||this.ses.has("try_again")&&!this.ses.get("try_again")))continue;a="speech-wrong"}var n=s("<span>").addClass(a).text(i);e.append(n)}this.$("#web-speech-solution").html(e)},postRender:function(){this.startTiming()},initChallengeSpecificVariables:function(){this.$("#web-speech-solution").html(""),this.solution_distance=Number.MAX_VALUE,this.ses.unset("closest_translation")},computeScore:function(){r.prototype.receiveHeard.call(this,this.solution_text)},graded:function(e,t){clearTimeout(this.grading_timer);var i=!1;if(e.get("mic_off"))this.solution_text="",this.solution_sequence=[];else if(this.translation&&!this.solution_text)this.solution_sequence=[{text:this.translation,is_recognized:!1}];else if(this.translation&&this.translation===this.solution_text)this.solution_sequence=[{text:this.translation,is_recognized:!0}],i=!0;else{var s=e.get("closest_translation")||this.translation;this.makeDisplaySolutionSequence(s),i=s&&s===this.solution_text}e.set({empty:!this.solution_text,perfect:i}),r.prototype.graded.call(this,e,t),this.renderSolution()},makeDisplaySolutionSequence:function(e){var t=e.split(/[\s]+/),i=this,o=a.map(t,function(e){return n.normalizeHomophones(i.lang,n.preprocessTextSpeak(e))});this.solution_sequence_norm=a.map(this.solution_sequence,function(e){return n.normalizeHomophones(i.lang,e.text)});for(var r=[],l=0;l<t.length;++l)r.push({text:t[l],is_recognized:!1});for(var d=.4,c=0;c<this.solution_sequence.length;++c)if(this.solution_sequence[c].is_recognized){for(var u=.1,h=0,g=-1,p=0;p<r.length;++p)if(!r[p].is_recognized){var _=this.compareWords(this.solution_sequence_norm[c],o[p]);if(_-=u*Math.abs(p-c),_>h&&(h=_,g=p),_>=1)break}h>=d&&(r[g].is_recognized=!0)}for(l=0;l<r.length;++l)n.onlyContainsPunctuation(r[l].text)&&(l-1>=0?r[l].is_recognized=r[l-1].is_recognized:l+1<r.length&&(r[l].is_recognized=r[l+1].is_recognized));for(this.solution_sequence=r,this.solution_text="",l=0;l<this.solution_sequence.length;++l)this.solution_sequence[l].is_recognized&&(this.solution_text+=this.solution_sequence[l].text+" ");this.solution_text=s.trim(this.solution_text)},setSolutionTranslation:function(e){!e.has("closest_translation")&&this.translation&&e.set({closest_translation:this.translation})}})},function(e,t,i){var s=i(1),a=i(2),n=(i(6),i(19)),o=i(533);i(49);e.exports=n.extend({template:o,events:{"change #image-file":"imagePreview","change .testbed-experiments input":"onExperimentChange","click .toggle-localization-debug":"toggleLocalizationDebug"},render:function(){var e=a.map(duo.testbed_experiments,function(e){return a.extend({},e,{options:a.map(e.options,function(t,i){return{value:t,current:duo.user.get("ab_options")[e.name]==t,name:e.name,index:i}})})}),t=this.model.get("microphone");return this.$el.html(s.duostache(this.template,a.extend(this.model.toJSON(),{microphone:t,experimental:duo.prebeta_experimental_mode,testbed_experiments:e,can_debug_localization:duo.debug||duo.prebeta_experimental_mode,localization_debug_on:duo.localization_debug_on}))),this.postRender(),this},submit:function(e){this.$("#image-file").val()?this.$("#avatar-upload").ajaxSubmit(function(){e(!0)}):e(!1)},postRender:function(){src=this.$(".avatar-large .avatar").attr("src");var e=new Date;this.$(".avatar-large .avatar").attr("src",src+"?"+e.getTime()),this.$("#submit_button").prop("disabled","disabled")},imagePreview:function(){var e=this.$("#image-file")[0];if(window.FileReader&&e.files&&e.files[0]){var t=new FileReader,i=this;t.onload=function(e){i.$(".avatar-large .avatar").attr("src",e.target.result).css("width",60)},t.readAsDataURL(e.files[0])}this.$("#avatar-submit").prop("disabled",!1)},onExperimentChange:function(e){var t=s(e.currentTarget);return s.post("/diagnostics/switch_experiment",{name:t.attr("name"),index:t.data("index")},function(e){window.location.reload(!0)}),!1},toggleLocalizationDebug:function(e){s.post("/diagnostics/toggle_localization_debug",function(){window.location.reload()})}})},function(e,t,i){var s=i(1),a=i(5),n=i(19),o=i(24).createModal,r=i(536);e.exports=n.extend({template:r,postRender:function(){this.$("input[data-goal="+duo.user.get("daily_goal")+"]").prop("checked",!0)},submit:function(e){var t=s('input[name="daily_goal"]:checked').data("goal");return t%1!=0||0>=t?!1:void(duo.user.get("daily_goal")?e(!1):o({type:"custom_type",title:a("The way your streak works is about to change"),message_type:"coach_warning",okay_text:a("Got it"),cancel_text:a("Never mind"),coach_goal:t,callback:function(){e(!1)}}))}})},function(e,t,i){var s=i(1),a=i(3),n=(i(6),i(19)),o=i(537);e.exports=n.extend({events:{"click #deactivate_submit_button":"deactivate","click #submit_button":"deactivate","click #cancel_button":"cancel","click #deactivate_cancel_button":"cancel"},template:o,initialize:function(){},render:function(){return this.delegateEvents(),this.$el.html(s.duostache(this.template)),this},deactivate:function(){},cancel:function(){a.history.navigate("/settings",!0)}})},function(e,t,i){var s=i(1),a=i(2),n=(i(6),i(4)),o=i(39),r=i(19),l=i(539);e.exports=r.extend({template:l,events:{"change #notify_practice":"togglePractice"},initialize:function(){this.model.on("change",this.render,this)},render:function(){var e={};e["ui_"+this.model.get("ui_language")]=!0;var t=a.chain(this.model.get("languages")).filter(function(e){return e.learning}).map(function(e){var t=this.model.get("language_settings");t&&(t=t[e.language]);var i={language:e.language,language_string:e.language_string,notify_practice:t?t.notify_practice:null,notify_time:t?t.notify_time:null,practice_times:n.generatePracticeTimes(t?t.notify_time:null)};return i},this).value();e.languages_data=t,e.show_schools_settings=this.model.get("has_observer")||this.model.get("num_classrooms");var i=this;return a.defer(function(){o.init(function(){o.supported&&(i.$(".chrome-notifications").show(),o.enabled&&i.$(".chrome-notifications-checkbox").attr("checked","checked"))})}),this.$el.html(s.duostache(this.template,a.extend(this.model.toJSON(),this.model.getSkills(),e))),this.postRender(),this},success:function(){if(this.model.has("language_settings")){var e=this.model.get("language_settings")[this.model.get("learning_language")];this.model.getSkills().notify_practice=e.notify_practice,this.model.getSkills().notify_time=e.notify_time}},togglePractice:function(){this.$(".send-time").toggle(this.$("#notify_practice").prop("checked"))}})},function(e,t,i){var s=i(1),a=i(4),n=i(20),o=i(19),r=i(124),l=i(346),d=i(123),c=i(347),u=i(540),h=i(547),g=i(535);e.exports=o.extend({template:u,events:{"keyup #observer-email":"emailChanged","change #observer-email":"emailChanged","click .no-code":"hideCodeEntry","click .have-code":"showCodeEntry","click #join-button":"joinByClassroomCode"},postRender:function(){this.configureUI("join-instructions"),this.delegateEvents(),this.classroom_code_view=new c({el:this.$(".code-entry")});var e=this;this.classrooms?this.showAllClassrooms():(this.classrooms=new r,this.$(".gray-spinner").removeClass("hidden"),this.classrooms.fetch({success:function(){e.$(".gray-spinner").addClass("hidden")}}),this.listenTo(this.classrooms,"reset",this.showAllClassrooms)),"experiment"===n.getConditionAndTreat("web_settings_classroom_code_v2")&&this.$(".have-code").removeClass("hidden")},hideCodeEntry:function(){a.track("schools_settings_no_code"),s(".email-entry").show(),s(".code-entry").hide()},showCodeEntry:function(){a.track("schools_settings_have_code"),s(".email-entry").hide(),s(".code-entry").show()},initialize:function(){this.model.unbind("change"),this.timer=-1},emailChanged:function(){this.timer>=0&&clearTimeout(this.timer),this.timer=setTimeout(this.checkObserverEmail.bind(this),500)},configureUI:function(e){this.$("#join-instructions").toggleClass("hidden","join-instructions"!==e),this.$("#submit_button").prop("disabled","join-instructions"===e),this.$("#user-not-found").toggleClass("hidden","user-not-found"!==e),this.$("#classroom-input").toggleClass("hidden","classroom-input"!==e),this.$("#classroom-input select").empty(),this.$(".icon").toggleClass("hidden","classroom-input"!==e)},checkObserverEmail:function(){this.timer=-1;var e=this.$("#observer-email").val();if(e!==this.last_requested_email){this.last_requested_email=e;var t=e.indexOf("@");if(0>t||e.lastIndexOf(".")<t)return void this.configureUI("join-instructions");var i=this;s.get("/api/1/observers/observer_classrooms",{observer_email:e},function(t){i.$("#join-instructions").addClass("hidden"),0===t.length?(i.configureUI("user-not-found"),i.$("#user-not-found").html(s.duostache(h,{email:e}))):(i.configureUI("classroom-input"),i.$("#classroom-input select").html(s.duostache(g,{classrooms:t})))})}},showAllClassrooms:function(){this.$("ul.classrooms").empty(),this.classrooms.each(this.showClassroom,this)},showClassroom:function(e,t){this.$("#my-classrooms").removeClass("hidden");var i=new l({model:e}),s=i.render().el;t===!0?this.$("ul.classrooms").prepend(s):this.$("ul.classrooms").append(s)},addNewClassroom:function(e){var t=new d(e);this.classrooms.add(t),this.showClassroom(t,!0)},addObserver:function(e,t,i){var s=this;if(t){t=parseInt(t,10);var a=this.classrooms.where({classroom_id:t});0===a.length&&duo.user.joinClassroom(t,{from_settings:!0},function(a){s.addNewClassroom({email:e,name:i,classroom_id:t,avatar:a.avatar})})}else duo.user.addObserver({observer_email:e,classroom_name:""},{from_settings:!0},function(t){s.addNewClassroom({email:e,name:"",classroom_id:t.classroom_id})})},submit:function(){var e=s.trim(this.$("#observer-email").val()),t=s.trim(this.$("#classroom-input select").val()),i=s.trim(this.$("#classroom-input option:selected").text());e&&(s("#observer-email").val(""),this.emailChanged(),this.addObserver(e,t,i))},joinByClassroomCode:function(){this.classroom_code_view.clear(),this.$(".messages").hide();var e=this.classroom_code_view.getClassroomInfo(),t=this;duo.user.joinClassroom(e.classroom_id,{from_settings:!0,using_classroom_code:!0},function(){t.addNewClassroom({email:e.observer_email,name:e.classroom_name,classroom_id:e.classroom_id})})}})},function(e,t,i){var s=i(19),a=i(541);e.exports=s.extend({template:a,events:{},initialize:function(){this.model.bind("change",this.render,this)},success:function(){this.model.set({no_password:!1})}})},function(e,t,i){var s=i(1),a=i(2),n=(i(6),i(19)),o=i(534);e.exports=n.extend({template:o,events:{},initialize:function(){this.model.bind("change",this.render,this)},render:function(){var e={};e["ui_"+this.model.get("ui_language")]=!0;var t=a.groupBy(duo.user.get("certificates"),function(e){return e.language});return e.quiz_scores=a.map(t,function(e){return{language:e[0].language,language_string:e[0].language_string,scores:e}}),this.$el.html(s.duostache(this.template,a.extend(this.model.toJSON(),e))),this.postRender(),this},success:function(){}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(5),r=(i(6),i(19)),l=i(543);e.exports=r.extend({events:{"click #cancel_button":"cancel","click #reset_cancel_button":"cancel","click .reset-lang":"resetLang"},template:l,initialize:function(){},render:function(){this.delegateEvents();var e=this.model.get("languages"),t=a.filter(e,function(e){return e.learning});e=a.sortBy(e,function(e){return e.points});var i={languages:e,allow_delete:t.length>1};return this.$el.html(s.duostache(this.template,i)),this},cancel:function(){var e="/settings/direction";n.history.navigate(e,!0)},resetLang:function(e){this.$(".btn-enabled").prop("disabled",!0);var t=s(e.currentTarget),i=t.data("delete"),a=i?"Removing":"Resetting",n="Are you sure? "+a+" a language is a permanent change that cannot be undone.";if(!window.confirm(o(n)))return void this.$(".btn-enabled").prop("disabled",!1);if(!duo.prebeta_experimental_mode){var r={language:t.data("value"),"delete":i};s.post("/users/"+this.model.id+"/reset_language",r,function(e){window.location.reload(!0)})}}})},function(e,t,i){var s=i(1),a=i(2),n=(i(6),i(19)),o=i(538);e.exports=n.extend({template:o,events:{"change #language_direction":"onLanguageDirectionChange"},render:function(){var e={};e["ui_"+this.model.get("ui_language")]=!0;var t=[],i=!1;return a.each(duo.available_languages,function(e){var s=duo.user.get("ui_language")==e.from_language&&duo.user.get("learning_language")==e.learning_language,a=e.from_language+"_"+e.learning_language;s&&"zs"===e.from_language&&(i=!0),t.push({value:a,selected:s,language:e.learning_language_name,prompt:e.prompt})}),this.$el.html(s.duostache(this.template,a.extend(this.model.toJSON(),e,{language_directions:t,traditional:"zt"===duo.user.get("locale"),experimental:duo.prebeta_experimental_mode,is_chinese:i}))),this.postRender(),this},initialize:function(){this.model.bind("change",this.render,this)},success:function(){},onLanguageDirectionChange:function(e){"zs_en"==s(e.currentTarget).val()?this.$("#chinese-script-choice").removeClass("hidden"):this.$("#chinese-script-choice").addClass("hidden")}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(14),r=i(5),l=i(4),d=i(39),c=i(336),u=i(348),h=i(341),g=i(339),p=i(344),_=i(342),m=i(338),v=i(343),f=i(337),b=i(340),w=i(349),y=i(544);i(49);e.exports=n.View.extend({id:"app",events:{"click #submit_button":"submit","click #cancel_button":"cancel","keyup input, select, textarea":"inputChange","change input, select, textarea":"inputChange"},template:y,initialize:function(){this.model=duo.user,this.accountView=new c({model:this.model}),this.profileView=new u({model:this.model}),this.passwordView=new h({model:this.model}),this.notificationsView=new g({model:this.model}),this.directionView=new p({model:this.model}),
this.progressView=new _({model:this.model}),this.deactivateView=new m({model:this.model}),this.resetView=new v({model:this.model}),this.coachView=new f({model:this.model}),this.observerView=new b({model:this.model}),this.soundView=new w({model:this.model}),a.bindAll(this,"update","getSettings")},render:function(){return this.delegateEvents(),this.$el.html(s.duostache(this.template,a.extend(this.model.toJSON(),{has_certificates:this.model.has("certificates")&&this.model.get("certificates").length>0}))),this.$("#submit_button, #cancel_button").prop("disabled",!0),this.model.has("has_password")||s.getJSON("/users/"+this.model.id+"/settings",function(e){duo.user.set(e)}),this},getSettings:function(){var e=this.$(":input"),t={};return s.each(e,function(){var e=s(this).val();if("locale"===this.name&&s(this).prop("checked"))return t.locales=t.locales||{},void(t.locales[s(this).data("language")]=s(this).val());if("daily_goal"===this.name&&s(this).prop("checked"))return void(t.daily_goal=s(this).data("goal"));if("checkbox"===this.type)e=s(this).prop("checked");else if("radio"==this.type){if(!s(this).prop("checked"))return;e="true"===s(this).val()}for(var i=t,a=this.name.split("."),n=0;n<a.length-1;n++)a[n]in i||(i[a[n]]={}),i=i[a[n]];i[a[a.length-1]]=e}),t},inputChange:function(){"observer"!==this.current_tab&&this.$("#submit_button, #cancel_button").prop("disabled",!1)},submit:function(){this[this.current_tab+"View"].submit(this.update)},update:function(e){var t=this.getSettings(),i=this,s=void 0!==t.language_direction&&t.language_direction!=this.model.get("ui_language")+"_"+this.model.get("learning_language"),n=void 0!==t.locales&&duo.user.get("locale")!=t.locales[this.model.get("ui_language")],l=function(){a.defer(function(){window.location.reload(!0)})},c=t.notify_via_chrome;d.supported&&-1===[void 0,d.enabled].indexOf(c)&&(c?d.subscribe(null,l):d.unsubscribe(null,l)),o.updateUser(this.model.id,t).done(function(){i.$("#error-message").hide(),i.$("#confirmation-message").show().delay(1e3).fadeOut(1e3),i.model.set(t),i[i.current_tab+"View"].success(),(e||s||n)&&l()}).fail(function(e){var t,s;try{t=JSON.parse(e.responseText)}catch(a){return}switch((t.details||[])[0]){case"USERNAME_INVALID":s=r('Username must be between 3 and 16 valid characters (letters, numbers and "-", ".", "_")');break;case"USERNAME_TAKEN":s=r("Username already taken");break;default:return}i.$("#error-message").text(s).show()}).always(function(){i.$("#submit_button, #cancel_button").prop("disabled",!0)})},cancel:function(){this[new_tab+"View"].render(),this.$("#submit_button, #cancel_button").prop("disabled",!0)},tab:function(e){"observer"===e&&l.track("show_observer_settings"),this.$("#"+this.current_tab+"_tab").parent().removeClass("active"),this.$("#"+e+"_tab").parent().addClass("active"),this.$("#tab-container").replaceWith(this[e+"View"].render().el),this.current_tab=e,this.$("#submit_button, #cancel_button").prop("disabled",!0)},clear:function(){this.model.unbind("change",this.saved)}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(5),r=i(4),l=i(24).createModal,d=i(194);e.exports=n.View.extend({events:{"click .stop-sharing":"removeObserver"},tagName:"li",template:d,initialize:function(){this.listenTo(this.model,"destroy",this.remove)},render:function(){return this.$el.html(s.duostache(this.template,a.extend(this.model.toJSON(),{show_remove:!0}))),this},removeObserver:function(){var e=this;l({type:"custom_type",message_type:"remove_observer",okay_text:o("Got it"),cancel_text:o("Never mind"),observer_email:e.model.get("email"),callback:function(){r.track("remove_observer"),e.model.deleteFromServer()}})}})},function(e,t,i){var s=i(88);e.exports=s.extend({template:void 0,id:void 0,initialize:function(){},setJoinButtonTarget:function(){},renderErrorMessage:function(){this.$(".messages").show(),s.prototype.renderErrorMessage.apply(this,arguments)},renderSuccessMessage:function(){this.$(".messages").show(),s.prototype.renderSuccessMessage.apply(this,arguments)}})},function(e,t,i){var s=i(1),a=i(2),n=i(14),o=(i(6),i(19)),r=i(545);i(46),i(49);e.exports=o.extend({template:r,events:{"click #facebook-connect":"loginFB","click #facebook-disconnect":"disconnectFB","click #gplus-disconnect":"disconnectGplus","click #twitter-disconnect":"disconnectTwttr"},initialize:function(){o.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:facebook_id",this.render)},render:function(){var e={};return e["ui_"+this.model.get("ui_language")]=!0,this.$el.html(s.duostache(this.template,a.extend(this.model.toJSON(),{ui_bool:e,formatted_creation:this.model.get("creation_date").slice(0,-9)}))),this.postRender(),this},postRender:function(){this.delegateEvents(),this.$("#facebook_name").text(this.facebook_name),this.$("#bio-count").text(140-this.model.get("bio").length),this.$("textarea").characterLimit(140,this.$("#bio-count")),this.$("#submit_button").prop("disabled","disabled")},loginFB:function(){var e=this;window.FB&&(duo.prebeta_experimental_mode||FB.login(function(t){var i=t.authResponse.userID;s.post("/facebook_connect",{facebook_id:i,facebook_friends:"[]"}),FB.api("/me?access_token="+t.authResponse.accessToken+"&fields=picture,name",function(t){e.facebook_name=t.name,duo.user.set({facebook_id:i,facebook_name:t.name})})},{scope:"publish_actions"}))},disconnectFB:function(){var e;return window.FB?void(duo.prebeta_experimental_mode||(FB.api("/me/permissions","delete",function(e){}),e={facebook_id:null,facebook_name:null},duo.user.set(e),n.updateUser(duo.user.id,e))):(e={facebook_id:null,facebook_name:null},duo.user.set(e),void n.updateUser(duo.user.id,e))},disconnectGplus:function(){var e=this;return"undefined"==typeof gapi?void s.post("/gplus/disconnect",{user_id:e.model.get("id")},function(){duo.user.set({gplus_id:null})}):void(gapi.auth.getToken()?s.ajax({type:"GET",url:"https://accounts.google.com/o/oauth2/revoke?token="+gapi.auth.getToken().access_token,async:!1,contentType:"application/json",dataType:"jsonp",success:function(t){s.post("/gplus/disconnect",{user_id:e.model.get("id")},function(){duo.user.set({gplus_id:null})})},error:function(t){e.$("#gplus-error").show()}}):s.post("/gplus/disconnect",{user_id:this.model.get("id")},function(){duo.user.set({gplus_id:null})}))},disconnectTwttr:function(){s.post("/twitter_disconnect"),duo.user.set({twitter_id:null})}})},function(e,t,i){var s=i(1),a=i(19),n=i(546);e.exports=a.extend({template:n,render:function(){return this.$el.html(s.duostache(this.template,this.model.toJSON())),this.postRender(),this},postRender:function(){this.$("#submit_button").prop("disabled","disabled")}})},function(e,t,i){var s=i(353),a=i(444);i(13);e.exports=s.extend({template:a,initialize:function(e){s.prototype.initialize.call(this),this.friends_in_tree=!0}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(445);i(13),i(65),e.exports=n.View.extend({template:o,events:{"click .toggle":"changeRankView"},initialize:function(){this.sorted_leaderboards={},this.sort_type=this.options.sort_type||"week",this.classroom_id=this.options.classroom_id,this.user_data=this.options.user_data||{}},render:function(){if(!(this.sort_type in this.sorted_leaderboards))return void this.changeSort(this.sort_type);a.delay(a.bind(this.scrollToUser,this),0);var e=this.sorted_leaderboards[this.sort_type],t=this.classroom_id?0:1;return this.$el.html(s.duostache(this.template,a.extend(duo.user.toJSON(),{lazy_avatars:!0,leaderboard_data:e,classroom_view:!!this.classroom_id,all_alone:e.length<=t}))),this.$el.css("position","relative"),a.defer(function(){s("#ranked-users").length>0&&s("img.lazy").lazyload({container:s("#ranked-users")})}),this.$("."+this.sort_type).addClass("active"),this},scrollToUser:function(){var e=this.$(".list-users"),t=this.$el.innerHeight(),i=e.children("li.you");if(i.position()){var s=i.position().top;e.scrollTop(s-t/2+i.outerHeight()/2+8)}},sortData:function(e){return a.sortBy(e,function(e){return-((e.self?.5:0)+e.points)})},loadData:function(e,t){var i=this.sorted_leaderboards[e]=[];if("alltime"===e){for(var n in this.user_data)this.user_data.hasOwnProperty(n)&&(n=parseInt(n,10),i.push(a.extend({id:n,self:n===duo.user.id,points:this.user_data[n].all_time_points},this.user_data[n])));this.sorted_leaderboards[e]=this.sortData(i),t&&t()}else{var o=this;s.getJSON("/friendships/leaderboard_activity",{unit:e,classroom_id:this.classroom_id},function(e){a.map(e.user_ids_ranked,function(t){t in o.user_data&&(t=parseInt(t,10),i.push(a.extend({id:t,self:t===duo.user.id,points:e.ranking[t]},o.user_data[t])))}),t&&t()})}},changeRankView:function(e){var t=s(e.currentTarget).data("sort");this.$(".toggle").removeClass("active"),this.$("."+t).addClass("active"),this.changeSort(t)},changeSort:function(e){if(this.sort_type=e,this.sort_type in this.sorted_leaderboards)this.render();else{var t=this;this.loadData(e,function(){t.render()})}}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(26),r=i(550);i(13),e.exports=n.View.extend({id:"app",template:r,events:{"click .practice":"practice"},render:function(){function e(e){return e.join(", ").replace(/(,) <\*sf>(, )?/g,"")}var t=[],i=5,n=a.map(this.model.get("path"),function(s){var n=a.clone(s);if(void 0!==s.strength){duo.user.getSkills().can_transliterate&&duo.user.get("transliterate")&&o.transliterateObject(s);var r=Math.round(s.strength*i);n.strengths=a.map(a.range(i),function(e){return{filled:r>e}},this),n.words_list=e(s.words),n.row=Math.floor((s.index-1)/3),n.row in t?t[n.row].lessons.push(n):t[n.row]={lessons:[n]}}return n},this);if(this.model.get("num_lessons")<3){var r={empty:!0};this.model.get("num_lessons")<2&&t[0].lessons.push(r),t[0].lessons.push(r)}var l=this.model.getActiveLesson(),d=1==this.model.get("strength"),c={skill_id:this.model.id,render_color:d?"gold":this.model.get("icon_color"),points_to_gain:Math.min(10,this.model.get("left_points")),path:n,rows:t,lessons_completed:l?l.index-1:this.model.get("num_lessons"),lessons_left:l?this.model.get("num_lessons")-l.index+1:0,practice_index:this.model.get("num_lessons")+1,total_strength:Math.round(this.model.get("strength")*i),perfect_strength:d,single_lesson:1===this.model.get("num_lessons")};c["strength_"+c.total_strength]=!0,this.$el.html(s.duostache(this.template,a.extend(this.model.toJSON(),c)));var u=this;a.defer(function(){l&&(u.$("#overlay-progress").pie({colors:["#abcdef","#fff"],proportion:1.01}),u.$("#overlay-progress path").css({opacity:.2}),u.$('#overlay-progress path[fill="#abcdef"]').css({opacity:0}),1==l.index&&u.$("#overlay-progress circle").css({opacity:0}))});this.model.has("topic")?this.model.get("topic").id:null,this.model.has("topic")?this.model.get("topic").name:null;return this.$(".btn-test-out").target_popover({trigger:"hover",target:this.$(".popover"),placement:"bottom"}),s(this).fixedSidebar(),this},practice:function(){duo.skillRouter.navigate("/skill/"+this.model.get("language")+"/"+this.model.get("url_title")+"/practice",!0)}})},function(e,t,i){var s=i(1),a=i(2),n=i(22),o=i(131),r=i(5),l=i(4),d=i(20),c=i(8),u=i(549),h=i(263),g=i(237),p=i(101),_=i(57),m=i(315),v=i(314),f=i(354),b=i(165),w=i(58),y=i(43);i(110),e.exports=c.extend({id:"app",template:u,events:{"click .store-button":"switchTab","click .back-home":"switchTab","click .show-tree":"switchTab","click .trophy":"showFinishedModal","click .tc-big-boss-enabled":"showFinishedModal","click .tc-big-boss-finished":"showTCCertificate","click #real-world-practice":"clickRealWorldPractice","click #dismiss-dash-ad":"dismissDashboardNotification","click #certify-my-score":"certifyMyScore","click .linkedin-share-fluency":"postLinkedIn","click #show-assignments":"showAssignmentsModal"},initialize:function(){this.model.bind("change:add_bonus_skill change:learning_language",this.render,this),this.calendar_data=l.getCalendar(),this.show_home_graph=duo.user.get("week_old_account")&&a.any(this.calendar_data,function(e){return e.points>0}),this.show_web_assignments=!a.isUndefined(duo.user.get("observer_id"))&&!a.isUndefined(duo.user.get("num_lifetime_assignments"))&&duo.user.get("num_lifetime_assignments")>0,this.show_home_graph=this.show_home_graph&&!this.show_web_assignments,this.xp_today=a.find(this.calendar_data,function(e){return"current"===e.state}).points},scrollToBonusRow:function(){var e=s("html, body"),t=this.$(".skill-tree-row.bonus-row");e.scrollTop(0),e.animate({scrollTop:t.offset().top-t.height()-200},500)},zeroFill:function(e,t){return t-=e.toString().length,t>0?new Array(t+(/\./.test(e)?2:1)).join("0")+e:e+""},buildSkillGrid:function(){for(var e=this.model.getSkills(),t=e.skills,i=e.level_tests,s=duo.user.getSkills().max_tree_level,n=a.toArray(t.groupBy(function(e){return e.get("coords_y")})),o=0;o<i.length;o++){var r=t.filter(function(e){return!e.get("learned")&&e.get("coords_y")<i[o].level});n.push({test_row:!0,level:i[o].level,level_test:i[o].index,done:i[o].level<=e.max_tree_level,num_unlocks:r.length})}n=a.sortBy(n,function(e){return e.test_row||e.register_row?e.level-.5:e[0].get("coords_y")});for(var o=0;o<n.length&&8>o;o++)n[o].fade_in=!0;var l=duo.user&&duo.user.get("language_data")[duo.user.get("learning_language")].bonus_skills.length>0;if(l){var d=duo.user.get("language_data")[duo.user.get("learning_language")].bonus_rows,s=duo.user.get("language_data")[duo.user.get("learning_language")].max_tree_level;if(d[0]<=s){var c=duo.user.getOwnedBonusSkills();c=c.sort(function(e,t){var i=e.date,s=t.date;return s>i?-1:i>s?1:0});for(var o=0;o<d.length;o++){for(var u=d[o]-1,h=c.splice(0,3),g=[],o=0;o<3-h.length;o++)g.push("empty");n.splice(u,0,{bonus_row:!0,filled_slots:h,empty_slots:g})}}}this.model.get("num_following");return a.map(n,function(t,i){if(t.bonus_row||t.test_row||t.register_row)return t;var s=t[0].get("coords_y"),n=null;return e.no_dep?(n=a.map(t,function(e){return{column:e.get("coords_x"),row:s}}),n=a.sortBy(n,"column")):n=a.map(a.range(1,4),function(e){return{column:e,row:s}}),{row:s,columns:n}},this)},addOne:function(e){var t={x:e.get("coords_x"),y:e.get("coords_y"),index:e.get("index")},i=null==this.skills_data?!1:this.skills_data.no_dep,a=new y({model:e,el:this.$("#skill-"+t.x+"-"+t.y),no_dep:i});s(a.render().el).addClass("skill-"+t.index)},addOneBonus:function(e){var t=e.get("url_title"),i=null==this.skills_data?!1:this.skills_data.no_dep,a=new y({model:e,el:this.$("#skill-"+t),no_dep:i});s(a.render().el).addClass("skill-"+t)},render:function(){o.start("SkillListView.render()"),this.delegateEvents(),this.skills_data=this.model.getSkills();var e=this.skills_data,t=e.skills,i=(duo.user.get("ab_options"),new Date,null),n=null;if(e.first_time){var r=t.find(function(e){return 1==e.get("coords_y")});i=r.get("title"),n=r.get("url_title")}o.mark("SkillListView MP1");var c={"es-en":899070,"de-en":899070,"fr-en":899070,"it-en":899070,"pt-en":899070,"en-es":899178,"en-pt":899080,"en-it":899128,"en-fr":899117};duo.user.has("pending_invites")&&a.each(duo.user.get("pending_invites"),function(e){e.time_string_left=e.seconds_remaining>86400?Math.floor(e.seconds_remaining/86400):Math.floor(e.seconds_remaining/3600),e.days_left=e.seconds_remaining>86400,e.short_list=l.createShortList(e.inviting_users)});var u=this.model.get("learning_language")+"-"+this.model.get("ui_language"),_=u in c?c[u]:null,m=l.currUserTimezoneOffset(),y=new Date(new Date(duo.user.get("current_time")).getTime()+m),k=new Date(y.getTime());k.setUTCDate(y.getUTCDate()+1),k.setUTCHours(0,0,0,0);var x=new Date(k.getTime()),$=(x-y)/1e3/60/60,S=duo.user.isTestCenterEligible(),T=duo.feature_flags.show_linkedin_sharing,C=S||T,D=this.model.get("has_observer")&&this.model.get("observer_has_avatar"),E=a.extend(this.model.toJSON(),e,{in_beta:"beta"==e.direction_status,rows:this.buildSkillGrid(),finished_tree:t.checkFinished(),next_level:e.level+1,show_home_graph:this.show_home_graph,calendar:this.calendar_data,xp_today:this.xp_today,met_goal:duo.user.get("daily_goal")&&this.xp_today>=duo.user.get("daily_goal"),points_remaining:duo.user.get("daily_goal")-this.xp_today,time_remaining:Math.floor($),loading_word_count:!("word_count"in this.model.getSkills()),basics_title:i,basics_url:n,ui_english:"en"==this.model.get("ui_language"),tree_change_post:_,total_strength:Math.round(5*e.language_strength),show_sidebar_buttons:e.show_practice&&!this.model.get("trial_account"),fluency_score:duo.formatFluencyScore(e.fluency_score),showLinkToTestCenter:S,showLinkToLinkedIn:T,showFluencySharingLinks:C,useObserverGoalAvatar:D,showWebAssignments:this.show_web_assignments,tc_big_boss:"en"===duo.user.get("learning_language")&&"experiment"===d.getConditionAndTreat("web_tc_big_boss_experiment","show_disabled_shield")});this.$el.html(s.duostache(this.template,E)),this.addChildView(new w({el:this.$("#persistent-notifications"),messages:a.compact(a.map(e.notifications,function(e,t){return e?t:null})),message_data:{language_string:duo.user.get("learning_language_string")}}).render()),duo.user.get("daily_goal")&&this.drawDailyGoal(),o.mark("SkillListView MP2"),t.each(this.addOne,this),e.bonus_skills.each(this.addOneBonus,this),o.mark("SkillListView MP2a");var z=this;if(!this.model.get("trial_account"))if(this.leader_view)this.$("#ranking").replaceWith(this.leader_view.el),this.leader_view.delegateEvents();else{var I=function(e){z.leader_view||(z.leader_view=new b({model:z.model,el:z.$("#ranking"),classrooms:e}),z.leader_view.render())};duo.user.get("has_observer")?s.getJSON("/api/1/observers/member_classrooms",{},function(e){I(e)}):I()}var O=new p({el:this.$(".trial-account-overlay"),type:"profile"});if(O.render(),!this.store_view&&duo.user){var A=new h;A.fetch({success:function(){z.store_view=new f({model:A,el:z.$("#rupee-store-view"),scroll:z.options.scroll}),!z.$("#store-panel").is(":visible")&&z.$(".tree").is(":visible")||z.store_view.render()}})}else duo.user&&(this.$("#rupee-store-view").replaceWith(this.store_view.el),this.store_view.delegateEvents());o.mark("SkillListView MP3"),o.mark("SkillListView MP4"),"word_count"in this.model.getSkills()||s.getJSON("/vocabularies/size",{user_id:this.model.id,language:this.model.getSkills().language},function(e){z.$("#word-count").text(e.vocab_size.total),z.model.getSkills().word_count=e.vocab_size.total,mixpanel.register({word_count:e.vocab_size.total})}),"undefined"!=typeof gapi&&a.defer(function(){gapi.follow.go(".g-follow")}),o.stop("SkillListView.render()");var P=e.first_time?2250:0;return setTimeout(function(){if(0===document.body.scrollTop){var e=100;s(".fade-this-in").css({opacity:0}).each(function(t){s(this).delay(e*t).fadeTo("slow","1")})}else s(".fade-this-in").css({opacity:1})},P),a.defer(function(){if(z.show_home_graph&&z.drawWeeklyProgress(z.calendar_data),z.show_web_assignments&&(z.assignments||(z.assignments=new g([],{language_specific:!0,sortBy:"actionable"})),z.assignments.fetch({success:function(){var e=new v({collection:z.assignments});s("#assignments-container").replaceWith(e.render().el)}})),"en"===duo.user.get("learning_language")&&t.checkLastRowFinished()&&"experiment"===d.getConditionAndTreat("web_tc_big_boss_experiment","show_enabled_shield")){var e=function(){z.model.get("exams").length>0?z.$(".tc-big-boss").addClass("tc-big-boss-finished"):z.$(".tc-big-boss").addClass("tc-big-boss-enabled")};z.model.has("exams")?e():s.getJSON("/api/1/testcenter/list_certified_exams",{exam_language:"en"},function(t){z.model.set({exams:t.exams}),e()})}duo.topbar.bind("navigate",z.cleanUp,z)}),this},drawWeeklyProgress:function(e){var t="rtl"===duo.script_direction,i=t?15:45,s=0,o=230,d=150,c=a.pluck(e,"points"),u=a.min(c),h=a.max(c);h*=1.25,u*=.5;var g=10*Math.floor(u/10),p=Math.max(10*Math.ceil(h/10),5);this.r=n(this.$("#weekly-progress").get(0)),this.r.setSize(280,180);var _=this,m=[0,1,2,3,4,5,6];t&&(m=m.reverse());var v=this.r.linechart(i,s,o,d,[m,[0,6]],[c,[g,p]],{smooth:!1,colors:["#ffa200","transparent"],symbol:"circle",width:1.25,axis:"0 0 1 1",axisystep:4,axisxstep:6,shade:!0});a.each(v.symbols[0],function(e,t){c[t]<duo.user.get("daily_goal")&&(e.attr({fill:"#fff","stroke-width":2,stroke:"#ffa200"}),_.$("#hover-helper-"+t).addClass("missed-goal"))}),v.shades[0].attr({opacity:.1}),v.lines[0].attr({"stroke-opacity":.5}),v.symbols[0].attr({opacity:.7});for(var f=0;f<v.axis[0].text.items.length;f++){v.axis[0].text.items[f].attr({fill:"#cccac9",y:170,font:'500 15px/20px "museo-sans-rounded", sans-serif'}),v.symbols[0][f].attr({title:"fancy tooltip"});var b=140-v.symbols[0][f].attr("cy");this.$("#hover-helper-"+f).css({top:"-"+b+"px"})}this.$("#weekly-progress a").tooltip();for(var w=t?255:35,f=0;f<v.axis[1].text.items.length;f++){v.axis[1].text.items[f].attr({fill:"#cccac9",x:w,font:'500 15px/20px "museo-sans-rounded", sans-serif'});var y=Math.round(v.axis[1].text.items[f].attrs.y);this.r.path(["M",i,y,"H",o+i]).attr({stroke:"#dedede","stroke-width":2,"stroke-opacity":.5}).toBack()}v.axis[1].attr({stroke:"transparent"}),v.axis[0].attr({stroke:"transparent"});var k=new Date(duo.user.get("current_time")),x=new Date(k.getTime()+l.currUserTimezoneOffset()),$=(x.getUTCDay()+1)%7;t&&($=7-$);var S=[r("Su"),r("M"),r("Tu"),r("W"),r("Th"),r("F"),r("Sa")];t&&(S=S.reverse()),a.each(v.axis[0].text,function(e,t){var i=S[$];e.attr("text",i),$=($+1)%7})},drawDailyGoal:function(){this.r2=n(this.$("#daily-donut").get(0)),this.r2.setSize(150,150);var e;if(duo.user.get("daily_goal"))if(0==this.xp_today){var t=[1];e=this.r2.piechart(75,75,75,t,{colors:["#e2e2e2"]})}else if(duo.user.get("daily_goal")-this.xp_today>0){var t=[this.xp_today,duo.user.get("daily_goal")-this.xp_today];e=this.r2.piechart(75,75,75,t,{colors:["#fec901","#e2e2e2"]}),e.series[0]&&e.series[0].attr({fill:"60-#ffa200:20-#ffbe32"})}else e=this.r2.piechart(75,75,75,[1],{colors:["#F2E9BE"]}),e.series[0].attr({fill:"60-#fcc34b:20-#fe922e"});else{var t=[1];e=this.r2.piechart(75,75,75,t,{colors:["#e2e2e2"]}),this.$("#daily-donut-text").addClass("no-goal")}var i="#fff",s="#fff6e6";this.r2.circle(75,75,65).attr({fill:duo.user.get("daily_goal")&&duo.user.get("daily_goal")-this.xp_today<=0?s:i,stroke:i});this.xp_today>99&&this.$("#daily-donut-text .stat-text").css({"font-size":this.xp_today>999?"30px":"35px"})},switchToTab:function(e,t){"store"==e?(t||duo.homeRouter.navigate("/show_store"),this.$("#rupee-store-view").show(),document.body.scrollTop=document.documentElement.scrollTop=0,this.$(".tree").hide(),this.store_view&&this.store_view.render()):(this.$("#rupee-store-view").hide(),this.$(".tree").show(),"bonus-row"==e&&this.scrollToBonusRow())},switchTab:function(e){var t=s(e.currentTarget),i=t.data("tab");this.tab=i,i&&(this.switchToTab(i),"store"==i&&l.track("click store"))},showFinishedModal:function(){if(duo.user&&this.model.get("id")===duo.user.id&&!duo.mobile_web_view){var e={model:this.model},t="en"===duo.user.get("learning_language")&&"experiment"===d.getConditionAndTreat("web_tc_big_boss_experiment","show_finished_modal");e[t?"tcBigBoss":"skipToAwesome"]=!0;var i=new _(e);i.render(),i.$el.appendTo("body").modal({keyboard:!0,backdrop:!0,show:!0}).on("hidden",function(){i.remove()}),s("#awesome-modal").modal("show")}},showTCCertificate:function(){if(this.model.has("exams")&&this.model.get("exams").length){var e=this.model.get("exams");window.open(a.last(e).certificate,"_blank")}},clickRealWorldPractice:function(){this.$("#real-world-practice").hasClass("disabled")||duo.homeRouter.realWorldPractice()},certifyMyScore:function(){l.track("click",{which:"certify my score button",source:"profile sidebar"}),window.open("https://testcenter.duolingo.com/","_blank")},postLinkedIn:function(){l.track("click",{which:"fluency score on LinkedIn",source:"profile sidebar"});var e=s(".fluency-score-actions .share-action-failed");e.hide();var t=duo.user.getSkills().linkedin_share_url;if(t)window.open(t,"_blank");else{var i="Unable to connect to LinkedIn. Please try again later.";e.text(r(i)).show()}},dismissDashboardNotification:function(){var e="dashboard_ad";l.track(e,{action:"dismiss"}),duo.user.dismissNotification(e),this.$(".box-dashboard").animate({opacity:0})},showAssignmentsModal:function(){var e=this,t=this.assignments,i=new g([],{language_specific:!0,sortBy:"due"});i.fetch({data:{status:"complete"},success:function(){var s=new m({incomplete_assignments:t,complete_assignments:i,super_el:e.$el});e.$el.append(s.render().el)}})}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(5),r=i(4),l=i(101),d=i(24).createModal,c=i(448);i(13);e.exports=n.View.extend({template:c,events:{"click .buy-item":"confirmClick","click .take-test":"takeTest","click .leave-store":"leaveStore"},initialize:function(e){this.listenTo(this.model,"change",this.render)},render:function(){var e=duo.user.getSkills(),t=duo.user.get("learning_language"),i={wager_day:"rupee_wager"in duo.user.get("inventory")?duo.user.get("inventory").rupee_wager:0,language_string:duo.user.get("learning_language_string"),learning_language:t,has_certificates:duo.user.has("certificates")&&duo.user.get("certificates").length,num_rupees:duo.user.get("rupees"),store_bonus_skills:this.model.get("bonus_skills").length>0&&"bonus_rows"in e&&e.bonus_rows.length>0&&e.bonus_rows[0]<=duo.user.getSkills().max_tree_level,remove_progress_quiz:"en"===t&&duo.user.get("ab_options").web_remove_quiz_experiment,fewer_level_lingots:"2_level_lingots"===duo.user.get("ab_options").ios_30_gated_skills_test};this.$el.html(s.duostache(this.template,a.extend(this.model.toJSON(),i)));var n=new l({el:this.$(".trial-account-overlay"),type:"store"});n.render();var o=this;return a.defer(function(){o.$(".store-row").each(function(){s(this).absoluteTableCell()}),o.options.scroll&&a.defer(function(){s("html, body").animate({scrollTop:s("#"+o.options.scroll).offset().top-.2*s(window).height()},500),o.options.scroll=!1,duo.homeRouter.navigate("/show_store",{replace:!0})})}),this},confirmClick:function(e){var t=s(e.currentTarget).data("type"),i=(s(e.currentTarget).closest("div").siblings(".item-headline").text(),s(e.currentTarget).closest("ul").hasClass("bonus-skill-items")),n=i?a.findWhere(this.model.get("bonus_skills"),{name:t}).price:this.model.get("prices")[t];if(n>duo.user.rupees)return alert("you can't afford this item"),!1;var o=this;r.track("purchase_item",{item_name:t}),s.post("/store/purchase_item",{item_name:t,learning_language:duo.user.get("learning_language")},function(e){var r=duo.user.get("inventory");i||"certification"==t?r[t+"_"+duo.user.get("learning_language")]=e[t]:r[t]=e[t],s("#num-rupees").text(duo.user.get("rupees")-n);var l=duo.user.get("rupees");if(duo.user.set({rupees:l-n},i?void 0:{silent:!0}),i)duo.user.set("add_bonus_skill",!0),duo.homeRouter.navigate("/");else{duo.topbar.render(),duo.topbar.homeTab();var d=o.model.updateStoreInfoForUser();o.model.set(d)}"certification"==t&&a.defer(o.takeTest)})},takeTest:function(){d({type:"test_confirm",title:o("Do you want to take the quiz now?"),message_type:"custom_message",message:o("The quiz can take up to 20 minutes and cannot be paused once it begins."),callback:function(){r.track("request_certificate_exam"),n.history.navigate("/certification/"+duo.user.get("learning_language"),!0)}})},leaveStore:function(){duo.homeRouter.navigate("/")}})},function(e,t,i){var s=i(1),a=i(2),n=i(58),o=i(522);i(13);e.exports=n.extend({template:o,events:{"click .dismiss-warning":"dismissNotification"},initialize:function(e){this.messages=a.filter(e.messages,function(e){return"lesson_strength_bar"==e}),this.current_message=this.getRandomMessage(),this.message_data={},e.message_data&&(this.message_data=e.message_data)},render:function(){return this.$el.html(s.duostache(this.template)),this},dismissNotification:function(){s("#modal-notification").modal("hide"),duo.user.dismissNotification(this.current_message)}})},function(e,t,i){"use strict";var s=i(1),a=i(2),n=i(58),o=i(523);i(13),e.exports=n.extend({template:o,events:{"click .dismiss-warning":"dismissNotification"},initialize:function(e){this.messages=a.filter(e.messages,function(e){return"t13n_toggle"===e}),this.current_message=this.getRandomMessage(),this.message_data={},e.message_data&&(this.message_data=e.message_data)},render:function(){return this.$el.html(s.duostache(this.template)),this},dismissNotification:function(){s("#modal-notification").modal("hide"),duo.user.dismissNotification(this.current_message)}})},function(e,t,i){var s=i(37),a=i(552);e.exports=s.extend({template:a})},function(e,t,i){var s=i(1),a=i(3),n=i(554);e.exports=a.View.extend({template:n,render:function(){return this.$el.html(s.duostache(this.template)),window.scrollTo(0,0),this}})},function(e,t,i){var s=i(37),a=i(556);e.exports=s.extend({template:a})},function(e,t,i){var s=i(37),a=i(557);e.exports=s.extend({template:a,initialize:function(e){this.data=e}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(558);i(7);e.exports=n.View.extend({template:o,events:{"click #email-app-link":"showLinkPopover","click #get-app-link":"getAppLink","keyup #email":"keyCheckEmail","click input":"enableSend","keyup #email":"enableSend"},initialize:function(){this.launch=new Date(2012,10,13),duo.topbar.bind("navigate",this.stop)},render:function(){var e=new Date,t=(this.launch-e)/1e3;parseInt(t%60),parseInt(Math.floor(t/60))%60,parseInt(Math.floor(t/3600))%24,parseInt(Math.floor(t/86400));this.$el.html(s.duostache(this.template,{ui_language:duo.user?duo.user.get("ui_language"):duo.browser_language,email:duo.user&&!duo.user.get("trial_account")?duo.user.get("email"):""})),window.scrollTo(0,0),this.send_iphone=!1;var i=this;return a.defer(function(){i.$("label").inFieldLabels()}),this},showLinkPopover:function(){this.$("#app-link-popover").fadeToggle()},keyCheckEmail:function(e){13===e.which&&this.getAppLink()},getAppLink:function(){var e=s.trim(this.$("#email").val()),t=duo.user?duo.user.get("ui_language"):duo.browser_language,i=this,a=this.$('input[name="device-choice"]:checked').val();return a?void s.post("/app_link",{email:e,lang:t,iphone:"apple"==a},function(e){"ok"===e.response?i.$("#app-link-popover").hide():i.$("#message").fadeIn().delay(1e3).fadeOut()}):!1},enableSend:function(){var e=s.trim(this.$("#email").val()),t=this.$('input[name="device-choice"]:checked').val();""!=e&&t?this.$("#get-app-link").removeAttr("disabled"):this.$("#get-app-link").attr("disabled","disabled")},closeModal:function(){this.$(".modal").modal("hide")}})},function(e,t,i){var s=i(37),a=i(559);e.exports=s.extend({template:a})},function(e,t,i){var s=i(1),a=i(3),n=i(560);e.exports=a.View.extend({template:n,render:function(){return this.$el.html(s.duostache(this.template)),window.scrollTo(0,0),this}})},function(e,t,i){var s=i(37),a=i(561);e.exports=s.extend({template:a})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(562),r=i(367),l=i(166),d=i(363),c=i(358),u=i(359),h=i(362),g=i(364),p=i(357),_=i(360),m=i(366),v=i(361),f=i(59);e.exports=n.View.extend({id:"app",events:{"click .nav-tabs li":"onTabSwitch"},template:o,initialize:function(){var e="tab-container";this.termsView=new r({id:e}),this.helpView=new l({id:e}),this.privacyView=new d({id:e}),this.guidelinesView=new c({id:e}),this.infoView=new u({id:e}),this.pressView=new h({id:e}),this.researchView=new g({id:e});var t=this;s.get("/jobs_list",function(i){t.jobsView=new _({id:e,data:i})},"json"),this.jobsView=new _({id:e}),this.teamView=new m({id:e}),this.contactView=new p({id:e}),this.mobileView=new v({id:e})},render:function(){return this.$el.html(s.duostache(this.template)),a.defer(function(){var e=new f({el:s("#footer-sitemap"),logged_in:!!duo.user});e.render()}),this},tab:function(e){this.$("#"+this.current_tab+"_tab").parent().removeClass("active"),this.$("#"+e+"_tab").parent().addClass("active"),this.$("#tab-container").replaceWith(this[e+"View"].render().el),this[e+"View"].delegateEvents(),this.current_tab=e,this.switchToTab(e+"_tab"),this.$(".tabs").toggle("mobile"!=e);var t=a.contains(["mobile","terms","privacy","help","guidelines"],e);this.$(".about-banner").toggle(!t),this.$(".tabs.nav-tabs").toggle(!t),this.$(".mobile-banner").toggle("mobile"==e)},clear:function(){this.model.unbind("change",this.saved)},onTabSwitch:function(e){
var t=s(e.currentTarget);this.switchToTab(t.data("tab"))},switchToTab:function(e){this.$(".tabs li").removeClass("active"),this.$('.tabs li[data-tab="'+e+'"]').addClass("active")}})},function(e,t,i){var s=i(37),a=i(563);e.exports=s.extend({template:a})},function(e,t,i){var s=i(1),a=i(3),n=i(564);e.exports=a.View.extend({id:"tab-container",template:n,render:function(){return this.$el.html(s.duostache(this.template)),window.scrollTo(0,0),this}})},function(e,t,i){var s=i(1),a=i(3),n=i(565);e.exports=a.View.extend({template:n,id:"app",render:function(){return s("#zendesk-wrapper").hide(),this.$el.html(s.duostache(this.template,{logged_in:duo.user})),window.scrollTo(0,0),this}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(176),r=i(165),l=i(53),d=i(566);e.exports=n.View.extend({id:"app",template:d,initialize:function(){duo.user.updateActivity(a.bind(this.updateActivity,this),{silent:!0},!0)},render:function(){if(this.$el.html(s.duostache(this.template,duo.user.toJSON())),this.$("#no-friends").hide(),this.model.hasFriendshipsLoaded()){var e=new o({model:this.model,el:this.$("#friends"),show_add_friends:!0});e.render()}else this.model.getFriendships(!0,function(){var e=new o({model:this.model,el:this.$("#friends"),show_add_friends:!0});e.render()},this);return this.leader_view?(this.$("#ranking").replaceWith(this.leader_view.el),this.leader_view.delegateEvents()):(this.leader_view=new r({model:this.model,el:this.$("#ranking")}),this.leader_view.render()),s(this).fixedSidebar(),this},updateActivity:function(){duo.user.get("events").profile_view=!1,duo.user.get("events").user_id=duo.user.id;var e=new l({el:this.$("#stream-container"),collection:duo.user.get("events"),model:this.model,home_view:!0});e.render(),0==duo.user.get("events").length&&this.$("#no-friends").show()}})},function(t,i,s){var a=s(1),n=s(2),o=s(5),r=s(8),l=s(574);s(7);t.exports=r.extend({template:l,events:{"input #url-input":"checkAutoPreviewButton","click .tab":"switchTab","blur #paste-text":"getEditData","change #manual-category":"checkForSubmit","change #manual-language":"checkForSubmit","keyup #paste-text":"keyPressContent","change #paste-text":"keyPressContent","keyup .article-headline":"keyPressContent","change .article-headline":"keyPressContent"},initialize:function(e){this.tab="automatic",this.edited=!1},render:function(){var e=this.model.toJSON();e.count=0,e.cost=0,e.free_upload="free"==this.model.get("upload_type"),e.commercial_user=duo.user.get("commercial_user"),this.$el.html(a.duostache(this.template,e));var t=this;return n.defer(function(){t.$("label").inFieldLabels()}),this.changePages(this.tab),this.checkForSubmit(),this},checkAutoPreviewButton:function(){""!=a.trim(this.$("#url-input").val())?this.$(".see-preview").removeAttr("disabled"):(this.$(".see-preview").attr("disabled","disabled"),this.$(".preview-failure").hide()),a("#prev").removeClass("change-step").addClass("inactive")},switchTab:function(e){var t=a(e.currentTarget).data("type");this.changePages(t)},changePages:function(e){this.$(".tab").removeClass("active"),this.$("."+e).addClass("active"),this.$(".panel").hide(),this.$("#"+e+"-upload").show(),this.tab=e,"manual"==e&&a.trim(""!=this.$("#paste-text").val())&&this.getEditData()},getEditData:function(){if(this.model.get("preview_data")||""==a.trim(this.$("#paste-text").val()))return!1;var t=this.$("#paste-text").val(),i=this.$(".article-headline").val(),s=this;a.post("/translate_jobs/manual_parse",{text:t,title:i},function(t){if(t.preview_failed)return s.$("#preview-failed").show(),e.stopPropagation(),!1;if(t.success){s.model.set({preview_data:t});var i=s.model.toJSON(),n=i.preview_data.categories,r=i.preview_data.target_languages;a.each(n,function(e,t){s.$("#manual-category").append(a("<option></option>").attr("value",t.id).text(o(t.label)))}),a.each(r,function(e,t){s.$("#manual-language").append(a("<option></option>").attr("value",t.id).text(o(t.name)))});var l=i.preview_data.language;l&&a("option[value="+l+"]").attr("selected","selected");var d=i.preview_data.category;d&&a('option[value="'+d+'"]').attr("selected","selected"),s.checkForSubmit()}"free"!=s.model.get("upload_type")&&s.countWords()})},checkForSubmit:function(){var e=a.trim(this.$("#paste-text").val()),t=a.trim(this.$(".article-headline").val()),i=this.$("#manual-category"),s=this.$("#manual-language"),n="None"!=i.val()&&"None"!=s.val()&&""!=e&&""!=t;n?this.$(".manual-submit").removeAttr("disabled"):this.$(".manual-submit").attr("disabled","disabled")},keyPressContent:function(){a("#prev").removeClass("change-step").addClass("inactive"),this.countWords()},countWords:function(e){var t=0,i=a.trim(this.$(".article-headline").val()+" "+this.$("#paste-text").val());i&&(t=i.split(/\s+/g).length);var s=(t*duo.user.get("cost")).toFixed(2);this.$("#word-count").html(a.duostache("{{count}}",{count:t})),this.$("#cost").html(a.duostache("{{cost}}",{cost:s})),this.model.set({cost:s})}})},function(e,t,i){var s=i(1),a=i(8),n=i(575);e.exports=a.extend({template:n,initialize:function(e){this.data_source=void 0,this.parent_view=e.parent_view},render:function(){var e=this.model.toJSON();return e.from_url="url"==this.data_source,e.free_upload="free"==this.model.get("upload_type"),e.commercial_user=duo.user.get("commercial_user"),this.$el.html(s.duostache(this.template,e)),void 0==this.data_source?this.$("#submit-upload").attr("disabled","disabled"):this.parent_view.checkSubmit(),this}})},function(e,t,i){var s=i(1),a=i(2),n=i(4),o=i(8),r=i(571);e.exports=o.extend({tagName:"li",template:r,events:{"click .downvote":"voteDown","click .vote-down":"voteDown","click .upvote":"voteUp","click .vote-up":"voteUp"},initialize:function(e){this.listenTo(this.model,"change",this.render),this.draft=e.draft},render:function(){this.closeChildViews();var e=a.extend(this.model.toJSON(),{logged_in:!!duo.user&&!duo.user.get("trial_account"),trial_account:duo.user&&duo.user.get("trial_account")});return this.$el.html(s.duostache(this.template,e)),this},rateDocument:function(e,t){(1==e&&this.model.get("user_upvoted")||-1==e&&this.model.get("user_downvoted"))&&(e=0);var i=this;s.post("/documents/"+this.model.get("document").id+"/rate",{rating:e},function(t){i.model.set({votes:t.votes,user_upvoted:1===e,user_downvoted:-1===e})}),n.track("rate document",{rating:e,from:"immersion-page"})},voteUp:function(e){this.rateDocument(1,e),e.stopPropagation()},voteDown:function(e){this.rateDocument(-1,e),e.stopPropagation()}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(4),r=i(8),l=(i(58),i(168)),d=i(172),c=i(169),u=i(127),h=i(573);e.exports=r.extend({id:"app",template:h,events:{"click .translate-main .tabs li":"switchTab","click #upload-document":"uploadDocument","change #sort-list":"switchSorting","change input[type=checkbox]":"changeFiltering","change #select-translation-direction":"changeTranslationDirection","click #explain-translator-tiers":"showTiersModal","click #learn-more":"showTiersModal","click #dismiss-tier-explanation":"hideTiersModal","click #show-upvotes":"showVotesModal","click #show-downvotes":"showVotesModal","click #dismiss-votes-modal":"hideVotesModal","click .modal .close":"hideModals","click .dismiss-intro-owl":"dismissIntroOwl","keyup #search-translations":"keyCheckSearch","click .clear-button":"clearSearch","click .toggle-sidebar-item":"toggleSidebarItem"},initialize:function(){this.listenTo(this.model,"change",this.render),n.history.once("route",this.close,this),this.panel_name=this.model.get("sort"),this.throttledSearch=a.debounce(this.refetch,500),this.model.get("show_intro_owl")&&o.track("show_immersion_intro_owl")},onClose:function(){this.hideModals()},render:function(){this.closeChildViews();var e=a.extend(this.model.toJSON(),{logged_in:!!duo.user,trial_account:duo.user&&duo.user.get("trial_account")});this.$el.html(s.duostache(this.template,e));var t=[];this.model.get("show_tier_sentence_length_notification")&&t.push("immersion_tier_points_depend_on_sentence_length"),this.model.get("show_tier_percent_positive_notification")&&t.push("immersion_tier_percent_positive");var i=["default","date","net_upvotes","history"];1==this.$("#uploaded-tab").size()&&i.push("uploaded");for(var n=0;n<i.length;n++){var o=i[n],r=new l({el:this.$("#"+o+"-tab"),collection:this.model.get(o+"_translations"),sort:o,parent_view:this});o==this.panel_name&&r.render(),this.addChildView(r)}return this.updateAllCheckbox(),this.$("#"+this.panel_name+"-tab").removeClass("hidden"),this},switchTab:function(e){var t=s(e.currentTarget),i=t.data("tab");"all"==i&&(i=this.saved_sort_val?this.saved_sort_val:this.$("#sort-list").val());var a=this.$("#"+i+"-tab");this.$(".panel").hide(),a.show(),t.data("tab")&&(this.$(".translate-main .tabs li").removeClass("active"),t.addClass("active")),"history"==i||"uploaded"==i?(this.disableSorting(),this.disableCheckBoxes(),this.disableSearchBar()):(this.reenableSorting(),this.reenableCheckBoxes(),this.reenableSearchBar()),this.panel_name=i,this.refetch()},switchSorting:function(){var e=this.$("#sort-list").val(),t=this.$("#"+e+"-tab");this.$(".panel").hide(),t.show(),this.panel_name=e,this.refetch(),duo.user&&s.post("/translations/set_preferred_sorting_rule",{rule:e})},uploadDocument:function(){this.$("#paid-translation-upload").hide(),this.upload||(this.upload=new c({model:new n.Model}),this.upload.render()),this.$("#translation-tabs").hide(),this.$("#translation-upload").show(),this.$("#upload-url").focus()},selectedPanelName:function(){var e=this.$(".translate-main .tabs li.active").data("tab");return"history"==e||"uploaded"==e?e:this.$("#sort-list").val()},changeFiltering:function(e){var t=this.selectedPanelName(),i=s(e.currentTarget).closest("ul").attr("id"),a=s(e.currentTarget).attr("value"),n=s(e.currentTarget).is(":checked"),r={document_type:a,preferred:n};if("categories"==i)if("all"==a){if(!n)return this.$("#all-categories").prop("checked",!0),!1;this.$(".category-checkbox").prop("checked",!1),s.post("/translations/set_preference_all_document_categories",{preference:!0})}else this.$("#all-categories").is(":checked")?(this.$("#all-categories").prop("checked",!1),duo.user&&s.post("/translations/set_preference_all_document_categories",{preference:!1},function(){s.post("/translations/set_document_type_preference",r)})):0==this.$(".category-checkbox:checked").length?(this.$("#all-categories").prop("checked",!0),duo.user&&s.post("/translations/set_preference_all_document_categories",{preference:!0})):duo.user&&s.post("/translations/set_document_type_preference",r);else{var l=s("#"+i+' input[type="checkbox"]:checked');if(!(l.length>0||"content-rating"==i))return s(e.currentTarget).prop("checked",!0),!1;duo.user&&s.post("/translations/set_document_type_preference",r)}var d=this.getFilterOptions();if(!d.none_selected){var c=t+"_translations";d.per_page=10,this.model.get(c).fetch({data:d}),o.track("click_immersion_checkbox",{filter_type:i,filter_option:a})}},changeTranslationDirection:function(e){var t=s(e.currentTarget).find(":selected"),i=t.data("source"),a=t.data("target");duo.loggedOutTranslationRouter.navigate("/translations/"+i+"/"+a,!0)},updateAllCheckbox:function(){this.$('.category-option input[type="checkbox"]:checked').length==this.$(".category-option").length?(this.$("#all-categories").prop("checked",!0),this.$(".category-checkbox").prop("checked",!1)):this.$("#all-categories").prop("checked",!1)},keyCheckSearch:function(e){var t=s.trim(this.$("#search-translations").val());t.length?this.$(".clear-button").show():this.$(".clear-button").hide(),13==e.which?this.refetch():this.throttledSearch()},clearSearch:function(){this.$("#search-translations").val(""),this.$(".clear-button").hide(),this.refetch()},refetch:function(){var e=this.getFilterOptions(),t=this.panel_name+"_translations";return e.none_selected?void this.model.get(t).reset([]):void this.model.get(t).fetch({data:e})},disableSorting:function(){var e=this.$("#sort-list");e.attr("disabled")||(this.saved_sort_val=e.val(),e.val("date"),e.attr("disabled",!0),this.$("#sort-list-label").attr("disabled",!0))},reenableSorting:function(){var e=this.$("#sort-list");this.saved_sort_val&&(e.val(this.saved_sort_val),this.saved_sort_val=void 0),e.attr("disabled",!1),this.$("#sort-list-label").attr("disabled",!1)},disableCheckBoxes:function(){if(!this.filtering_disabled){var e=this.$('input[type="checkbox"]');this.was_checked=Array();for(var t=0;t<e.length;t++){var i=s(e[t]);this.was_checked.push(i.prop("checked")),i.attr("disabled",!0),i.prop("checked",!i.hasClass("category-checkbox")||"all"==i.attr("id"))}this.filtering_disabled=!0}},reenableCheckBoxes:function(){if(this.filtering_disabled){for(var e=this.$('input[type="checkbox"]'),t=0;t<e.length;t++){var i=s(e[t]);i.attr("disabled",!1),i.prop("checked",this.was_checked[t])}this.filtering_disabled=!1}},disableSearchBar:function(){this.$("#search-translations").val("").attr("disabled",!0),this.$(".clear-button").hide()},reenableSearchBar:function(){this.$("#search-translations").attr("disabled",!1)},getFilterOptions:function(){var e=[],t='.category-option input[type="checkbox"]';this.$("#all-categories").is(":checked")||(t+=":checked"),s(t).each(function(){e.push(s(this).attr("value"))});for(var i=this.model.get("filters"),a=0;a<i.length;a++){var n=i[a].id,o=s("#"+n+' input[type="checkbox"]:checked');if(0==o.length)return{none_selected:"true"};o.each(function(){e.push(s(this).attr("value"))})}var r=this.$("#content-rating_2");1==r.length&&r.is(":checked")&&e.push("content-rating_2");var l={document_types:e.join("|")},d=s.trim(this.$("#search-translations").val());return d.length>0&&(l.search_text=d),l},showTiersModal:function(){this.$("#translator-tier-explanation").modal("show")},hideTiersModal:function(){this.$("#translator-tier-explanation").modal("hide")},showVotesModal:function(){var e={source_lang:this.model.get("source_language"),target_lang:this.model.get("target_language")};this.votes_model=new u(e);var t=this;this.votes_model.fetch({success:function(){var e=t.$("#show-your-votes-body"),i=new d({el:e,model:t.votes_model});i.render();var s=t.$("#show-your-votes");s.modal("show"),o.track("show_translation_votes")}})},hideVotesModal:function(){this.$("#show-your-votes").modal("hide")},hideModals:function(){this.hideTiersModal(),this.hideVotesModal()},dismissIntroOwl:function(){this.$(".immersion-intro").hide(),this.$(".translate-main").removeClass("intro-fade"),duo.user.dismissNotification("immersion_intro_owl"),o.track("dismiss_immersion_intro_owl")},toggleSidebarItem:function(e){var t=s(e.currentTarget),i=t.data("id");t.toggleClass("active",!t.hasClass("active"));var a=t.hasClass("active");"your-translation-tier"==i&&this.$(".translator-stats").toggleClass("collapsed",!a),this.$("#"+i).toggle(a),s.post("/translations/set_item_visibility_preference",{item:i,preference:a})}})},function(e,t,i){var s=i(1),a=i(8),n=i(576);e.exports=a.extend({template:n,events:{},render:function(){var e=this.model.toJSON();return e.commercial_user=duo.user.get("commercial_user"),this.$el.html(s.duostache(this.template,e)),duo.user.get("commercial_user")||(this.$("#paid-upload").attr("disabled","disabled"),this.$("#paid-upload").addClass("disabled")),this}})},function(e,t,i){var s=i(1),a=i(2),n=i(8),o=i(577);e.exports=n.extend({template:o,initialize:function(e){this.pane=e.pane||""},render:function(){var e=this.model.toJSON();if(this.pane&&(e=a.extend(e,{pane:this.pane})),e.custom_html){var t='<span class="sentence-wrapper" data-index="{{index}}" id="'+this.pane+'sentence-wrapper-{{index}}"></span>';e.custom_html=e.custom_html.replace(new RegExp("{{S([0-9]+)}}","g"),function(e,i){return t.replace(new RegExp("{{index}}","g"),i)})}return this.$el.addClass("wiki-document-body"),this.$el.html(s.duostache(this.template,e)),this}})},function(e,t,i){var s=i(1),a=i(8),n=i(567);e.exports=a.extend({template:n,initialize:function(){this.listenTo(this.model,"change:selected_sentence_index",this.render)},render:function(){return this.$el.html(s.duostache(this.template,this.model.toJSON())),this}})},function(e,t,i){var s=i(1),a=i(8),n=i(581);e.exports=a.extend({events:{"click .report-translator-cheating":"reportTranslatorCheating"},template:n,initialize:function(e){this.sentence_model=e.sentence_model,this.revision_history_model=e.revision_history_model,this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return this.$el.html(s.duostache(this.template,e)),this},reportTranslatorCheating:function(e){e.stopPropagation();var t=this.model.get("user_id"),i=this.model.get("reported_cheating");this.sentence_model.reportTranslatorCheating(t,i,this.revision_history_model)}})},function(e,t,i){var s=i(1),a=i(2),n=i(5),o=i(4),r=i(8),l=i(578),d=i(126),c=i(171);i(7);e.exports=r.extend({template:l,events:{"click .cancel-edit":"cancelEdit","click .cancel-open":"cancelOpen","click .save-edit":"saveEdit","click .image-contains-no-text":"clickImageContainsNoText","keypress .wiki-textarea":"handleKeyPress","keypress .wiki-edit-explanation":"handleKeyPress","keyup .wiki-textarea":"handleTextChanged","focus .wiki-textarea":"focusTextArea","click .edit-button":"makeEditable","click .rate-translation-option":"rateTranslationHandler","click .close":"closeSentence","click .report-translator-cheating":"reportTranslatorCheating","click .toggle-machine-translation":"toggleMachineTranslation","input .wiki-textarea":"updateShareCreditDefault",'change input[type="checkbox"][name="share-credit"]':"shareCreditChanged","click .share-credit .question-mark":"toggleShareCreditExplanation","click .dismiss-share-credit-explanation":"hideShareCreditExplanation"},initialize:function(e){this.parent_view=e.parent_view,this.document_model=e.document_model,this.revisions_model=e.revision_history_model,this.listenTo(this.model,"change:open",this.openOrClose),this.listenTo(this.model,"change:editable change:cur_translation change:user_rating change:num_upvotes change:num_downvotes change:multiple_revisions change:num_sentences_left change:just_finished_article change:reported_cheating change:show_machine_translation",this.render),this.listenTo(this.model,"change:document_vote_sum",this.renderVotes),this.listenTo(this.model,"change:user_rating",this.mirrorUserRating),this.listenTo(this.revisions_model,"change:multiple_revisions",this.mirrorMultipleRevisions)},render:function(){var e=this.model.toJSON();e.allow_toggle_machine_translation=!e.cur_translation&&!e.is_image_sentence&&e.machine_translation&&"None"!=e.machine_translation,this.$el.html(s.duostache(this.template,e)),this.$(".wiki-textarea").toggleClass("error",1==this.model.get("rejected")),this.$(".error-flag").toggle(1==this.model.get("rejected")),this.updateElementVisibility(),this.sizeTextarea();var t=this.$("#revisions-stream");this.revisions_stream_view=new c({el:t,model:this.revisions_model,document_model:this.document_model,sentence_model:this.model,parent_view:this}),this.revisions_stream_view.render(),this.addChildView(this.revisions_stream_view);var i=this;a.defer(function(){i.$("label").inFieldLabels(),i.model.get("cur_translation_or_no_need")||i.$(".edit-text-input").focus()}),this.$(".coin").hide();var n=this.$("#translation-votes-"+this.model.get("index"));return this.model.get("user_rating")&&(this.model.previous("user_rating")?n.show():n.slideDown()),this},openOrClose:function(){var e=1==this.model.get("open");e&&(this.render(),this.fetchRevisions()),this.$el.toggle(e)},shouldShow:function(){return 1==this.model.get("open")&&!(this.parent_view&&this.parent_view.model.get("view_both"))},fetchRevisions:function(){var e=this;this.revisions_model.fetch({success:function(t){e.revisions_stream_view.render()}})},renderVotes:function(){this.$(".sent-trans-vote-count").text(this.model.get("vote_sum"))},mirrorUserRating:function(){this.revisions_model.set("user_rating",this.model.get("user_rating"))},mirrorMultipleRevisions:function(){this.model.set("multiple_revisions",this.revisions_model.get("multiple_revisions"))},rateTranslationHandler:function(e){var t=parseInt(s(e.currentTarget).data("rating"));this.rateTranslation(t)},rateTranslation:function(e){var t=this.model.get("index");if(this.parent_view.checkCanRate(t)){var i=this.$(".rate-translation-option[data-rating="+e+"]"),s=i.hasClass("active");this.$(".rate-translation-option").removeClass("active"),i.toggleClass("active",!s),this.parent_view.rateTranslation(t,e)}},toggleShareCreditExplanation:function(e){this.$(".share-credit-explanation").toggle()},hideShareCreditExplanation:function(e){this.$(".share-credit-explanation").hide()},sizeTextarea:function(){var e=this.$(".wiki-textarea");if(0!=e.size()){var t=e[0].scrollHeight-20;t>e.height()&&e.height(t)}},updateElementVisibility:function(){var e=1==this.model.get("editable");this.$(".cur-translation").toggle(!e),this.$(".wiki-textarea-container").toggle(e)},cancelEdit:function(e,t){if(!e||!s(e.currentTarget).attr("disabled")){var i=null,a=this.model.get("rejected");t?i=this.$(".wiki-textarea").val():a=!1,this.$(".edit-button").removeClass("active"),this.$(".translation-buttons").hide();var n=!this.model.get("cur_translation_or_no_need");this.model.set({editable:n,user_input:i,rejected:a,pending_user_input:!1}),this.model.get("cur_translation_or_no_need")||this.parent_view.switchSentence(-1)}},cancelOpen:function(e){this.parent_view.switchSentence(-1)},saveEdit:function(){var e=!this.model.get("can_edit");this.saveOrSuggestEdit(e)},saveOrSuggestEdit:function(e){if(!this.$(".save-edit").attr("disabled")){var t=s.trim(this.$(".edit-text-input").val());if(""!=t){var i=s.trim(this.$(".wiki-edit-explanation").val()),o=this.model;if((t!=o.get("cur_translation")||duo.user.id==o.get("user_id")&&i!=o.get("explanation"))&&(o.get("cur_translation")||this.parent_view.checkCanTranslate(o.get("index")))){var r=this.$('input[type="checkbox"][name="share-credit"]').is(":checked");this.$(".save-edit").attr("disabled",!0),this.$(".cancel-edit").attr("disabled",!0),o.set({user_input:t});var l=!e,c=0,u=this,h={};if(l){var g={cur_translation:t,cur_translation_or_no_need:!0,user_id:duo.user.id,username:duo.user.get("username"),user_reputation_tier:u.document_model.get("user_reputation_tier"),user_rating:1,user_approved:!0,user_disapproved:!1,num_upvotes:1,num_downvotes:0,latest_translation_from_self:!0,editable:!1,user_input:null,explanation:i,multiple_revisions:!!o.get("cur_translation"),user_says_no_need_to_translate:!1,rejected:!1},p=[];for(var _ in g)p.push(_);h=o.multiGet(p),o.get("cur_translation")?o.get("latest_translation_from_self")||(c=u.numPointsForEditing(o.get("num_words"),o.get("cur_translation"),t)):c=o.get("num_points_for_original_translation"),o.set(g),u.parent_view.updateNumSentencesDone(),u.parent_view.incrementCoinCount(c,null),u.document_model.addTranslator(),u.parent_view.updateSelectedSentenceInfo(o.get("index")),u.document_model.trigger("change:selected_sentence_index");var m=new d;m.set({revision_from_self:!0,text:t,no_diff:!0,username:duo.user.get("username"),user_reputation_tier:u.document_model.get("user_reputation_tier"),date:n("just now"),explanation:i}),u.revisions_model.addRevision(m),u.revisions_stream_view.render()}var v=function(e){return e.rejected?(l&&(delete h.rejected,o.set(h),u.parent_view.updateNumSentencesDone(),u.parent_view.incrementCoinCount(-c,null),u.revisions_model.removeLastRevision()),void u.render()):(u.model.set({editable:!1,rejected:!1,user_input:null,num_responses_pending:u.model.get("num_responses_pending")-1}),u.parent_view.updateNumSentencesDone(),u.parent_view.incrementCoinCount(e.num_points_awarded-c,e.level_event),u.document_model.addTranslator(),void u.fetchRevisions())},f=a.extend(this.document_model.mixpanelProperties(),{chars_per_sec:this.parent_view.translation_chars_per_sec});e?this.model.suggestEdit(t,i,v,f):this.model.addRevision(t,i,!1,r,v,f)}}}},numPointsForEditing:function(e,t,i){for(var s=t.split(" "),a=i.split(" "),n=0,o=0;o<a.length;o++)s.indexOf(a[o])<0&&n++;for(var r=0,o=0;o<s.length;o++)a.indexOf(s[o])<0&&r++;var l=Math.min(e,n+r),d=this.document_model.get("num_points_per_word"),c=Math.ceil(d*l);return c},clickImageContainsNoText:function(){var e=this;this.model.imageContainsNoText(function(t,i){e.model.set({editable:!1,rejected:!1,user_input:null}),e.parent_view.updateNumSentencesDone(),e.parent_view.incrementCoinCount(t,i),e.fetchRevisions()})},closeSentence:function(e){this.parent_view.closeSentence()},handleKeyPress:function(e){13==e.which&&(e.preventDefault(),this.$(".save-edit").attr("disabled")||this.saveEdit()),e.stopPropagation(),this.updateShareCreditDefault()},updateShareCreditDefault:function(){var e=this.model.get("user_rating");if(!this.user_changed_credit_sharing&&1!=e&&-1!=e){var t=this.model.get("cur_translation");if(t){var i=this.$(".wiki-textarea").val(),s=o.getEditDistance(t,i),a=this.$('input[type="checkbox"][name="share-credit"]');a.prop("checked",s<.2*t.length)}}},shareCreditChanged:function(){this.user_changed_credit_sharing=!0},handleTextChanged:function(e){this.$(".wiki-textarea").removeClass("error"),this.$(".error-flag").hide(),this.model.set({pending_user_input:!0,rejected:!1}),this.sizeTextarea()},reportTranslatorCheating:function(){var e=this.model.get("user_id"),t=1==this.model.get("reported_cheating");this.model.reportTranslatorCheating(e,t,this.revisions_model)},toggleMachineTranslation:function(e){this.model.set({show_machine_translation:!this.model.get("show_machine_translation"),user_input:this.$(".wiki-textarea").val()}),this.machine_translation_shown||(o.track("wiki_translation_show_duobot"),this.machine_translation_shown=!0)},focusTextArea:function(){this.$(".translation-buttons").show()},getToken:function(e){return this.$("#sentence-"+this.model.get("index")+"-token-"+e)},makeEditable:function(){if(!(this.model.getDefault("num_responses_pending",0)>0)){if(this.model.set("editable",!0),this.$(".edit-button").addClass("active"),this.$(".wiki-textarea").focus(),this.$(".translation-action").hide(),this.model.get("user_id")==duo.user.id){var e=this.model.get("explanation");e&&this.$(".wiki-edit-explanation").text(e)}this.user_changed_credit_sharing=!1}}})},function(e,t,i){var s=i(1),a=i(8),n=i(382),o=i(568);e.exports=a.extend({template:o,initialize:function(){this.listenTo(this.model,"change:selected_sentence_index",this.updateVisibility)},render:function(){this.$el.html(s.duostache(this.template,this.model.toJSON()));var e=new n({el:this.$("#translation-contributors"),model:this.model});return e.render(),this.addChildView(e),this},updateVisibility:function(){this.$el.toggle(-1==this.model.get("selected_sentence_index"))}})},function(e,t,i){var s=i(1),a=i(8),n=i(580);e.exports=a.extend({events:{"click .rate-translation-option":"rateTranslationHandler","click .show-more":"clickShowMore","click .show-less":"clickShowLess","click .save-translation":"saveEdit","click .cancel-translation":"cancelEdit"},template:n,initialize:function(e){this.parent_view=e.parent_view,this.revision_history_model=this.parent_view.revision_history_models[this.model.get("index")],this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"change:content_edit",this.reposition),this.listenTo(this.parent_view.model,"change:view_both",this.render)},render:function(){return 0==this.parent_view.model.get("view_both")||0==this.model.get("open")||!this.model.get("cur_translation")&&!this.model.get("editable")?void this.$el.hide():(this.$el.html(s.duostache(this.template,this.model.toJSON())),this.reposition(),this.$el.show(),this)},clickShowMore:function(e){e.stopPropagation();var t=(this.model.get("index"),{translation_id:this.model.get("translation_id"),document_sentence_id:this.model.get("document_sentence_id")}),i=this;this.revision_history_model.fetch({data:t,success:function(e){i.model.set({show_more:!0}),i.revision_history_model.set("show_more",!0)}})},clickShowLess:function(e){e.stopPropagation();this.model.get("index");this.revision_history_model.set("show_more",!1),this.model.set("show_more",!1)},saveEdit:function(e){e.stopPropagation(),this.parent_view.saveContentEdit(this.model.get("index"))},disableSaveButton:function(){this.$(".save-translation").attr("disabled",!0)},cancelEdit:function(e){e.stopPropagation(),this.parent_view.cancelContentEdit(this.model.get("index"))},reposition:function(){this.parent_view.positionMiniPopover(this.model.get("index"))},rateTranslationHandler:function(e){e.stopPropagation();var t=parseInt(s(e.currentTarget).data("rating"));this.rateTranslation(t)},rateTranslation:function(e){var t=this.model.get("index");if(this.parent_view.checkCanRate(t)){var i=this.$(".rate-translation-option[data-rating="+e+"]"),s=i.hasClass("active");if(this.$(".rate-translation-option").removeClass("active"),i.toggleClass("active",!s),this.parent_view.rateTranslation(t,e),!s&&this.parent_view.coin_for_rating){var a=this.$('.coin[data-rating="'+e+'"]'),n=this.parent_view.model.get("num_points_for_rating");this.parent_view.animateCoin(a,n)}}}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(5),r=i(4),l=i(24).createModal,d=i(167),c=i(34),u=i(41),h=i(127),g=i(172),p=i(57);e.exports=d.extend({id:"app",events:{"click .wiki-paragraph":"clickParagraph","click .sentence-wrapper":"clickSentenceHandler","mouseenter .sentence-wrapper":"hoverSentenceHandler","mouseleave p,h1,h2,img,.wiki-paragraph":"unhoverParagraph","click .rate-document-option":"rateDocument","click #report-inappropriate":"reportInappropriate","click #cancel-report-inappropriate":"cancelReportInappropriate","click #report-inappropriate-reason":"reportInappropriateReason","click #disable-translation":"disableTranslation","click #enable-translation":"enableTranslation","click #view-original":"viewOriginal","click #view-both":"viewBoth","click #view-discussion":"viewDiscussion","mouseleave .page-main":"hoverBackground","keypress .sentence":"sentenceContentChanged","changed .sentence":"sentenceContentChanged","input .sentence":"sentenceContentChanged","click #load-more-sentences":"renderMoreSentences","click #explain-shortcuts":"showShortcutModal","click #dismiss-shortcut-explanation":"hideShortcutModal","click #explain-translator-tiers":"showTiersModal","click #dismiss-tier-explanation":"hideTiersModal","click #show-upvotes":"showVotesModal","click #show-downvotes":"showVotesModal","click #dismiss-votes-modal":"hideVotesModal","click .show-shortcuts":"showShortcuts","click #pg13-continue":"hidePG13Modal","click #pg13-warning-modal .close":"hidePG13Modal","click #toggle-instructions":"toggleInstructions","click #show-legend":"clickShowLegend","click #show-translators":"clickShowTranslators"},initialize:function(e){d.prototype.initialize.call(this,e),this.listenTo(this.model,"change:document_vote_sum",this.renderVotes),this.listenTo(this.model,"change:num_sentences_left",this.updateProgressBarWidth),this.listenTo(this.model,"change:hide_instructions",this.updateInstructionVisibility),this.listenTo(this.model,"change:hide_instructions",this.resizeThings);var t=this,i=function(e){"wrapper"!=e.target.id&&"app"!=e.target.id||t.maybeCloseSentence()};s("#wrapper").click(i),n.history.once("route",function(){s("#wrapper").unbind("click",i)}),s(document).unbind(".translation.keyboard-shortcuts").bind("keydown.translation.keyboard-shortcuts",function(e){t.handleKeyPress(e)}),n.history.once("route",this.close,this),this.open_sentence_index=-1,this.pending_open_sentence_index=-1;var a=this.model.get("translation_comment_id");this.root_comment=new c({id:a}),this.root_comment.bind("change",this.updateNumComments,this);var o=window.performance||{},r=o.now||o.mozNow||o.webkitNow||o.msNow||o.oNow;r&&(this.high_res_now=r.bind(o)),this.last_rating_timestamp=this.curTimestamp()-60,this.last_translation_timestamp=this.last_rating_timestamp,this.on_windows=!window.navigator.platform||-1!=window.navigator.platform.indexOf("Win"),this.enforce_speed_limits=!0},onClose:function(){this.hideVotesModal(),this.hideTiersModal(),this.hideShortcutModal(),s(document).unbind(".translation.keyboard-shortcuts"),s("#dim-site").fadeOut();
},handleKeyPress:function(e){if(!this.model.get("view_discussion")){var t=this.editableSentenceIndex();if(-1!=t){if(27==e.which){e.preventDefault(),e.stopPropagation();var i=this.open_sentence_index;-1!=i&&this.sentence_models[i].get("editable")&&(this.model.get("view_both")?this.cancelContentEdit(i):this.sidebar_views[i].cancelEdit())}return void(13==e.which&&this.model.get("view_both")&&(e.preventDefault(),e.stopPropagation(),this.saveContentEdit(t)))}var s=40,a=38,n=187,o=107,r=189;if(e.which==s){if(e.preventDefault(),e.stopPropagation(),-1!=this.pending_open_sentence_index)return;var i=this.open_sentence_index;-1==i?this.switchSentence(0):i<this.sentence_models.length-1&&(this.switchSentence(i+1),this.scrollIntoViewIfNeeded(i+1))}else if(e.which==a){if(e.preventDefault(),e.stopPropagation(),-1!=this.pending_open_sentence_index)return;var i=this.open_sentence_index;i>0&&(this.switchSentence(i-1),this.scrollIntoViewIfNeeded(i-1))}else if(13==e.which||39==e.which)e.preventDefault(),e.stopPropagation(),this.makeOpenSentenceEditable();else if(27==e.which||37==e.which){e.preventDefault(),e.stopPropagation();var i=this.open_sentence_index;-1==i||this.model.get("view_both")||this.maybeCloseSentence()}else if(e.which==n||e.which==o||e.which==r||e.which==o){var i=this.open_sentence_index;if(-1==i)return;var l=e.which==n||e.which==o?1:-1;this.model.get("view_both")?this.mini_popover_views[i].rateTranslation(l):this.sidebar_views[i].rateTranslation(l)}}},showShortcuts:function(){s("#show-shortcuts").click()},scrollIntoViewIfNeeded:function(e){var t=this;a.delay(function(){t.model.get("view_both")&&t.$("#mini-popover-"+e).get(0).scrollIntoViewIfNeeded(),t.$("#sentence-wrapper-"+e).get(0).scrollIntoViewIfNeeded()})},maybeCloseSentence:function(){this.pendingUserInput()||this.closeSentence()},closeSentence:function(){this.switchSentence(-1),this.setHovered(-1)},updateNumComments:function(){var e=this.root_comment.get("num_comments");this.model.set("num_comments",e);var t=o(e>0?"Discuss ("+e+")":"Discuss");this.$("#discuss-button-text").text(t)},hoverBackground:function(e){if(this.model.get("view_both")){var t=this.$(".page-main");if(e.pageX>=t.offset().left&&e.pageX<=t.offset().left+t.outerWidth()&&e.pageY>=t.offset().top&&e.pageY<=t.offset().top+t.outerHeight())return;this.maybeCloseSentence()}},sentenceContentChanged:function(e){var t=s(e.currentTarget).data("index");if(this.isContentEditable(t)){13==e.which&&(e.preventDefault(),e.stopPropagation(),this.saveContentEdit(t));var i=s.trim(this.$("#trans-sentence-"+t).text());this.sentence_models[t].set("content_edit",i)}},cancelContentEdit:function(e){this.setContentEditable(e,!1);var t=this.sentence_models[e];t.set({editable:!1,rejected:!1,content_edit:null}),t.trigger("change:rerender")},saveContentEdit:function(e){if(this.sentence_models[e].get("cur_translation")||this.checkCanTranslate(e)){var t=s.trim(this.$("#trans-sentence-"+e).text()),i=this.sentence_models[e];if(t==i.get("cur_translation"))return void this.cancelContentEdit(e);this.mini_popover_views[e].disableSaveButton();var n=(!i.get("user_rating"),""),r=this,l=a.extend(this.model.mixpanelProperties(),{chars_per_sec:this.translation_chars_per_sec});i.addRevision(t,n,!1,!1,function(t){if(r.setContentEditable(e,!1),t.rejected)return i.set({content_edit:null,rejected:!0}),i.trigger("change:rerender"),void alert(o("Translation does not seem correct."));var s=r.$("#trans-sentence-coin-"+e);r.animateCoin(s,t.num_points_awarded),i.set({editable:!1,rejected:!1,content_edit:null}),r.updateNumSentencesDone(),r.incrementCoinCount(t.num_points_awarded,t.level_event),r.model.addTranslator(),r.sentence_models[e].get("show_more")&&r.show_more_views[e].fetchAndRender()},l)}},showShortcutModal:function(){this.$("#keyboard-shortcut-explanation").modal("show")},hideShortcutModal:function(){this.$("#keyboard-shortcut-explanation").modal("hide")},showTiersModal:function(){var e=this.$("#translator-tier-explanation"),t=this.$(".sidebar").offset().top+250;e.css("top",t),e.modal("show")},hideTiersModal:function(){this.$("#translator-tier-explanation").modal("hide")},showVotesModal:function(){var e={source_lang:this.model.get("source_language"),target_lang:this.model.get("target_language")};this.votes_model=new h(e);var t=this;this.votes_model.fetch({success:function(){var e=t.$("#show-your-votes-body"),i=new g({el:e,model:t.votes_model});i.render();var s=t.$("#show-your-votes"),a=t.$(".sidebar").offset().top+250;s.css("top",a),s.modal("show")}})},hideVotesModal:function(){this.$("#show-your-votes").modal("hide")},toggleInstructions:function(){var e=!this.model.get("hide_instructions");this.model.set("hide_instructions",e),r.setTranslationPreference("hide_instructions",e),r.track("toggle_document_instructions",{hide:e})},clickShowLegend:function(e){this.toggleContributors(e,!1)},clickShowTranslators:function(e){this.toggleContributors(e,!0)},toggleContributors:function(e,t){this.model.set("show_contributors",t),this.$("#document-info").toggleClass("hidden",t),this.$("#translation-contributors").toggleClass("hidden",!t),this.$("#document-sidebar-tabs > li").removeClass("active"),s(e.currentTarget).addClass("active"),r.setTranslationPreference("show_contributors",t)},updateInstructionVisibility:function(){var e=this.model.get("hide_instructions");this.$("#document-instructions").toggleClass("hidden",e),this.$(".lesson-like-document").toggleClass("hide-instructions",e),this.$("#show-instructions-arrow").toggleClass("hidden",!e),this.$("#hide-instructions-arrow").toggleClass("hidden",e)},viewOriginal:function(){this.switchTab(0)},viewBoth:function(){this.switchTab(1)},viewDiscussion:function(){this.switchTab(2)},switchTab:function(e){if(!this.pendingUserInput()){if(this.switchSentence(-1),2==e){var t=this;this.$("#view-discussion").addClass("active"),this.root_comment.fetch({success:function(){t.model.set({view_original:0==e,view_both:1==e,view_discussion:2==e});var i=this.$("#translation-discussion"),s=new u({el:i,model:t.root_comment,comment_id:t.root_comment.get("id"),document_comment:!0});s.render()}})}else this.model.set({view_original:0==e,view_both:1==e,view_discussion:2==e});var i=0==e?"original":1==e?"both":"discuss";r.track("wiki_translation_tab_switch",{tab:i})}},clickParagraph:function(e){e.stopPropagation();var t=this.hoveredSentenceIndex();-1!=t&&this.clickSentence(t)},clickSentenceHandler:function(e){e.stopPropagation();var t=s(e.currentTarget).data("index");this.clickSentence(t)},clickSentence:function(e){return this.pendingUserInput()?void 0:this.model.get("trusted")?void alert("You can't click on sentences in the trusted-translation view."):this.model.get("from_user_id")?void alert("You can't click on sentences when from_user_id is specified."):this.model.get("max_timestamp")?void alert("You can't click on sentences when max_timestamp is specified."):this.model.get("revision_number")?void alert("You can't click on sentences when revision_number is specified."):this.model.get("view_both")&&!this.sentence_models[e].get("is_image_sentence")?(-1!=this.open_sentence_index&&this.open_sentence_index!=e&&this.cancelContentEdit(this.open_sentence_index),void this.switchSentence(e,!0)):this.sentence_models[e].get("open")?void this.switchSentence(-1):void this.switchSentence(e)},isContentEditable:function(e){return"true"==this.$("#trans-sentence-"+e).attr("contenteditable")},setContentEditable:function(e,t){var i=this.sentence_models[e];i.get("cur_translation")||i.set("no_translation_placeholder",t?"&nbsp;":this.noTranslationPlaceholder(i));var s=this.$("#trans-sentence-"+e);s.attr("contenteditable",t),t&&s.focus()},positionMiniPopover:function(e){var t=this.$("#trans-sentence-wrapper-"+e),i=this.$("#mini-popover-"+e),s=this.$(".page-main"),a=t.offset().top-s.offset().top,n=t.offset().left-s.offset().left,o=s.outerWidth()-i.outerWidth();n=Math.min(n,o),i.css({top:a+t.outerHeight()+5,left:Math.min(this.$el.outerWidth()-i.outerWidth(),n)})},positionShowMore:function(e){var t=this.$("#trans-sentence-wrapper-"+e),i=this.$("#show-more-"+e),s=this.$(".page-main"),a=t.offset().top-s.offset().top,n=t.offset().left-s.offset().left;i.css({top:a+t.outerHeight()+45,left:n})},updateSelectedSentenceInfo:function(e){var t={selected_sentence_index:e};if(-1==e)t.no_sentence_selected=!0,t.untranslated_sentence_selected=!1,t.translated_sentence_selected=!1,t.translation_from_self_selected=!1;else{var i=this.sentence_models[e],s=!!i.get("cur_translation"),a=!!i.get("latest_translation_from_self");t.no_sentence_selected=!1,t.untranslated_sentence_selected=!s,t.translated_sentence_selected=s&&!a,t.translation_from_self_selected=s&&a,t.num_points_for_original_translation=i.get("num_points_for_original_translation")}this.model.set(t)},switchSentence:function(e,t){if(this.updateSelectedSentenceInfo(e),e==this.open_sentence_index)return void(t&&this.makeOpenSentenceEditable());if(-1!=this.open_sentence_index&&(this.sentence_models[this.open_sentence_index].set({open:!1,editable:!1}),this.open_sentence_index=-1,this.model.set("just_finished_article",!1)),-1!=e)if(this.maybeCreatePopoverViews(e),this.model.get("view_both"))t&&this.setContentEditable(e,!0),this.sentence_models[e].set({open:!0,editable:t}),this.open_sentence_index=e;else{var i=this.sentence_models[e],s=!(!i.get("cur_translation")&&!i.get("is_image_sentence")&&!i.get("machine_translation"));if(s){var a=!i.get("cur_translation_or_no_need");i.set({open:!0,editable:t||a}),this.open_sentence_index=e,i.update(function(){!t&&a&&i.get("cur_translation_or_no_need")&&i.set("editable",!1)}),r.track("wiki_translation_open_popover",{can_edit:i.get("can_edit")})}else{var n=this;this.pending_open_sentence_index=e,i.update(function(){"undefined"==typeof t&&(t=!i.get("cur_translation_or_no_need")),i.set({open:!0,editable:t}),n.open_sentence_index=e,n.pending_open_sentence_index=-1,r.track("wiki_translation_open_popover",{can_edit:i.get("can_edit")})})}}},makeOpenSentenceEditable:function(){if(-1!=this.open_sentence_index){var e=this.open_sentence_index;this.model.get("view_both")?(this.setContentEditable(e,!0),this.sentence_models[e].set({editable:!0})):this.sidebar_views[e].makeEditable()}},hoverSentenceHandler:function(e){var t=s(e.currentTarget).data("index");this.hoverSentence(t)},hoverSentence:function(e){if(!this.sentence_models[e].get("hovered")&&(this.setHovered(e),this.model.get("view_both")&&!this.sentence_models[e].get("is_image_sentence")&&-1==this.editableSentenceIndex())){var t=this.open_sentence_index;if(t>=0&&this.sentence_models[t].get("show_more"))return;this.switchSentence(e,!1)}},pendingUserInput:function(){var e=this.editableSentenceIndex();return-1==e?!1:this.model.get("view_both")&&this.sentence_models[e].get("content_edit")?!0:1==this.sentence_models[e].get("pending_user_input")},sentenceWithAttribute:function(e){for(var t=0;t<this.sentence_models.length;t++)if(1==this.sentence_models[t].get(e))return t;return-1},setSentenceWithAttribute:function(e,t){for(var i=0;i<this.sentence_models.length;i++)this.sentence_models[i].set(e,i==t)},hoveredSentenceIndex:function(){return this.sentenceWithAttribute("hovered")},editableSentenceIndex:function(){return this.sentenceWithAttribute("editable")},setHovered:function(e){this.setSentenceWithAttribute("hovered",e)},setEditable:function(e){this.setSentenceWithAttribute("editable",e)},setPopoverOpen:function(e){this.setSentenceWithAttribute("open",e)},unhoverParagraph:function(e){this.setHovered(-1)},incrementCoinCount:function(e,t){this.model.set("user_num_points",this.model.get("user_num_points")+e);var i=(duo.user.get("calendar").push({datetime:(new Date).getTime(),improvement:e},{silent:!0}),"{{#_i}}+{{user_num_points}} {{#pluralize}}XP,XP,{{user_num_points}}{{/pluralize}}{{/_i}}");s("#xp-counter").text(s.duostache(i,{user_num_points:this.model.get("user_num_points")}));var o=this.$("#coin-count");0!=e&&(o.text(this.model.get("user_num_points")),e>0&&(o.addClass("bounce"),a.delay(function(){o.removeClass("bounce")},1e3))),t&&"leveled"==t.status?n.history.once("route",function(){this.model.set("level_event",t);var e=new p({model:this.model});e.render(),e.$el.appendTo("body").modal({keyboard:!0,backdrop:!0,show:!0}).on("hidden",function(){this.remove()}),s("#awesome-modal").modal("show")},this):t&&"unleveled"==t.status&&n.history.unbind("route")},updateNumSentencesDone:function(){for(var e=this.sentence_models.length,t=0,i=0;e>i;i++)this.sentence_models[i].get("user_rating")&&(t+=1);if(this.model.set({num_sentences_left:e-t,num_sentences_done:t}),t==this.sentence_models.length&&!this.model.get("user_finished_translation")){var s=this;this.model.reportUserFinishedTranslation(function(e){s.incrementCoinCount(e.num_points_awarded,e.level_event),s.model.set(a.extend(e,{prev_level:e.next_level-1})),a.delay(function(){s.model.set("just_finished_article",!0)},1e3)})}},rateDocument:function(e){e.stopPropagation();var t=s(e.currentTarget),i=t.data("rating");i==this.model.get("user_document_rating")&&(i=0),this.model.set({user_document_rating:i}),this.updateRatingButtonState();var a=this;s.post("/documents/"+this.model.get("document_id")+"/rate",{rating:i},function(e){a.model.set({document_vote_sum:e.votes})},"json"),r.track("rate document",{rating:i,from:"document"})},reportInappropriate:function(e){this.$("#flag-translation-reason-modal").modal("show")},cancelReportInappropriate:function(e){this.$("#flag-translation-reason-modal").modal("hide")},reportInappropriateReason:function(e){var t=this,i=s.trim(this.$('input[type="radio"]:checked').val()),a=s.trim(this.$("#additional-details").val()),n={reason:i,additional_details:a};s.post("/wiki_translations/"+this.model.get("translation_id")+"/report_inappropriate",n,function(e){t.$("#flag-translation-reason-modal").modal("hide"),t.model.set("user_reported_inappropriate",!0),t.render()},"json")},disableTranslation:function(e){var t=this;s.post("/wiki_translations/"+this.model.get("translation_id")+"/disable",{},function(e){t.model.set("translation_disabled",!0),t.render()})},enableTranslation:function(e){var t=this;s.post("/wiki_translations/"+this.model.get("translation_id")+"/enable",{},function(e){t.model.set("translation_disabled",!1),t.render()})},openSentenceView:function(e){0>e||e>=this.sentence_models.length||(this.renderSentences(e+50),this.scrollIntoViewIfNeeded(e),this.renderVisibleSentences(),this.hoverSentence(e),this.clickSentence(e))},animateCoin:function(e,t){0>=t||(e.removeClass("fadeOut"),e.text(t),e.show(),e.addClass("fadeInUp"),a.delay(function(){e.removeClass("fadeInUp"),e.addClass("fadeOut")},2e3))},curTimestamp:function(){return this.high_res_now?this.high_res_now()/1e3:(new Date).getTime()/1e3},checkCanRate:function(e){var t=this.sentence_models[e],i=t.has("num_responses_pending")?t.get("num_responses_pending"):0;return i>0?!1:t.get("user_rating")?!0:(this.rating_chars_per_sec=this.charsPerSec(e,this.last_rating_timestamp),this.rating_chars_per_sec>60&&this.enforce_speed_limits?(r.track("rating_speed_limit_reached",{chars_per_sec:this.rating_chars_per_sec}),l({type:"alert",message_type:"rate_limit"}),!1):(this.last_rating_timestamp=this.curTimestamp(),!0))},checkCanTranslate:function(e){return this.translation_chars_per_sec=this.charsPerSec(e,this.last_translation_timestamp),this.translation_chars_per_sec>30&&this.enforce_speed_limits?(r.track("translation_speed_limit_reached",{chars_per_sec:this.translation_chars_per_sec}),l({type:"alert",message_type:"rate_limit"}),!1):(this.last_translation_timestamp=this.curTimestamp(),!0)},charsPerSec:function(e,t){var i=this.sentence_models[e],s=i.numCharacters(),a=this.curTimestamp()-t;return this.on_windows&&(a=Math.max(a,1)),s/a},rateTranslation:function(e,t,i){var s=this.sentence_models[e],n=s.get("user_rating"),o=n?parseInt(n):0,r=t==o,l=r?0:t,d=this,c=s.getDefault("num_responses_pending",0);if(!(c>0)){s.set("num_responses_pending",1+c);var u=this.model.get("num_points_for_rating"),h=u*(0==o?1:r?-1:0),g={user_approved:1==l,user_disapproved:-1==l,user_rating:l};s.has("num_upvotes")&&s.has("num_downvotes")&&(g.num_upvotes=s.get("num_upvotes")+(1==l?1:0)-(1==o?1:0),g.num_downvotes=s.get("num_downvotes")+(-1==l?1:0)-(-1==o?1:0)),s.set(g),d.updateNumSentencesDone(),d.incrementCoinCount(h,null),i&&i(h);var p=a.extend(this.model.mixpanelProperties(),{chars_per_sec:this.rating_chars_per_sec});s.rateCurrentTranslation(t,r,function(e){s.set("num_responses_pending",s.get("num_responses_pending")-1),d.incrementCoinCount(0,e.level_event)},p)}}})},function(e,t,i){var s=i(1),a=i(8),n=i(569);e.exports=a.extend({template:n,initialize:function(){this.listenTo(this.model,"change:num_translators",this.render)},render:function(){return this.$el.html(s.duostache(this.template,this.model.toJSON())),this}})},function(e,t,i){var s=i(1),a=i(3),n=i(586);e.exports=a.View.extend({template:n,events:{},render:function(){return this.$el.html(s.duostache(this.template,this.model.toJSON())),this}})},function(e,t,i){var s=i(1),a=i(3),n=i(588);e.exports=a.View.extend({id:"app",template:n,events:{"click #save-button":"update"},initialize:function(e){this.model.on("change",this.render,this)},render:function(){return this.$el.html(s.duostache(this.template,this.model.toJSON())),this},update:function(){new_target_text=this.$("#target-text").val(),this.model.update(new_target_text)}})},function(e,t,i){var s=i(1),a=i(3),n=i(383),o=i(587);e.exports=a.View.extend({template:o,events:{},initialize:function(e){this.collection=e.collection,this.collection.bind("add",this.render,this),this.collection.bind("change",this.render,this),this.collection.bind("reset",this.render,this)},render:function(){this.collection.length>0&&this.$el.html(s.duostache(this.template,{ui_strings:this.collection.toJSON()}));var e=this;return this.collection.each(function(t,i){t.set({index:i});var s=new n({model:t,el:e.$("#ui-string-"+t.id)});s.render()}),this}})},function(e,t,i){var s=i(1),a=i(3),n=i(385),o=i(585);e.exports=a.View.extend({id:"app",template:o,events:{},initialize:function(e){this.collection=e.collection},render:function(e){var t={target_language_string:this.collection.target_language_string};this.$el.html(s.duostache(this.template,t));var i=new n({el:this.$("#ui-strings"),collection:this.collection});return i.render(),this}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(443),r=i(265);i(7);e.exports=n.View.extend({id:"app",template:o,events:{"keyup .search-input":"keycheckSearch"},initialize:function(){this.lazySearch=this.debounce(this._search,1500,!0),this.search_results=new r,this.search_results.per_page=20,this.search_results.bind("sync",this.render,this),this.last_request_length=0},debounce:function(e,t,i){var s;return function(){var a=this,n=arguments,o=function(){s=null,i||e.apply(a,n)};i&&!s&&e.apply(a,n),clearTimeout(s),s=setTimeout(o,t)}},render:function(){this.$el.html(s.duostache(this.template,{q:this.q,users:this.search_results.toJSON()}));var e=this;a.defer(function(){e.$("label").inFieldLabels()}),this.preload_q&&(this.setQuery(this.preload_q),this.preload_q=void 0);var e=this;return a.defer(function(){s(document).unbind(".friend_find_scroll").bind("scroll.friend_find_scroll.infinite_scroll",function(t){var i=s(document).height(),a=i-s(document).scrollTop(),n=s(window).height();1.5*n>a&&e.search_results.length>e.last_request_length&&(e.$("#more-stream").hide(),e.last_request_length=e.search_results.length,e.loadNextPage())})}),this},_search:function(){var e=s.trim(this.$("#search-learners").val());this.last_request_length=0,this.q=e,e.length>0?(this.search_results.url="/users/search?q="+e,this.search_results.fetch()):this.search_results.reset()},search:function(){this.lazySearch()},keycheckSearch:function(e){13===e.which&&this.search(),this.old_scroll=0},setQuery:function(e){this.$("#search-learners").val(e),this.search()},loadNextPage:function(){this.search_results.nextPage()}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(471);e.exports=n.View.extend({template:o,events:{scroll:"onScroll","click .username":"goToProfile","click .follow-button":"toggleFollow"},initialize:function(e){this.friends=e.friends,this.num_shown=10},render:function(){function e(e){return duo.user?a.extend({},e,{is_being_blocked:duo.user.isBlocking(e.id),is_a_blocker:duo.user.isBlockedBy(e.id)}):e}this.$el.html(s.duostache(this.template,{shown_friends:a.map(this.friends.slice(0,this.num_shown),e)}))},onScroll:function(e){var t=this.$("ul").height(),i=t-this.$el.scrollTop(),s=this.$el.innerHeight();s>i&&this.num_shown<this.friends.length&&(this.num_shown+=10,this.render())},goToProfile:function(){},toggleFollow:function(e){var t=s(e.target),i=t.data("user"),n=t.hasClass("success");n?(duo.user.unfollow(i,!0),t.removeClass("success").text(t.data("follow-text"))):(duo.user.follow(i,!0),t.addClass("success").text(t.data("unfollow-text")));var o=a.find(this.friends,function(e){return e.id==i});o.is_following=!n,e.stopPropagation()}})},function(e,t,i){var s=i(1),a=i(3),n=i(461);i(63);e.exports=a.View.extend({template:n,events:{"click .close":"closeModal"},render:function(){return this.$el.html(s.duostache(this.template,duo.user.toJSON())),this},closeModal:function(){s("#keyboard-shortcuts").modal("hide")}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(476);e.exports=n.View.extend({template:o,initialize:function(e){this.streak=0},render:function(){var e=0,t=0;a.each(this.model.get("languages"),function(i){e+=i.points,t+=i.sentences_translated,this.streak=this.streak<i.streak?i.streak:this.streak},this),this.$el.html(s.duostache(this.template,a.extend(this.model.toJSON(),{loading_word_count:!this.model.has("vocab_size"),total_points:e,total_sentences_translated:t,longest_streak:this.streak,points_languages:a.sortBy(this.model.get("languages"),function(e){return-e.points}),sentences_translated_languages:a.sortBy(this.model.get("languages"),function(e){return-e.sentences_translated}),streak_languages:a.sortBy(this.model.get("languages"),function(e){return-e.streak})})));var i=this;return this.model.has("vocab_size")||s.getJSON("/vocabularies/size",{user_id:this.model.id,language:"all"},function(e){e.vocab_size.languages=a.sortBy(e.vocab_size.languages,function(e){return-e.count}),i.model.set({vocab_size:e.vocab_size},{silent:!0}),i.render()}),this}})},function(e,t,i){var s=i(1),a=i(3),n=i(478);e.exports=a.View.extend({template:n,events:{"click .cancel-ban":"closeModal","click .ban-user":"submitBan","change #file-upload":"changeFile","input .description":"removeError","click label":"removeError","click .close":"closeModal"},render:function(){return this.$el.html(s.duostache(this.template,this.model.toJSON())),this},changeFile:function(){var e=this.$("#file-upload").val(),t=e.match(/([^\/\\]+)$/),i=t[1];s("#filename").html(i),s("#filename").css("color","#3c3c3c"),this.file_uploaded=!0},closeModal:function(){this.$("#shadowban-form").modal("hide")},submitBan:function(){var e=!1;if(s(".description").val().length<100&&(this.$(".description").addClass("error"),e=!0),this.file_uploaded||(this.$("#filename").addClass("error"),e=!0),!e){var t=this;this.$("#shadowban-submit").ajaxSubmit({success:function(e){t.closeModal()},error:function(e){t.$(".error-placeholder").text(e.responseText),t.$(".modal-body").addClass("error")}})}},removeError:function(){this.$(".error").removeClass("error")}})},function(e,t,i){var s=i(1),a=i(3),n=i(463);e.exports=a.View.extend({template:n,events:{"click .close":"closeModal"},render:function(){return this.$el.html(s.duostache(this.template,duo.user.toJSON())),this},closeModal:function(){this.$el.hide()}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(4),r=i(592);e.exports=n.View.extend({id:"flashcards",template:r,events:{"click .card-container":"flipCard","click .response a":"clickNextCard"},initialize:function(){this.keysBound=!1,n.history.once("route",this.cleanup,this)},render:function(){return this.$el.html(s.duostache(this.template,a.extend({},{card:a.isUndefined(this.current_card)?!1:this.current_card.toJSON(),dots:a.range(this.collection.num_cards),incorrect_words:this.incorrect_words,num_incorrect:this.incorrect_words.length,front_flag_abbr:this.collection.front_flag_abbr,back_flag_abbr:this.collection.back_flag_abbr,from_classroom:this.options.from_classroom}))),this.$(".dot:lt("+this.collection.getNumCardsRemoved()+")").addClass("seen"),0===this.collection.length&&o.track("session_end",{type:"web flashcards",flashcards_complete:this.collection.getNumCardsRemoved(),flashcards_total:this.collection.num_cards,failed:!1}),this},beginNewFlashcards:function(){this.results=[],this.incorrect_words=[],this.collection.sort(),this.current_card=this.collection.at(0),this.bindKeys()},bindKeys:function(){this.keysBound||(s(document).bind("keydown",a.bind(this.checkKey,this)),this.keysBound=!0)},checkKey:function(e){if(32===e.which&&this.collection.length>0&&(this.$(".dropdown-menu").hide(),this.flipCard()),this.collection.length>0&&!this.animating)if(37===e.which)this.nextCard("left");else if(39===e.which)this.nextCard("right");else if(32!==e.which)return!0;return this.$el.is(":visible")&&e.stopPropagation(),!1},flipCard:function(e){this.collection.length>0?this.$("#current-container .card").toggleClass("flipper"):e.stopPropagation()},clickNextCard:function(e){if(!this.animating){var t=s(e.currentTarget).hasClass("wrong"),i=t?"left":"right";this.nextCard(i),e.stopPropagation()}},recordResponse:function(e,t){var i=a.findWhere(this.results,{id:e.get("id")});if(a.isUndefined(i)?this.results.push({id:e.get("id"),count:1,correct:t?1:0}):(i.count+=1,i.correct+=t?1:0),!t){var s={front_term:e.get("front_term"),back_definition:e.get("back_definition")};a.isUndefined(a.findWhere(this.incorrect_words,s))&&this.incorrect_words.push(s)}},updateFlashcardQueue:function(e,t){e.set({score:Math.max(e.get("score"),0)}),this.collection.boxes>0?t?(e.set({score:e.get("score")+1/this.collection.boxes}),e.get("score")>=1&&this.collection.remove(e)):e.set({score:0}):this.collection.remove(e)},nextCard:function(e){if(this.$(".card").hasClass("flipper")){this.recordResponse(this.current_card,"right"===e),this.updateFlashcardQueue(this.current_card,"right"===e),this.animating=this.collection.length>0,this.collection.length>0?(this.collection.sort(),this.collection.at(0)!==this.current_card?this.current_card=this.collection.at(0):this.collection.length>1&&(this.current_card=this.collection.at(1))):this.current_card=void 0;var t=this.$(".card").clone();this.render();var i=this.$("#old-container"),s=this.$("#current-container"),a=this.$("#current-container .card");i.html(t),a.addClass("no-animate").removeClass("flipper"),s.hide(),s.fadeIn(500,"easeOutExpo"),a.removeClass("no-animate"),duo.user.playEffects()&&soundManager&&("left"==e?soundManager.wrongSound&&soundManager.wrongSound.play():soundManager.rightSound&&soundManager.rightSound.play());var n=this;i.animate({left:"left"===e?"-360px":"810px"},800,"easeOutExpo",function(){i.html(""),i.css({left:"225px"}),n.animating=!1})}},cleanup:function(){this.keysBound&&(s(document).unbind("keydown"),this.keysBound=!1)}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(4),r=i(267),l=i(393),d=i(591);e.exports=n.View.extend({id:"flashcards-container",template:d,initialize:function(e){this.parent_view=e.parent_view,this.states={BEGIN:0,SHOW:1,CLOSED:2,HID:3}},render:function(){return this.flashcards_view&&this.state===this.states.HID?(this.$("#current-container .card").removeClass("flipper"),this.$("#flashcards").modal("show"),this.trackShowFlashcards(),this.state=this.states.SHOW,void 0):(this.$el.html(s.duostache(this.template)),this.renderFlashcardsView(),this)},renderFlashcardsView:function(){var e=this,t={};this.options.from_classroom?(t.median_student_id=this.options.median_student_id,t.learning_language_abbrev=this.options.learning_language_abbrev):(t.n=15,t.allow_partial_deck=!0),this.flashcard_data.fetch({data:t,success:function(){e.flashcards_view.beginNewFlashcards();var t=e.$("#flashcards");e.flashcards_view.setElement(t).render(),t.off("hidden.bs.modal.hidFlashcardsModal"),t.on("hidden.bs.modal.hidFlashcardsModal",a.bind(e.hidFlashcardsModal,e)),e.state!==e.states.CLOSED?(t.modal("show"),e.trackShowFlashcards(),e.state=e.states.SHOW):e.state=e.states.HID}})},trackShowFlashcards:function(){var e=window.location.pathname;"/words"===e?e="Words":e.indexOf("class_activities")>-1&&(e="ClassActivities"),o.track("session_start",{type:"web flashcards",origin_page:e})},beginNewFlashcards:function(){if(this.flashcard_data||(this.flashcard_data=new r([],{from_classroom:this.options.from_classroom})),!this.flashcards_view){var e=this;this.flashcards_view=new l({collection:e.flashcard_data,el:e.$("#flashcards"),from_classroom:this.options.from_classroom})}(a.isUndefined(this.state)||this.state===this.states.CLOSED||this.state===this.states.HID)&&this.render(),this.state!==this.states.HID&&(this.state=this.states.BEGIN)},hidFlashcardsModal:function(){if(this.flashcards_view.results.length>0){if(!this.options.from_classroom){var e=this;this.flashcard_data.postResults(this.flashcards_view.results,function(){e.refreshParentView()})}this.state=this.states.CLOSED,this.flashcards_view.cleanup()}else this.state=this.states.HID;this.flashcards_view.collection.length>0&&o.track("session_quit",{type:"web flashcards",flashcards_complete:this.flashcards_view.collection.getNumCardsRemoved(),flashcards_total:this.flashcards_view.collection.length})},refreshParentView:function(){a.isUndefined(this.parent_view)||a.isUndefined(this.parent_view.refreshFromFlashcards)||this.parent_view.refreshFromFlashcards()}})},function(e,t,i){var s=i(1),a=i(3),n=i(23),o=i(396),r=i(397),l=i(394),d=i(594);e.exports=a.View.extend({id:"app",template:d,events:{"click #start-flashcards":"startFlashcards","duo:vocab:openWord":"openWord","duo:vocab:closeWord":"closeWord"},render:function(){return this.$el.html(s.duostache(this.template,{show_flashcards:this.collection.length>0})),this.vocab_list=new o({collection:this.collection,el:this.$("#vocabulary-list")}),this.vocab_list.render(),this.word_view=new r({el:this.$("#word-sidebar")}),s(this).fixedSidebar(),this.flashcardsModalView?this.flashcardsModalView.setElement(this.$("#flashcards-container")):this.flashcardsModalView=new l({el:this.$("#flashcards-container")}),this},startFlashcards:function(){n.on("closeFlashcardsModal",this.refreshVocabList,this),this.flashcardsModalView.beginNewFlashcards()},refreshVocabList:function(){var e=this;this.collection.fetch({success:function(){e.vocab_list.render()}}),n.off("closeFlashcardsModal")},openWord:function(e,t){this.$("#default-sidebar").hide(),this.$("#word-sidebar").show(),this.vocab_list.selectRow(t),this.word_view.model=this.collection.get(t),this.word_view.render()},closeWord:function(){this.$("#default-sidebar").show(),this.$("#word-sidebar").hide(),this.vocab_list.unselectRow()}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(15).getDictionarySettings(),r=i(593);e.exports=n.View.extend({id:"vocabulary-list",template:r,events:{"mouseenter .needs-hint":"delayShowTranslation","click .word-cell":"clickRow"},initialize:function(){this.delayShowTranslation=a.debounce(this.showTranslation,500)},render:function(){duo.user.getSkills();return this.$el.html(s.duostache(this.template,{language_string:this.collection.language_string,vocab_overview:this.collection.toJSON(),has_vocab:this.collection.length>0,word_count:this.collection.length})),a.defer(function(){sorttable.makeSortable(document.getElementById("vocab-list"))}),this},showTranslation:function(e){var t=s(e.currentTarget),i=t.find("td").data("lexeme"),a=(this.collection.get(i),t.closest("tr").index()),n=s("#vocab-rows tr.word-cell").slice(Math.max(0,a-5),a+5),o=n.find(".word");return o.find(".hoverable-word").tokenHints({source_language:this.collection.learning_language,target_language:this.collection.from_language,word_only:!0}),o.removeClass("word"),n.removeClass("needs-hint"),this.$(".hoverable-word:hover").length>0&&setTimeout(function(){wrapper=t.find(".hoverable-word .token-wrapper"),
wrapper.trigger({type:"mouseenter",pageX:12,pageY:12}),wrapper.trigger({type:"mousemove",pageX:13,pageY:13})},200),e.stopPropagation(),!1},selectRow:function(e){this.$(".word-cell").removeClass("active"),this.$('.word-cell td[data-lexeme="'+e+'"]').closest(".word-cell").addClass("active")},unselectRow:function(){this.$(".word-cell").removeClass("active")},clickRow:function(e){if(s(e.currentTarget).hasClass("active"))return void this.$el.trigger("duo:vocab:closeWord");var t=s(e.currentTarget).find("td").data("lexeme"),i=this.collection.get(t);this.$(".word-cell").removeClass("active");var n=a.bind(this.$el.trigger,this.$el,"duo:vocab:openWord",[t]);if(s(e.currentTarget).find(".hint-table").length>0)i.set("top_hint",s(e.currentTarget).find(".hint-table tbody tr:first").text()),n();else{var r=[window.location.protocol,"//"+o.HOST_PHASE2+"api/1/dictionary/hints",this.collection.learning_language,this.collection.from_language].join("/");s.ajax({url:r,dataType:"jsonp",data:{tokens:JSON.stringify([i.get("word_string")])},type:"GET",success:function(e){i.set("top_hint",e[i.get("word_string")][0]),n()}})}}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(398),r=i(596);e.exports=n.View.extend({template:r,events:{"click .open-word-modal":"openWordModal","click .with-back-arrow":"closeWordView","click .nav-skill":"navigateToSkill"},render:function(){var e=this,t=a.compact(a.map(this.model.get("related_lexemes"),function(t){return e.model.collection.get(t)?e.model.collection.get(t).toJSON():null}));this.$el.html(s.duostache(this.template,a.extend(this.model.toJSON(),{related_words:t,has_related:t.length>0})));var i=this.model.collection.learning_language,n=s.tts.ttsIDFromWord(this.model.get("word_string"));return a.defer(function(){e.$(".listen-button-small").tts({language:i,tts_type:"token",tts_id:n,visible:!1,play_trigger:"click",autoplay:!1})}),this},openWordModal:function(){var e=this,t=a.filter(this.model.get("related_lexemes"),function(t){var i=e.model.collection.get(t);return!i||a.isUndefined(i.get("ex_sentence"))});a.isUndefined(this.model.get("ex_sentence"))&&t.unshift(this.model.id),t.length>0?(lexeme_ids_to_request_str=t.join(),s.get("/api/1/vocab/example_sentences",{lexeme_ids:lexeme_ids_to_request_str},function(i){a.each(i,function(i,s){var a=e.model.collection.get(t[s]);a&&a.set({ex_sentence:i})}),e.showWordModal()})):this.showWordModal()},showWordModal:function(){this.word_modal?this.word_modal.model=this.model:this.word_modal=new o({el:s("#word-modal"),model:this.model,parent:self}),this.word_modal.render(),s("#word-modal").modal("show")},navigateToSkill:function(e){var t=s(e.currentTarget).data("url");duo.skillRouter.navigate("/skill/"+this.model.collection.learning_language+"/"+t,{trigger:!0}),e.stopPropagation()},closeWordView:function(){this.$el.trigger("duo:vocab:closeWord")}})},function(e,t,i){var s=i(1),a=i(2),n=i(3),o=i(595);e.exports=n.View.extend({template:o,events:{"click .close":"closeModal","click .related-word-link":"goToRelated"},render:function(){var e=this,t=a.compact(a.map(this.model.get("related_lexemes"),function(t){var i=e.model.collection.get(t);return i&&i.has("ex_sentence")?i.toJSON():null})),i=a.some(t,function(e){return e?"gender"in e&&null!==e.gender:!1});return this.$el.html(s.duostache(this.template,a.extend(this.model.toJSON(),{related_words:t,show_gender_column:this.model.has("gender")||i,has_verb_table:this.model.has("infinitive")}))),a.defer(function(){e.model.has("infinitive")&&e.$("#verb-table").verbTable({source_language:e.model.collection.learning_language,language_information:e.model.collection.language_information,infinitive:e.model.get("infinitive")});var t=s.tts.ttsIDFromWord(e.model.get("word_string"));e.$(".listen-button-small").tts({language:e.model.collection.learning_language,tts_type:"token",tts_id:t,visible:!1,play_trigger:"click",autoplay:!1})}),this},goToRelated:function(e){var t=s(e.currentTarget).data("lexeme");s("body").scrollTop(s('.word-cell td[data-lexeme="'+t+'"]').offset().top-300);var i=s('.word-cell td[data-lexeme="'+t+'"]').closest(".word-cell");i.click(),a.defer(function(){i.addClass("active")}),s("#word-modal").modal("hide")},closeModal:function(){s("#word-modal").modal("hide")}})},function(e,t,i){e.exports=i(400)},function(e,t,i){var s,a,n;(function(){var i,o,r,l,d,c,u,h,g,p,_,m,v,f,b;r=Math.floor,p=Math.min,o=function(e,t){return t>e?-1:e>t?1:0},g=function(e,t,i,s,a){var n;if(null==i&&(i=0),null==a&&(a=o),0>i)throw new Error("lo must be non-negative");for(null==s&&(s=e.length);s>i;)n=r((i+s)/2),a(t,e[n])<0?s=n:i=n+1;return[].splice.apply(e,[i,i-i].concat(t)),t},c=function(e,t,i){return null==i&&(i=o),e.push(t),f(e,0,e.length-1,i)},d=function(e,t){var i,s;return null==t&&(t=o),i=e.pop(),e.length?(s=e[0],e[0]=i,b(e,0,t)):s=i,s},h=function(e,t,i){var s;return null==i&&(i=o),s=e[0],e[0]=t,b(e,0,i),s},u=function(e,t,i){var s;return null==i&&(i=o),e.length&&i(e[0],t)<0&&(s=[e[0],t],t=s[0],e[0]=s[1],b(e,0,i)),t},l=function(e,t){var i,s,a,n,l,d;for(null==t&&(t=o),n=function(){d=[];for(var t=0,i=r(e.length/2);i>=0?i>t:t>i;i>=0?t++:t--)d.push(t);return d}.apply(this).reverse(),l=[],s=0,a=n.length;a>s;s++)i=n[s],l.push(b(e,i,t));return l},v=function(e,t,i){var s;return null==i&&(i=o),s=e.indexOf(t),-1!==s?(f(e,0,s,i),b(e,s,i)):void 0},_=function(e,t,i){var s,a,n,r,d;if(null==i&&(i=o),a=e.slice(0,t),!a.length)return a;for(l(a,i),d=e.slice(t),n=0,r=d.length;r>n;n++)s=d[n],u(a,s,i);return a.sort(i).reverse()},m=function(e,t,i){var s,a,n,r,c,u,h,_,m,v;if(null==i&&(i=o),10*t<=e.length){if(r=e.slice(0,t).sort(i),!r.length)return r;for(n=r[r.length-1],_=e.slice(t),c=0,h=_.length;h>c;c++)s=_[c],i(s,n)<0&&(g(r,s,0,null,i),r.pop(),n=r[r.length-1]);return r}for(l(e,i),v=[],a=u=0,m=p(t,e.length);m>=0?m>u:u>m;a=m>=0?++u:--u)v.push(d(e,i));return v},f=function(e,t,i,s){var a,n,r;for(null==s&&(s=o),a=e[i];i>t&&(r=i-1>>1,n=e[r],s(a,n)<0);)e[i]=n,i=r;return e[i]=a},b=function(e,t,i){var s,a,n,r,l;for(null==i&&(i=o),a=e.length,l=t,n=e[t],s=2*t+1;a>s;)r=s+1,a>r&&!(i(e[s],e[r])<0)&&(s=r),e[t]=e[s],t=s,s=2*t+1;return e[t]=n,f(e,l,t,i)},i=function(){function e(e){this.cmp=null!=e?e:o,this.nodes=[]}return e.push=c,e.pop=d,e.replace=h,e.pushpop=u,e.heapify=l,e.updateItem=v,e.nlargest=_,e.nsmallest=m,e.prototype.push=function(e){return c(this.nodes,e,this.cmp)},e.prototype.pop=function(){return d(this.nodes,this.cmp)},e.prototype.peek=function(){return this.nodes[0]},e.prototype.contains=function(e){return-1!==this.nodes.indexOf(e)},e.prototype.replace=function(e){return h(this.nodes,e,this.cmp)},e.prototype.pushpop=function(e){return u(this.nodes,e,this.cmp)},e.prototype.heapify=function(){return l(this.nodes,this.cmp)},e.prototype.updateItem=function(e){return v(this.nodes,e,this.cmp)},e.prototype.clear=function(){return this.nodes=[]},e.prototype.empty=function(){return 0===this.nodes.length},e.prototype.size=function(){return this.nodes.length},e.prototype.clone=function(){var t;return t=new e,t.nodes=this.nodes.slice(0),t},e.prototype.toArray=function(){return this.nodes.slice(0)},e.prototype.insert=e.prototype.push,e.prototype.top=e.prototype.peek,e.prototype.front=e.prototype.peek,e.prototype.has=e.prototype.contains,e.prototype.copy=e.prototype.clone,e}(),function(i,o){return a=[],s=o,n="function"==typeof s?s.apply(t,a):s,!(void 0!==n&&(e.exports=n))}(this,function(){return i})}).call(this)},,,function(e,t){e.exports='<main class="main-center"><section class="page-main"><div id="admin-dashboard" class="admin-dashboard"><div class="admin-buttons"><span style="display:block;"><span class="search-input-box"><input type="text" id="search-user" name="search-user" placeholder="enter a username"/></span><span class="icon icon-search-gray get-summary" data-toggle="tooltip" data-original-title="view user diagnostics" data-delay="250"></span></span><span style="display:block"><span class="icon icon-smilie-bad show-bans" data-toggle="tooltip" data-original-title="shadowbanned users"></span></span></div><h1 style="padding-top:20px; margin-bottom: -4px;">Admin Dashboard</h1><span class="dropdown"><button data-toggle="dropdown" class="btn btn-standard btn-outline admin-dropdown"><span id="selected-view-option">Recent Moderator Activity</span><span class="icon icon-arrow-down-gray"></span></button><ul class="dropdown-menu"><li class="view-option" data-view-area="manage-moderators"><a>Manage Moderators</a></li><li class="view-option" data-view-area="moderator-activity"><a>Recent Moderator Activity</a></li><li class="view-option" data-view-area="lingot-store-activity"><a>Lingot Store Activity</a></li></ul></span><div class="view-area" id="manage-moderators"></div><div class="view-area" id="moderator-activity"><ul class="nav-tabs"><li class=\'show-deletes active\'><a href="javascript:;">Deletes</a></li><li class=\'show-comments\'><a href="javascript:;">Comments</a></li></ul><div class="panel" id="moderation-log"></div><div class="panel" id="comment-log"></div></div><div class="view-area" id="lingot-store-activity"></div><div id="banned-modal"></div></div></section></main> '},function(e,t){e.exports='<table><tr><th>Item name</th><th colspan="2">Total purchases</th><th colspan="2">Lingots spent</th></tr>{{#item_stats}}<tr><td>{{item_name}}</td>{{#stats}}<td>{{#all_time}}{{purchases}}{{/all_time}}</td><td>{{#daily}}<span style="border-bottom:1px solid black;display:inline-block;vertical-align:bottom;background:black;width:4px;height:{{#normalized}}{{purchases}}{{/normalized}}%" title="{{#total}}{{purchases}}{{/total}}"></span>{{/daily}}</td><td>{{#all_time}}{{lingots_spent}}{{/all_time}}</td><td>{{#daily}}<span style="border-bottom:1px solid black;display:inline-block;vertical-align:bottom;background:black;width:4px;height:{{#normalized}}{{lingots_spent}}{{/normalized}}%" title="{{#total}}{{lingots_spent}}{{/total}}"></span>{{/daily}}</td>{{/stats}}</tr>{{#per_language_stats}}<tr><td style="padding-left:2em;">&#x21b3; {{language_id}}</td>{{#stats}}<td>{{#all_time}}{{purchases}}{{/all_time}}</td><td>{{#daily}}<span style="border-bottom:1px solid black;display:inline-block;vertical-align:bottom;background:black;width:4px;height:{{#normalized}}{{purchases}}{{/normalized}}%" title="{{#total}}{{purchases}}{{/total}}"></span>{{/daily}}</td><td>{{#all_time}}{{lingots_spent}}{{/all_time}}</td><td>{{#daily}}<span style="border-bottom:1px solid black;display:inline-block;vertical-align:bottom;background:black;width:4px;height:{{#normalized}}{{lingots_spent}}{{/normalized}}%" title="{{#total}}{{lingots_spent}}{{/total}}"></span>{{/daily}}</td>{{/stats}}</tr>{{/per_language_stats}}{{/item_stats}}</table> '},function(e,t){e.exports='<div class="manage-mods">{{#has_topic}}<div class="add-moderator"><h2>Add a moderator</h2><input type="text" id="add-moderator" name="add-mod" placeholder="enter a user id"/><button class="btn btn-green add-user">Add</button></div><div class="list-moderators"><h2>Current moderators</h2><ul>{{#has_moderators}}<table class="table-striped">{{#moderators}}<tr style="line-height: 28px;"><td><a href="/{{username}}" class="username">{{username}}</a></td><td>{{user_id}}</td><td><div class="remove-moderator" data-id="{{user_id}}">x</div></td></tr>{{/moderators}}</table>{{/has_moderators}}{{^has_moderators}} Nobody is moderating this topic. Ahh! {{/has_moderators}}</ul></div>{{/has_topic}}{{^has_topic}}<table class="table-striped">{{#moderators}}<tr><td>{{username}}</td><td>{{email}}</td><td>{{#is_inc_mod}}<span class="tag incubator">INC</span>{{/is_inc_mod}}{{^is_inc_mod}}<span class="tag forum">FOR</span>{{/is_inc_mod}}</td><td><ul>{{^topics}}<li>Global</li>{{/topics}}{{#topics}}<li>{{from_language}} -> {{name}}</li>{{/topics}}</ul></td></tr>{{/moderators}}</table>{{/has_topic}}</div><div class="manage-mods-sidebar"><h2>Topics</h2><a href="javascript:;" class="see-all blue" id="see-all">(See all moderators)</a><ul class="topic-list">{{#topics}}<li class="topic-option {{#active}}active{{/active}}" data-id="{{id}}"><div class="topic-icon"><span class="icon icon-sidebar {{^learning_language}}icon-section-{{type}}{{/learning_language}} {{#learning_language}}flag flag-svg-small flag-{{learning_language}}{{/learning_language}}"><span class="flag flag-svg-micro flag-{{flag_abbrev}}"></span></span></div><a>{{from_language}} -> {{#learning_language}}{{learning_language}}{{/learning_language}}{{^learning_language}}{{type}}{{/learning_language}}</a></li>{{/topics}}</ul></div>'},function(e,t,i){e.exports='<div class="shadow-banned-modal modal"><div class="close" data-dismiss="modal">{{#_i}}close{{/_i}}</div><div style="padding: 30px 30px 20px 30px" class="modal-body"><h3>Shadow Ban List</h3><span class="username-group"><input id="add-username" type="text" class="add-username-input" maxlength="100" placeholder="add a username"/></span><span class="add-banned pointer"></span><ul class="ban-list">{{#users}}<li class="banned-user"><span style="float:left">{{#user}}'+i(10)+'{{/user}}</span><div class="banned-user-info"><a class="username" href="#/{{#user}}{{username}}{{/user}}">{{#user}}{{username}}{{/user}}</a><p>{{datetime}}<button class="btn primary unban-user" data-userid="{{#user}}{{id}}{{/user}}" style="float:right">unban</button></p></div></li>{{/users}}</ul></div></div>'},function(e,t){e.exports='<ul id="comments" class="list-discussions">{{#comments}}<li id="comment-{{id}}" class="list-discussion-item"></li>{{/comments}}{{^comments}}{{#followed_tab}}<li class="list-discussion-item"><p class="gray" style="padding-right: 80px; text-align: center;">{{#_i}}You are not following any discussions.{{/_i}}</p></li>{{/followed_tab}}{{^followed_tab}}{{#has_subscriptions}}<li class="list-discussion-item">{{#_i}}There are no discussions here yet. Be the first to post something!{{/_i}}</li>{{/has_subscriptions}}{{^has_subscriptions}}{{#logged_in}}{{^trial_account}}<li class="list-discussion-item"><p class="gray" style="padding-right: 80px; text-align: center;">{{#_i}}You are not subscribed to any topics.{{/_i}}</p></li>{{/trial_account}}{{#trial_account}}<li class="list-discussion-item"><p class="gray" style="padding-right: 80px; text-align: center;">{{#_i}}There are no discussions here yet.{{/_i}}</p></li>{{/trial_account}}{{/logged_in}}{{^logged_in}}<li class="list-discussion-item"><p class="gray" style="padding-right: 80px; text-align: center;">{{#_i}}There are no discussions here yet.{{/_i}}</p></li>{{/logged_in}}{{/has_subscriptions}}{{/followed_tab}}{{/comments}}{{#more}}{{#infinite_scrolling}}<div class="gray-spinner"></div>{{/infinite_scrolling}}{{^infinite_scrolling}}<button id="load-more-comments" class="btn" style="margin-top: 20px">{{#_i}}load more{{/_i}}</button>{{/infinite_scrolling}}{{/more}}</ul>'},function(e,t,i){e.exports='{{^document_comment}}<main class="main-center" itemscope itemtype="https://schema.org/QAPage" id="{{id}}">{{^logged_in}}<section class="cta-main"><div class="cta-start-learning"><span class="left owl owl-medium {{#rtl}}flipped{{/rtl}}"></span><div class="body"><p>{{#_i}}Duolingo is the most popular way to learn languages in the world. Best of all, it\'s 100% free!{{/_i}}</p><a href="{{#new_forum_cta}}{{course_url}}{{/new_forum_cta}}{{^new_forum_cta}}/register{{/new_forum_cta}}" class="btn btn-green" data-track-click="loggedout forum start learning">{{#_i}}Start learning{{/_i}}</a></div></div></section>{{/logged_in}}<section class="page-main" itemscope itemtype="https://schema.org/Question"><header class="discussion-header">{{#logged_in}}{{^trial_account}}<button id="watch" class="btn right btn-green {{#watching}}checkmark{{/watching}}">{{#watching}}{{#_i}}Following discussion{{/_i}}{{/watching}}{{^watching}}{{#_i}}Follow discussion{{/_i}}{{/watching}}</button>{{/trial_account}}{{/logged_in}}{{#topic}}<h3 class="gray" itemscope itemtype="http://schema.org/BreadcrumbList"><div itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><a href="/topic/{{id}}" class="" itemprop="item"><span class="icon icon-arrow-back-gray"></span> <bdi itemprop="name">{{#_i}}Topic:{{/_i}} {{#_ivar}}name{{/_ivar}} {{#different_ui}}({{#_iv}}{{from_language_name}}{{/_iv}}){{/different_ui}}</bdi></a><meta itemprop="position" content="1" /></div></h3>{{/topic}}</header>{{/document_comment}}{{#removed}}<div class="locked-discussion-message right"></span>{{#_i}}This discussion is deleted.{{/_i}}</div>{{/removed}}<div class="hidden post-comment" id="edit-modal" style="padding-bottom: 20px;"></div><div class="discussion-main">{{^document_comment}}{{#sentence_comment}}{{#show_tts}}<span id="speaker-audio-1-button" class="speaker-small"><span class="listen-button-small icon icon-speaker-small {{#rtl}}img-flipped{{/rtl}}"></span></span>{{/show_tts}}{{/sentence_comment}}{{^sentence_comment}}<span class="avatar-poster">{{#user}}'+i(10)+'{{/user}}</span>{{/sentence_comment}}{{/document_comment}}<h1 class="{{#sentence_comment}}sentence-comment{{/sentence_comment}}" {{#document_comment}}style="padding-bottom: 20px"{{/document_comment}}>{{#sentence_comment}}"<span class="title"><bdi>{{format_title}}</bdi></span>"<meta itemprop="name" content="{{title}}" />{{/sentence_comment}}{{^sentence_comment}}<bdi itemprop="name">{{title}}</bdi>{{/sentence_comment}}</h1>{{^document_comment}}{{^sentence_comment}}{{#user}}{{^deactivated}}<div class="header-subline" itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/{{username}}" class="username" itemprop="name">{{username}}</a> '+i(179)+'</div>{{/deactivated}}{{#deactivated}}<div class="header-subline">{{#_i}}Posted {{#pretty_date}}{{datetime_string}}{{/pretty_date}} by [deactivated user]{{/_i}}</div>{{/deactivated}}{{/user}}{{/sentence_comment}}<div class="discussion-main-body" itemprop="text"><bdi>{{#message}}{{^sentence_comment}}{{^deleted}}{{{processed_message}}}{{/deleted}}{{#deleted}}{{#_i}}[deleted]{{/_i}} {{/deleted}}{{/sentence_comment}}{{/message}}</bdi>{{#sentence_comment}}<p><strong><span {{#rtl}}style="float: right; padding-left: 5px"{{/rtl}}>{{#_i}}Translation:{{/_i}}</span></strong> <span class="trans translation-source" dir="auto">{{translation}}</span></p>{{/sentence_comment}}</div><div class="discussion-action-buttons right">{{^sentence_comment}}{{^removed}}{{#editable}}{{^frozen}}<a href="javascript:;" class="edit-comment">{{#_i}}Edit{{/_i}}</a>{{/frozen}}{{/editable}}{{#deletable}}<a href="javascript:;" class="delete-comment">{{#_i}}Delete{{/_i}}</a>{{/deletable}}{{/removed}}{{#show_dropdown}}<div class="dropdown admin"><div data-toggle="dropdown" class="">{{#_i}}Moderate{{/_i}} <span class="icon icon-arrow-down-gray"></span></div><ul class="dropdown-menu arrow-top" role="menu" aria-labelledby="dLabel">{{#make_sticky}}{{#sticky}}<li><a href="javascript:;" class="make-unsticky">{{#_i}}Make Unsticky{{/_i}}</a></li>{{/sticky}}{{^sticky}}<li><a href="javascript:;" class="make-sticky">{{#_i}}Make Sticky{{/_i}}</a></li>{{/sticky}}{{/make_sticky}}{{#freeze_thread}}{{^frozen}}<li><a href="javascript:;" class="freeze-thread">{{#_i}}Lock Discussion{{/_i}}</a></li>{{/frozen}}{{#frozen}}<li><a href="javascript:;" class="unfreeze-thread">{{#_i}}Unlock Discussion{{/_i}}</a></li>{{/frozen}}{{/freeze_thread}}{{^removed}}{{#delete_thread}}<li><a href="javascript:;" class="delete-thread">{{#_i}}Delete Discussion{{/_i}}</a></li>{{/delete_thread}}{{/removed}}</ul></div>{{/show_dropdown}}{{#logged_in}}{{^trial_account}}<span>{{#rupees}}<a href="javascript:;" class="give-love">{{#_i}}Give Lingot{{/_i}}</a>{{/rupees}}{{#love}}<span><span class="icon icon-lingot-small"></span><span class="love-number">{{love}}</span></span>{{/love}}</span>{{/trial_account}}{{/logged_in}}{{/sentence_comment}}{{#sentence_comment}}{{#delete_thread}}{{^removed}}<a href="javascript:;" class="edit-comment">{{#_i}}Edit{{/_i}}</a><a href="javascript:;" class="delete-comment">{{#_i}}Delete{{/_i}}</a>{{/removed}}<div class="dropdown admin"><div data-toggle="dropdown" class="">{{#_i}}Moderate{{/_i}} <span class="icon icon-arrow-down-gray"></span></div><ul class="dropdown-menu arrow-top" role="menu" aria-labelledby="dLabel">{{^removed}}<li><a href="javascript:;" class="delete-thread">{{#_i}}Delete Discussion{{/_i}}</a></li>{{/removed}}{{^frozen}}<li><a href="javascript:;" class="freeze-thread">{{#_i}}Lock Discussion{{/_i}}</a></li>{{/frozen}}{{#frozen}}<li><a href="javascript:;" class="unfreeze-thread">{{#_i}}Unlock Discussion{{/_i}}</a></li>{{/frozen}}</ul></div>{{/delete_thread}}{{#editor_url}}<a target="_blank" href="{{editor_url}}">{{#_i}}Find in Incubator{{/_i}}</a>{{/editor_url}}{{/sentence_comment}}</div><div class="discussion-main-detail"><div class="vote-module-small">{{#logged_in}}{{^trial_account}}<div class="vote-count {{#user_upvoted}}active-upvoted{{/user_upvoted}} {{#user_downvoted}}active-downvoted{{/user_downvoted}}">{{votes}}</div><button class="btn btn-custom vote-up" id="comment-{{id}}-upvote"><span class="icon icon-vote-up-small {{#user_upvoted}}active{{/user_upvoted}}"></span></button><button class="btn btn-custom vote-down" id="comment-{{id}}-downvote"><span class="icon icon-vote-down-small {{#user_downvoted}}active{{/user_downvoted}}"></span></button>{{/trial_account}}{{/logged_in}}{{^logged_in}}<div class="vote-count" itemprop="upvoteCount">{{votes}}</div>{{/logged_in}}</div>{{#pretty_date}}{{datetime_string}}{{/pretty_date}}<meta itemprop="dateCreated" content="{{datetime_string}}" /></div>{{/document_comment}}{{#logged_in}}{{^trial_account}}{{^frozen}}<div class="discussion-main-new-comment">{{#logged_in_user}}<span class="left">'+i(10)+'</span>{{/logged_in_user}}{{^can_comment}}<div class="social-xp-threshold"><p>{{#_i}}Reach level 2 to start participating in discussions. If you\'re experiencing an issue, please visit the <a href="/help">Help page</a> or <a href="/troubleshooting">Troubleshooting forum.</a>{{/_i}}</p></div>{{/can_comment}}{{#can_comment}}<textarea placeholder="{{#num_comments}}{{#_i}}Leave a new comment{{/_i}}{{/num_comments}} {{^num_comments}}{{#_i}}Start the discussion{{/_i}}{{/num_comments}}" class="textarea-block textarea-autogrow" id="post-text-box" dir="auto"></textarea><div class="save-message hidden">{{#_i}}Comment posted!{{/_i}}</div><div class="action-buttons hidden" id="post-button"><button class="btn btn-green" id="post-comment">{{#_i}}Post{{/_i}}</button><button class="btn btn-standard cancel-update-comment">{{#_i}}Cancel{{/_i}}</button></div>{{/can_comment}}</div>{{/frozen}}{{/trial_account}}{{/logged_in}}</div>{{#trial_account}}<div class="trial-account-overlay"></div>{{/trial_account}}<div class="discussion-comments"><h2>{{#num_comments}}{{#_i}}{{num_comments}} {{#pluralize}}Comment,Comments,{{num_comments}}{{/pluralize}}{{/_i}}{{/num_comments}}{{^num_comments}}{{#_i}}No one has commented yet.{{/_i}}{{/num_comments}}<meta itemprop="answerCount" content="{{#num_comments}}{{num_comments}}{{/num_comments}}{{^num_comments}}0{{/num_comments}}" />{{#document_comment}}<span><button id="watch" class="btn right btn-green {{#watching}}checkmark{{/watching}} document-discussion-follow-btn">{{#watching}}{{#_i}}Following discussion{{/_i}}{{/watching}}{{^watching}}{{#_i}}Follow discussion{{/_i}}{{/watching}}</button></span>{{/document_comment}}{{#frozen}}<div class="locked-discussion-message"><span class="icon-lock icon"></span>{{#_i}}This discussion is locked.{{/_i}}</div>{{/frozen}}</h2><ul class="discussion-comments-list outside {{#trial_account}}trial-comments{{/trial_account}}">{{#comments}}{{^removed}}<li id="comment-{{id}}" class="discussion-comments-list-item" itemprop="suggestedAnswer" itemscope itemtype="https://schema.org/Answer"></li>{{/removed}}{{#removed}}{{#deleted}}<li id="comment-{{id}}" class="discussion-comments-list-item"></li>{{/deleted}}{{/removed}}{{#removed}}{{^deleted}}{{#undeletable}}<li id="comment-{{id}}" class="discussion-comments-list-item"></li>{{/undeletable}}{{/deleted}}{{/removed}}{{/comments}}{{#num_hidden}}<li class="show-toggle comment" id="show-toggle"><a href="javascript:;" class="show-bad-comment">[+] <i>{{#_i}}{{num_hidden}} hidden {{#pluralize}}comment,comments,{{num_hidden}}{{/pluralize}}{{/_i}}</i></a></li>{{/num_hidden}}{{#undeletable}}{{^num_hidden}}<li class="show-toggle comment" id="show-toggle"><a href="javascript:;" class="show-bad-comment">[+] <i>{{#_i}}{{num_hidden}} hidden {{#pluralize}}comment,comments,{{num_hidden}}{{/pluralize}}{{/_i}}</i></a></li>{{/num_hidden}}{{/undeletable}}</ul></div>{{^document_comment}}</section>'+i(12)+"</main>{{/document_comment}} "},function(e,t){e.exports='<h5 style="margin-top: 20px">{{#results_count}}{{#_i}}{{results_count}} {{#pluralize}}result,results,{{results_count}}{{/pluralize}}{{/_i}}{{/results_count}}{{^results_count}}{{#_i}}0 results{{/_i}}{{/results_count}}</h5><ul style="" class="discussion-search-results">{{#comments}}<li><a href="/comment/{{parent_id}}">{{topic_name}}: {{parent_title}}</a><div>"...{{{extract}}}..."</div></li>{{/comments}}</ul>{{#has_more}}<button id="load-more-comments" class="btn" style="margin-top: 20px">{{#_i}}load more{{/_i}}</button>{{/has_more}} '},function(e,t,i){e.exports="{{#user}}"+i(197)+'{{/user}}<span class="icon icon-comment-medium {{#rtl}}pseudo-bg-flipped{{/rtl}}">{{num_comments}}</span><header class="list-discussion-item-header">{{#sticky}}<div class="sticky-discussion-message">{{#_i}}Sticky{{/_i}}</div>{{/sticky}}<a href="/comment/{{id}}" class="comment"><bdi>{{title}}</bdi></a></header><footer class="list-discussion-item-footer"><div class="vote-module-small"><div class="vote-count {{#user_upvoted}}active-upvoted{{/user_upvoted}} {{#user_downvoted}}active-downvoted{{/user_downvoted}}">{{votes}}</div>{{#logged_in}}{{^trial_account}}<button class="btn btn-custom vote-up" id="comment-{{id}}-upvote"><span class="icon icon-vote-up-small {{#user_upvoted}}active{{/user_upvoted}}"></span></button><button class="btn btn-custom vote-down" id="comment-{{id}}-downvote"><span class="icon icon-vote-down-small {{#user_downvoted}}active{{/user_downvoted}}"></span></button>{{/trial_account}}{{/logged_in}}</div><span class="full-footer">{{#pretty_date}}{{datetime_string}}{{/pretty_date}}{{#user}}{{^deactivated}} {{#_i}}by <a href="/{{username}}" class="">{{username}}{{/_i}}</a>{{/deactivated}}{{#deactivated}} {{#_i}}by [deactivated user]{{/_i}}{{/deactivated}}{{/user}}{{#front_page}}{{#topic}} {{#_i}}in <a href="/topic/{{id}}" class="blue">{{#_iv}}{{name}}{{/_iv}} {{#different_ui}}({{#_iv}}{{from_language_name}}{{/_iv}}){{/different_ui}}</a>{{/_i}}{{/topic}}{{/front_page}}</span><span class="compact-footer">{{#pretty_date}}{{datetime_string}}{{/pretty_date}}</span></footer> '},function(e,t,i){e.exports='<div id="nested-comment-{{id}}" class="{{#removed}}{{^deleted}}faded-comment{{/deleted}}{{/removed}}"><span id="self-comment">{{#user}}<span class="left">'+i(10)+'</span>{{/user}}<header>{{#user}}{{^deactivated}}<span itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/{{username}}" class="username" itemprop="name">{{username}}</a></span> {{/deactivated}}{{#deactivated}}{{#_i}}[deactivated user]{{/_i}} {{/deactivated}}'+i(179)+'{{/user}}{{#show_date}}<span class="showing-date-compact">{{#pretty_date}}{{datetime_string}}{{/pretty_date}}</span>{{/show_date}}</header><div class="body" id="body-{{id}}"><bdi>{{^deleted}}<div itemprop="text">{{{processed_message}}}</div>{{/deleted}}{{#deleted}}<p><i>{{#_i}}[deleted]{{/_i}}</i></p>{{/deleted}}</bdi></div><div class="footer" style="height:26px">{{#logged_in}}{{^trial_account}}{{^removed}}<div class="vote-module-small"><div class="vote-count {{#user_upvoted}}active-upvoted{{/user_upvoted}} {{#user_downvoted}}active-downvoted{{/user_downvoted}}">{{votes}}</div><button class="btn btn-custom vote-up " id="comment-{{id}}-upvote"><span class="icon icon-vote-up-small {{#user_upvoted}}active{{/user_upvoted}}"></span></button><button class="btn btn-custom vote-down" id="comment-{{id}}-downvote"><span class="icon icon-vote-down-small {{#user_downvoted}}active{{/user_downvoted}}"></span></button></div>{{^deleted}}{{^frozen}}{{#depth}}{{#can_comment}}<a href="javascript:;" class="add-reply">{{#_i}}Reply{{/_i}}</a>{{/can_comment}}{{/depth}}{{#editable}}<a href="javascript:;" class="edit-comment">{{#_i}}Edit{{/_i}}</a>{{/editable}}{{/frozen}}{{#deletable}}<a href="javascript:;" class="delete-comment">{{#_i}}Delete{{/_i}}</a>{{/deletable}}{{/deleted}}{{/removed}}{{#removed}}{{^deleted}}{{#undeletable}}<a href="javascript:;" class="undelete-comment">{{#_i}}Undelete{{/_i}}</a>{{/undeletable}}{{/deleted}}{{/removed}}{{#deleted}}{{#undeletable}}<a href="javascript:;" class="undelete-comment">{{#_i}}Undelete{{/_i}}</a>{{/undeletable}}{{/deleted}}{{#rupees}}<a href="javascript:;" class="give-love">{{#_i}}Give Lingot{{/_i}}</a>{{/rupees}}{{#love}}<span class="icon icon-lingot-micro"></span><span class="love-number">{{love}}</span>{{/love}}{{#show_date}}<span class="divider">•</span>{{/show_date}}{{/trial_account}}{{/logged_in}}{{^logged_in}}{{^deleted}}{{^removed}}<div class="vote-module-small"><div class="vote-count" itemprop="upvoteCount">{{votes}}</div></div>{{/removed}}{{/deleted}}{{/logged_in}}{{#show_date}}<span class="showing-date">{{#pretty_date}}{{datetime_string}}{{/pretty_date}}</span>{{^deleted}}{{^removed}}<meta itemprop="dateCreated" content="{{datetime_string}}" />{{/removed}}{{/deleted}}{{/show_date}}</div><div class="edit-post-box hidden" id="edit-box-{{id}}"><div class="form-row small margin-bottom"><textarea class="post-edit-box comment-box" style="width: 96%; height: 80px;" name="post-edit-box" dir="auto">{{message}}</textarea></div><input type="submit" class="btn btn-green update-comment btn-small" value="{{#_i}}Save{{/_i}}"> <input type="reset" class="btn-small btn btn-standard cancel-update-comment" value="{{#_i}}Cancel{{/_i}}"></div><div id="reply-box-{{id}}" class="hidden new-comment"><textarea class="textarea-block margin-bottom" id="postreply-{{id}}" name="postreply" placeholder="{{#_i}}Leave a reply{{/_i}}" dir="auto"></textarea><button id="post-reply" class="btn margin-right btn-green post-reply">{{#_i}}Post{{/_i}}</button><button class="btn btn-standard cancel-reply">{{#_i}}Cancel{{/_i}}</button></div></span><ul id="comments" class="discussion-comments-list shifted" style="{{^comments}}margin: 0;{{/comments}}">{{#comments}}{{^removed}}<li id="comment-{{id}}" class="discussion-comments-list-item"></li>{{/removed}}{{#removed}}{{^deleted}}{{#undeletable}}<li id="comment-{{id}}" class="discussion-comments-list-item"></li>{{/undeletable}}{{/deleted}}{{/removed}}{{#removed}}{{#deleted}}<li id="comment-{{id}}" class="discussion-comments-list-item"></li>{{/deleted}}{{/removed}}{{/comments}}{{#num_hidden}}<li class="show-toggle comment" id="show-toggle-{{id}}"><a href="javascript:;" class="show-bad-comment">[+] <i>{{#_i}}{{num_hidden}} hidden {{#pluralize}}comment,comments,{{num_hidden}}{{/pluralize}}{{/_i}}</i></a></li>{{/num_hidden}}{{^num_hidden}}{{#undeletable}}<li class="show-toggle comment" id="show-toggle-{{id}}"><a href="javascript:;" class="show-bad-comment">[+] <i>{{#_i}}{{num_hidden}} hidden {{#pluralize}}comment,comments,{{num_hidden}}{{/pluralize}}{{/_i}}</i></a></li>{{/undeletable}}{{/num_hidden}}</ul></div> '},function(e,t){e.exports='<header class="discussion-header"><button class="btn btn-primary right submit-post">{{#edit}}{{#_i}}Save{{/_i}}{{/edit}}{{^edit}}{{#_i}}Post Discussion{{/_i}}{{/edit}}</button><button class="btn btn-standard right cancel-post margin-right">{{#_i}}Cancel{{/_i}}</button><div class="dropdown left"><button id="select-category" data-toggle="dropdown" class="btn btn-green"><span id="category">{{#_i}}Pick a discussion topic{{/_i}}</span> <span class="icon icon-arrow-down-white"></span></button><ul class="dropdown-menu skill-list" role="menu" aria-labelledby="dLabel">{{#troubleshoot_only}}<li id="topic-{{troubleshoot_topic}}" class="category-option" data-topic="{{troubleshoot_topic}}" data-name="{{#_i}}Troubleshooting{{/_i}}"><a href="javascript:;">{{#_i}}Troubleshooting{{/_i}}</a></li>{{/troubleshoot_only}}{{^troubleshoot_only}}{{#edit}}{{#all_topics}}<li id="topic-{{id}}" class="category-option" data-topic="{{id}}" data-name="{{#_ivar}}name{{/_ivar}}"><a href="javascript:;">{{#_ivar}}name{{/_ivar}}</a></li>{{/all_topics}}{{/edit}}{{^edit}}{{#show_subscriptions}}{{#subscriptions}}<li id="topic-{{topic_id}}" class="category-option" data-topic="{{topic_id}}" data-name="{{#_ivar}}name{{/_ivar}}"><a href="javascript:;">{{#language_string}}{{#_i}}{{#_iv}}{{language_string}}{{/_iv}} from {{#_iv}}{{from_language_string}}{{/_iv}}{{/_i}}{{/language_string}}{{^language_string}}{{#_i}}{{#_iv}}{{name}}{{/_iv}} in {{#_iv}}{{from_language_string}}{{/_iv}}{{/_i}}{{/language_string}}</a></li>{{/subscriptions}}{{/show_subscriptions}}{{^show_subscriptions}}<li id="topic-{{id}}" class="category-option" data-topic="{{id}}" data-name="{{#_ivar}}name{{/_ivar}}"><a href="javascript:;">{{#_ivar}}name{{/_ivar}}</a></li>{{/show_subscriptions}}{{/edit}}{{/troubleshoot_only}}</ul></div></header><ul class="list-discussion-errors hidden"><li class="no-topic hidden"><span class="icon icon-wrong-small"></span> {{#_i}}Pick a discussion topic{{/_i}}</li><li class="no-title hidden"><span class="icon icon-wrong-small"></span> {{#_i}}Enter a post title{{/_i}}</li></ul><div class="post-discussion-main"><textarea class="textarea-block textarea-discussion-headline title-field" id="{{#edit}}edit{{/edit}}{{^edit}}{{type}}{{/edit}}-title" maxlength="100" {{#edit}}value="{{title}}"{{/edit}} placeholder="{{#_i}}Type your post title{{/_i}}" dir="auto"></textarea><span class="max-error warning-message hidden">{{#_i}}Please limit your title to 100 characters.{{/_i}}</span><textarea name="" rows="" class="textarea-block textarea-discussion-post post-field" id="{{#edit}}edit{{/edit}}{{^edit}}{{type}}{{/edit}}-post" placeholder="{{#_i}}Type your post{{/_i}}" dir="auto">{{#edit}}{{message}}{{/edit}}</textarea></div>';
},function(e,t){e.exports='<div id="subscription-modal" class="modal hidden fade" style="margin-top: -200px;"><div class="modal-header"><h4 style="margin: 0;">{{#_i}}Manage your subscriptions{{/_i}}</h4><div class="close" data-dismiss="modal">{{#_i}}close{{/_i}}</div></div><div class="modal-body"><ul class="list-subscriptions">{{#topics}}<li><span class="icon icon-sidebar {{#language_abbrev}}flag flag-svg-small flag-{{language_abbrev}}{{/language_abbrev}}{{^language_abbrev}}icon-section-{{type}}{{/language_abbrev}}"><span class="flag flag-svg-micro flag-{{flag_abbrev}}"></span></span>{{#language_abbrev}}{{#_i}}<strong>{{#_iv}}{{language_string}}{{/_iv}}</strong> <span class="gray">from {{#_iv}}{{from_language_string}}{{/_iv}}</span>{{/_i}}{{/language_abbrev}}{{^language_abbrev}}{{#main}}{{#_i}}<strong>{{#_iv}}{{name}}{{/_iv}}</strong> <span class="gray">in {{#_iv}}{{from_language_string}}{{/_iv}}</span>{{/_i}}{{/main}}{{^main}}<strong>{{#_iv}}{{name}}{{/_iv}}</strong>{{/main}}{{/language_abbrev}}<button class=\'btn btn-small toggle-subscription {{#subscribed}}checkmark btn-green subscribed{{/subscribed}}{{^subscribed}}btn-outline btn-standard{{/subscribed}} right\' data-id="{{topic_id}}" data-subscribe="{{#_i}}Subscribe{{/_i}}" data-unsubscribe="{{#_i}}Subscribed{{/_i}}">{{#subscribed}}{{#_i}}Subscribed{{/_i}}{{/subscribed}}{{^subscribed}}{{#_i}}Subscribe{{/_i}}{{/subscribed}}</button></li>{{/topics}}</ul></div></div> '},function(e,t,i){e.exports='<main class="main-right"><section class="page-sidebar sidebar-left"><div class="inner"><div class="box-gray">{{#show_subscriptions}}<h2 style="margin-bottom: 15px;"><button class="btn btn-blue btn-edit-subscriptions btn-small right manage-subscriptions">{{#_i}}Edit{{/_i}}</button>{{#_i}}Your subscriptions:{{/_i}}</h2><ul class="nav-sidebar discussion-topic-list"><li class="divider"></li>{{#subscriptions}}<li class="{{#active}}active{{/active}}" data-id="{{topic_id}}"><!-- <button class="btn btn-white btn-unsubscribe" data-id="{{topic_id}}"><span class="icon icon-trash-black"></span></button> --><a href="/topic/{{topic_id}}"><span class="icon icon-sidebar {{#language_abbrev}}flag flag-svg-small flag-{{language_abbrev}}{{/language_abbrev}}{{^language_abbrev}}icon-section-{{type}}{{/language_abbrev}}"><span class="flag flag-svg-micro flag-{{flag_abbrev}}"></span></span>{{#language_abbrev}}{{#_i}}{{#_iv}}{{language_string}}{{/_iv}} <span class="gray">from {{#_iv}}{{from_language_string}}{{/_iv}}</span>{{/_i}}{{/language_abbrev}}{{^language_abbrev}}{{#main}}{{#_i}}{{#_iv}}{{name}}{{/_iv}} <span class="gray">in {{#_iv}}{{from_language_string}}{{/_iv}}</span>{{/_i}}{{/main}}{{^main}}{{#_iv}}{{name}}{{/_iv}}{{/main}}{{/language_abbrev}}{{#active}}<span class="icon-arrow-right icon"></span>{{/active}}</a></li>{{/subscriptions}}{{^subscriptions}}<li class="empty-subscriptions">{{#_i}}None{{/_i}}</li>{{/subscriptions}}{{^hide_troubleshoot}}<li class="divider"></li><li><a href="/topic/{{troubleshooting_id}}"><span class="icon icon-sidebar icon-section-troubleshooting {{#rtl}}pseudo-bg-flipped{{/rtl}}"><span class="flag flag-svg-micro flag-{{troubleshoot_ui}}"></span></span>{{#_i}}Troubleshooting{{/_i}}</a></li>{{/hide_troubleshoot}}</ul>{{/show_subscriptions}}{{^show_subscriptions}}<h2>{{#_i}}Sections{{/_i}}</h2><ul class="nav-sidebar">{{#subtopics}}<li class="{{#active}}active{{/active}}"><a href="/topic/{{id}}"><span class="icon icon-sidebar {{#language_abbrev}}flag flag-svg-small flag-{{language_abbrev}}{{/language_abbrev}}{{^language_abbrev}}icon-section-{{type}}{{/language_abbrev}}"></span>{{#_ivar}}name{{/_ivar}}{{#active}}<span class="icon-arrow-right icon"></span>{{/active}}</a></li>{{/subtopics}}</ul>{{/show_subscriptions}}</div><div class="box-gray incubator-ad"><h2>{{#_i}}Looking for more language courses?{{/_i}}</h2><span class="skill-icon small unlocked blue right"><span class="skill-icon-image skill-icon-1"></span></span><p class="gray">{{#_i}}The Language Incubator allows the community to create new courses for Duolingo.{{/_i}}</p><a href="http://incubator.duolingo.com" class="btn btn-standard btn-outline btn-block" target="_blank">{{#_i}}See new courses{{/_i}}</a></div></div></section><section class="page-main main-right">{{^front_page}}{{#logged_in}}{{^trial_account}}<header class="topic-header discussion-header no-border"><button id="ask-question" class="btn btn-green right btn-more-padding">{{#_i}}New Discussion{{/_i}}</button><div class="search-topics"><span class="icon icon-search-gray"></span><input type="text" name="search" value="" placeholder="{{#_i}}Search{{/_i}}" class="search-box" id="search-comments" maxlength="50"/><div class="clear-button btn" style="display : none">x</div></div><h3 class="gray"><a href="/discussion" class="with-back-arrow"><span class="icon icon-arrow-back-gray"></span> {{#_i}}Discussion stream{{/_i}}</a></h3></header>{{/trial_account}}{{/logged_in}}{{/front_page}}<span class="comment-rankings">{{#front_page}}{{#logged_in}}{{^trial_account}}<button id="ask-question" class="btn btn-green right btn-more-padding">{{#_i}}New Discussion{{/_i}}</button>{{/trial_account}}{{/logged_in}}<div class="search-topics"><span class="icon icon-search-gray"></span><input type="text" name="search" value="" placeholder="{{#_i}}Search{{/_i}}" class="search-box" id="search-comments" maxlength="50"/><div class="clear-button btn" style="display : none">x</div></div>{{/front_page}}<h1 class="topic-heading">{{#front_page}}{{#_i}}Discussion stream{{/_i}}{{/front_page}}{{^front_page}}{{#learning_language_string}}{{#_i}}{{#_iv}}{{learning_language_string}}{{/_iv}} Discussions{{/_i}}{{/learning_language_string}}{{^learning_language_string}}{{#_i}}{{#_iv}}{{name}}{{/_iv}} Discussions{{/_i}}{{/learning_language_string}}{{/front_page}}</h1><ul class="nav-tabs"><li class="active" data-tab="hot" id="hot"><a href="{{#topic_id}}/topic/{{topic_id}}/hot{{/topic_id}}{{^topic_id}}javascript:;{{/topic_id}}">{{#_i}}Popular||list-sort{{/_i}}</a></li><li data-tab="new" id="new"><a href="{{#topic_id}}/topic/{{topic_id}}/new{{/topic_id}}{{^topic_id}}javascript:;{{/topic_id}}">{{#_i}}New||list-sort{{/_i}}</a></li>{{^main_topic}}{{^front_page}}<li data-tab="sent" id="sent"><a href="{{#topic_id}}/topic/{{topic_id}}/sent{{/topic_id}}{{^topic_id}}javascript:;{{/topic_id}}">{{#_i}}Sentences{{/_i}}</a></li>{{/front_page}}{{/main_topic}}{{^front_page}}<li data-tab="top" id="top"><a href="{{#topic_id}}/topic/{{topic_id}}/top{{/topic_id}}{{^topic_id}}javascript:;{{/topic_id}}">{{#_i}}Top All Time{{/_i}}</a></li>{{/front_page}}{{#show_active}}<li data-tab="active" id="active"><a href="{{#topic_id}}/topic/{{topic_id}}/active{{/topic_id}}{{^topic_id}}javascript:;{{/topic_id}}">{{#_i}}Active{{/_i}} (Mod)</a></li>{{/show_active}}{{#front_page}}<li data-tab="following" id="following"><a href="{{#topic_id}}/topic/{{topic_id}}/following{{/topic_id}}{{^topic_id}}javascript:;{{/topic_id}}">{{#_i}}Followed{{/_i}}</a></li>{{/front_page}}</ul><div class="comment-search"></div><div class="comment-main"><div id="hot-tab" class="panel"></div><div id="new-tab" class="panel hidden unordered-content"></div>{{^main_topic}}{{^front_page}}<div id="sent-tab" class="panel hidden unordered-content"></div>{{/front_page}}{{/main_topic}}{{^front_page}}<div id="top-tab" class="panel hidden unordered-content"></div>{{/front_page}}{{#show_active}}<div id="active-tab" class="panel hidden unordered-content"></div>{{/show_active}}{{#front_page}}<div id="following-tab" class="panel hidden unordered-content"></div>{{/front_page}}<div id="comments" class=""></div><i id="no-results" class="hidden">{{#_i}}No results found.{{/_i}}</i></div></span><div class="post-comment hidden" id="question-fields"></div></section>'+i(12)+'<div id="topic-subscriptions"></div></main> '},function(e,t,i){e.exports='<main class="main-standard"><section class="page-main" itemscope itemtype="http://schema.org/ItemList"><meta itemprop="itemListOrder" content="Descending" /><div class="from-language-selector">{{#_i}}I speak:{{/_i}}<label class="grey-select "><select class="from-language-dropdown"><option data-id="all" data-abbrev="all">{{#_i}}All languages{{/_i}}</option>{{#all_source_languages}}<option data-id="{{id}}" data-abbrev="{{abbrev}}">{{#_i}}{{#_iv}}{{language_name}}{{/_iv}}||list of ui languages{{/_i}}</option>{{/all_source_languages}}</select></label></div><h1 class="course-list-headline" itemprop="name">{{course_list_headline}}</h1><hr/><div class="list-course-cards">{{#rows}}{{#directions}}{{#attributes}}<div class="course-card {{learning_language}}" itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><a href="/course/{{learning_language_id}}/{{from_language_id}}/{{#_i}}Learn-{{#_iv}}{{learning_language_name}}{{/_iv}}-Online{{/_i}}" itemprop="item" itemscope itemtype="http://schema.org/WebApplication">{{#learning}}<div class="course-learning-badge"><span class="icon icon-check-white-small"></span> {{#_i}}LEARNING{{/_i}}</div>{{/learning}}<div class="course-card-header course-page-illustration-{{learning_language}} gradient"><div class="small-course-illustration layer-1"></div><div class="small-course-illustration layer-2"></div><div class="small-course-illustration layer-3"></div><div class="small-course-illustration layer-4"></div><div class="learn-count">{{#in_progress}}{{#_i}}Hatching: {{progress}}% done{{/_i}}{{/in_progress}}{{#in_beta}}{{#_i}}In Beta: {{num_learners_string}} {{#pluralize}}learner,learners,{{num_learners}}{{/pluralize}}{{/_i}}{{/in_beta}}{{#released}}{{#_i}}{{num_learners_string}} {{#pluralize}}learner,learners,{{num_learners}}{{/pluralize}}{{/_i}}<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter"><meta itemprop="interactionType" content="http://schema.org/RegisterAction" /><meta itemprop="userInteractionCount" content="{{num_learners}}" /></div>{{/released}}</div></div><div class="course-card-footer"><span class="flag flag-svg-medium flag-{{learning_language}}"></span>{{#_i}}<strong>{{#_iv}}{{learning_language_name}}{{/_iv}}</strong>for {{#_iv}}{{from_language_name}}{{/_iv}} speakers{{/_i}}</div><meta itemprop="name" content="{{#_i}}Learn {{#_iv}}{{learning_language_name}}{{/_iv}} from {{#_iv}}{{from_language_name}}{{/_iv}}{{/_i}}" /><meta itemprop="creator" content="{{#_i}}Duolingo{{/_i}}" /><meta itemprop="operatingSystem" content="{{#_i}}All{{/_i}}" /><meta itemprop="applicationCategory" content="{{#_i}}language learning{{/_i}}" /><div itemprop="offers" itemscope itemtype="http://schema.org/Offer"><meta itemprop="price" content="0" /></div></a></div>{{/attributes}}{{/directions}}{{/rows}}</div><hr/><div class="course-incubator-ad"><span class="course-list-illustration"></span><h2 class="bold">{{#_i}}Language courses made by the people{{/_i}}</h2><p style="margin-bottom: 30px;">{{#_i}}The Duolingo Incubator gives bilinguists the power to share their knowledge with people all over the world. Are you up to the challenge?{{/_i}}</p><a href="http://incubator.duolingo.com" target="_blank" class="btn btn-blue btn-lg">{{#_i}}Contribute to a course{{/_i}}</a></div></section><div class="footer-centered">{{^logged_in}}<footer id="footer-sitemap" />{{/logged_in}}{{#logged_in}}'+i(12)+"{{/logged_in}}</div></main> "},function(e,t){e.exports='<div class="course-splash"><section dir="{{dir}}" class="full-screen"><div class="course-page-header" itemscope itemtype="http://schema.org/BreadcrumbList"><div class="show-all-courses-cointainer" itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><a href="/courses/{{^from_all}}{{from_language_id}}{{/from_all}}{{#from_all}}all{{/from_all}}" class="show-all-courses" itemprop="item"><span class="icon icon-back-dark {{#rtl}}img-flipped{{/rtl}}"></span><span itemprop="name" data-track-click="course list">{{#_i}}See other language courses{{/_i}}</span></a><meta itemprop="position" content="1" /></div></div><div dir="{{dir}}" class="signup"><div id="signup-main" class="{{#show_form}}hidden{{/show_form}}"><div class="section-inner center fold"><div class="cta-container">{{#phase_1}}<span class="launch-date-wrapper">{{#_i}}Coming <span>{{beta_launch_date}}</span>!{{/_i}}</span>{{/phase_1}}<h1 class="long-header-label">{{#phase_1}}{{#_i}}{{#_iv}}{{learning_language_name}}{{/_iv}} for {{#_iv}}{{from_language_name}}{{/_iv}} speakers{{/_i}}{{/phase_1}}{{^phase_1}}{{#_i}}Learn {{#_iv}}{{learning_language_name}}{{/_iv}} in just 5 minutes a day. For free.{{/_i}}{{/phase_1}}</h1><h1 class="short-header-label">{{#_i}}Learn {{#_iv}}{{learning_language_name}}{{/_iv}} for Free{{/_i}}</h1>{{#phase_1}}<button class="btn btn-white btn-solid subscribe email-subscribe btn-monument-color" data-subscribed="{{#_i}}We’ll notify you{{/_i}}" data-unsubscribed="{{#_i}}Notify me when available{{/_i}}" data-track-click="course subscribe"><span class="subscribe-text"></span><input id="email-input" placeholder="{{#_i}}Email address{{/_i}}" class="email-input" type="text" tabindex="-1" style="display: none"/></button><button class="btn btn-white btn-solid confirm-email-subscribe btn-monument-color hidden">{{#_i}}Submit{{/_i}}</button><div class="error-toast hidden"></div>{{/phase_1}}{{^phase_1}}{{#has_email}}<button class="btn btn-start-learning btn-solid login btn-monument-color" data-track-click="course begin loggedout">{{#_i_in}}Log in to Start Learning{{/_i_in}}</button>{{/has_email}}{{^has_email}}<button class="btn btn-start-learning btn-solid register btn-monument-color" data-track-click="course begin loggedout">{{#_i}}Start learning{{/_i}}</button>{{/has_email}}{{/phase_1}}<div class="counter hidden">{{#phase_1}}{{#_i}}<span>{{num_users}}</span> waiting to take {{#_iv}}{{learning_language_name}}{{/_iv}} on Duolingo{{/_i}}{{/phase_1}}{{^phase_1}}{{#_i}}<span>{{num_users}}</span> people taking {{#_iv}}{{learning_language_name}}{{/_iv}} on Duolingo{{/_i}}{{/phase_1}}</div></div></div></div><div class="monument-container"><img src="/images/courses/{{learning_language}}/full_colored.svg" class="monument" /></div><div class="arrow-container"><div class="icon icon-arrow-down-white x3" data-track-click="course below-the-fold" /></div></div></section><div class="main-container"><section dir="{{dir}}" class="duo-info"><div class="section-inner"><div class="text"><h2>{{#_i}}The world\'s most popular way to learn {{#_iv}}{{learning_language_name}}{{/_iv}} online{{/_i}}</h2><p>{{#_i}}Learn {{#_iv}}{{learning_language_name}}{{/_iv}} in just 5 minutes a day with our game-like lessons.{{/_i}} {{#_i}}Whether you’re a beginner starting with the basics or looking to practice your reading, writing, and speaking, <a href="/research">Duolingo is scientifically proven to work</a>.{{/_i}}</p></div><div class="iphone-sample-wrapper"><span class="iphone-sample-screen"></span></div></div></section><section dir="{{dir}}" class="website"><div class="section-inner"><div class="text"><h2>{{#_i}}Bite-sized {{#_iv}}{{learning_language_name}}{{/_iv}} lessons. Fun, effective, and 100% free.{{/_i}}</h2></div><div class="callout-wrapper"><div class="callout-container-left scroll-animate"><span class="callout challenges"><span class="splash-icon microphone"></span><div class="text"><h4>{{#_i}}Personalized learning{{/_i}}</h4><p>{{#_i}}Duolingo lessons adapt to your learning style.{{/_i}} {{#_i}}Exercises are tailored to help you learn and review vocabulary effectively.{{/_i}}</p></div></span><span class="callout grading"><span class="splash-icon check-in-circle"></span><div class="text"><h4>{{#_i}}Receive immediate grading{{/_i}}</h4><p>{{#_i}}Interactive exercises provide instant feedback to help you improve your {{#_iv}}{{learning_language_name}}{{/_iv}} skills on the spot.{{/_i}}</p></div></span></div><span class="left-line-container scroll-animate"><div class="challenges line"></div><div class="grading line"></div></span><span class="splash-icon computer-2016 {{#rtl}}img-flipped{{/rtl}}"></span><span class="right-line-container scroll-animate" ><div class="streak line"></div><div class="heart line"></div></span><div class="callout-container-right scroll-animate"><span class="callout streak"><span class="splash-icon lingot"></span><div class="text"><h4>{{#_i}}Stay motivated with rewards{{/_i}}</h4><p>{{#_i}}Earn virtual coins, unlock new levels, and watch your fluency score rise as you master new words, phrases, and grammar.{{/_i}}</p></div></span><span class="callout heart"><span class="splash-icon streak"></span><div class="text"><h4>{{#_i}}Improve quickly{{/_i}}</h4><p>{{#_i}}Duolingo works. A study has shown that 34 hours of Duolingo are equal to 1 university semester of language courses.{{/_i}}</p></div></span></div></div></div></section><section dir="{{dir}}" class="mobile"><div class="section-inner"><div class="text"><h2>{{#_i}}Learn from anywhere{{/_i}}</h2><p>{{#_i}}Easily switch between learning on a computer and on-the-go with our award-winning mobile apps!{{/_i}} {{#_i}}Grow your vocabulary or master irregular verbs with a pocket-sized tutor that\'s always available.{{/_i}}</p><p class="mobile-link"><a class="btn btn-primary btn-outline btn-small" href="{{#_i}}//itunes.apple.com/app/duolingo-learn-spanish-french/id570060128?mt=8{{/_i}}" target="_blank" data-track-click="mobile download ios"><span class="splash-icon apple"></span><span class="link-text">{{#_i}}iOS{{/_i}}</span></a>{{#cn_extension}}<a class="btn btn-primary btn-outline btn-small" href="http://zhushou.360.cn/detail/index/soft_id/361348" target="_blank" data-track-click="mobile download android"><span class="splash-icon android"></span><span class="link-text">{{#_i}}Android{{/_i}}</span></a>{{/cn_extension}}{{^cn_extension}}<a class="btn btn-primary btn-outline btn-small" href="//play.google.com/store/apps/details?id=com.duolingo&hl={{ui_language_lang_id}}" target="_blank" data-track-click="mobile download android"><span class="splash-icon android"></span><span class="link-text">{{#_i}}Android{{/_i}}</span></a><a class="btn btn-primary btn-outline btn-small" href="{{#_i}}//www.microsoft.com/store/apps/duolingo-learn-languages-for-free/9wzdncrcv5xn{{/_i}}" target="_blank" data-track-click="mobile download windows"><span class="splash-icon windows"></span><span class="link-text">{{#_i}}Windows Phone{{/_i}}</span></a>{{/cn_extension}}</p></div><span class="splash-icon apps"></span></div></section><section dir="{{dir}}" class="schools"><div class="section-inner"><span class="school-icon dashboard-img"></span><div class="text"><h2>{{#_i}}Duolingo for Schools{{/_i}}</h2><p>{{#_i}}Introducing the best way to get kids excited about language class.{{/_i}} {{#_i}}Over 200,000 teachers are already using Duolingo for Schools to run interactive activities, assign fun homework and give their students confidence in their language abilities.{{/_i}}</p><a class="blue" href="https://schools.duolingo.com" target="_blank" data-track-click="web splash schools">{{#_i}}Use Duolingo in class{{/_i}}</a></div></div></section><footer class="footer-wrapper monument-background"><div class="footer-centered"><footer id="footer-sitemap" /></div></footer></div></div><div id="registration-modal-container"></div><div class="topbar-background-layer center"><div class="topbar-header"></div></div> '},function(e,t,i){e.exports='<main class="main-full-width course-page {{learning_language}}" itemscope itemtype="http://schema.org/WebPage"><section class="page-main"><div class="course-page-splash gradient"><div class="course-page-header" itemscope itemtype="http://schema.org/BreadcrumbList"><div itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><a href="/courses/{{^from_all}}{{from_language_id}}{{/from_all}}{{#from_all}}all{{/from_all}}" class="show-all-courses" itemprop="item"><span class="icon icon-back-dark {{#rtl}}img-flipped{{/rtl}}"></span><span itemprop="name">{{#_i}}All courses{{/_i}}</span></a><meta itemprop="position" content="1" /></div><span class="flag flag-{{learning_language}} flag-svg-small right"></span></div><div class="course-page-illustration-container"><div class="course-page-illustration course-page-illustration-{{learning_language}}" data-limit-y="15"><div class="layer parallax-layer layer-1" data-depth= "-0.12" ></div><div class="layer parallax-layer layer-2" data-depth= "-0.07" ></div><div class="layer parallax-layer layer-3" data-depth= "0.0325" data-invert-x="true"></div><div class="layer parallax-layer layer-4" data-depth= "0.0325" data-invert-x="true"></div></div></div><div class="course-page-body">{{#phase_1}}{{#estimated_beta_date_string}}<div class="course-status">{{#_i}}Estimated launch:{{/_i}} {{estimated_beta_date_string}}</div>{{/estimated_beta_date_string}}<h1 itemprop="name">{{#_i}}Learn {{#_iv}}{{learning_language_name}}{{/_iv}} from {{#_iv}}{{from_language_name}}{{/_iv}}{{/_i}}</h1><div class="sub-head"><button class="btn btn-white btn-solid subscribe btn-course-notify{{#user_subscribed}} success{{/user_subscribed}}" data-subscribed="{{#_i}}We’ll notify you{{/_i}}" data-unsubscribed="{{#_i}}Notify me when available{{/_i}}" data-track-click="course subscribe"><span class="subscribe-text"></span><input id="email-input" placeholder="{{#_i}}Email address{{/_i}}" class="email-input" type="text" tabindex="-1" style="display: none"/></button><button class="btn btn-white btn-solid confirm-email-subscribe hidden">{{#_i}}Submit{{/_i}}</button><div class="error-toast hidden"></div><span class="course-notify-count">{{subscriber_count}}</span></div>{{/phase_1}}{{^phase_1}}<div class="course-status">{{#_i}}{{num_learners_string}} {{#pluralize}}Learner,Learners,{{num_learners}}{{/pluralize}}{{/_i}}{{#learning}}<div class="course-learning-badge"><span class="icon icon-check-white-small margin-left"></span> {{#_i}}LEARNING{{/_i}}</div>{{/learning}}</div><h1 class="{{#curr_learning_language}}current{{/curr_learning_language}}{{#learning}}{{^curr_learning_language}}switch{{/curr_learning_language}}{{/learning}}" itemprop="name">{{#learning}}{{#_i}}{{#_iv}}{{learning_language_name}}{{/_iv}} for {{#_iv}}{{from_language_name}}{{/_iv}} speakers{{/_i}}{{/learning}}{{^learning}}{{#_i}}Learn {{#_iv}}{{learning_language_name}}{{/_iv}} from {{#_iv}}{{from_language_name}}{{/_iv}}{{/_i}}{{/learning}}</h1><div class="sub-head">{{#ui_language_matches}}{{#learning}}{{^curr_learning_language}}<button class="btn btn-white btn-outline switch-learning-language margin-left">{{#_i}}Switch to course{{/_i}}</button>{{/curr_learning_language}}{{/learning}}{{^learning}}<button class="btn btn-white btn-solid switch-learning-language" data-track-click="course begin loggedin">{{#_i}}Start course{{/_i}}</button>{{/learning}}{{/ui_language_matches}}{{^ui_language_matches}}<button class="btn btn-white btn-outline switch-ui-language" data-track-click="course switch loggedin">{{#_i}}Switch to course{{/_i}}</button>{{/ui_language_matches}}</div>{{/phase_1}}</div>{{#course_data}}<a href="{{link}}" target="_blank" class="copyright-link" rel="nofollow">{{#_iv}}{{{blurb}}}{{/_iv}}</a>{{/course_data}}</div><h2 class="bold">{{#_i}}About the course{{/_i}}</h2><p class="course-about" style="margin-bottom: 40px;" itemprop="mainContentOfPage">{{#course_data}}{{#_iv}}{{{description}}}{{/_iv}}{{/course_data}}</p>{{^phase_3}}<h2 class="bold">{{#_i}}Course progress{{/_i}}</h2><div class="course-progress-container"><div class="course-progress-section"><div class="course-bar-background"><div class="bubble bubble-left"></div><div class="bubble bubble-center"></div><div class="bubble bubble-right"></div></div><div class="course-bar-container"><div class="bar" style="width: {{overall_progress}}%"><!-- <div class="bar-message"> The {{from_language_name}} team is {{normalized_progress}}% done{{#beating_average}} and beating the average by <strong>{{compare_to_avg}} days!</strong>{{/beating_average}}{{^beating_average}}!{{/beating_average}}</div> --></div><div class="bubble bubble-left"></div>{{#phase_2}}<div class="bubble bubble-center"></div>{{/phase_2}}<div class="course-phase-label course-phase-label-left completed"><strong>{{#_i}}Hatching: {{normalized_progress}}% done{{/_i}}</strong></div><div class="course-phase-owl course-phase-label-left completed"><span class="owl owl-mini owl-egg"></span></div><div class="course-phase-label course-phase-label-center {{#in_beta}}completed{{/in_beta}}"><strong>{{#_i}}In beta{{/_i}}</strong></div><div class="course-phase-owl course-phase-label-center {{#in_beta}}completed{{/in_beta}}"><span class="owl owl-mini owl-egg-hatching{{^phase_2}}-black{{/phase_2}}"></span></div><div class="course-phase-label course-phase-label-right"><strong>{{#_i}}Stable{{/_i}}</strong></div><div class="course-phase-owl course-phase-label-right"><span class="owl owl-mini owl-egg-hatched-black"></span></div></div></div></div>{{/phase_3}}{{#has_contributors}}<h2 class="bold">{{#_i}}Course contributors{{/_i}}</h2><div class="course-contributors num-{{num_contributors}}">{{#rows}}<div class="contributor-row">{{#contributors}}<div class="contributor"><div class="wrapper">'+i(198)+'<div class="contributor-name"><a href="/{{username}}" itemprop="contributor">{{username}}</a></div><p>{{bio}}</p><span class="location">{{#location}}<span class="icon-location-small icon"></span>{{location}}{{/location}}</span></div><div class="contributor-footer"><div class="col-left"><span class="circle-hammer {{#rtl}}img-flipped{{/rtl}}"><span class="icon icon-hammer"></span></span></div><div class="col-right">{{#_i}}Contributed {{contrib_percent}}%{{/_i}}</div></div></div>{{/contributors}}</div>{{/rows}}</div>{{/has_contributors}}</section><div class="footer-centered">'+i(12)+'</div></main><div id="registration-modal-container"></div> '},function(e,t){e.exports='{{#events}}<div id="collapsed-event-{{id}}"></div>{{/events}} '},function(e,t,i){e.exports="{{#user}}"+i(10)+'{{/user}}<span class="stream-item-type default"></span><header class="stream-item-header"><span class="left"><a href="/{{#user}}{{username}}{{/user}}" class="username">{{#user}}{{username}}{{/user}}</a></span><span class="stream-item-time">{{datetime_string}}</span></header><p class="stream-item-content">{{^translation}}{{#comment_thread_id}}{{#terminal}}{{#_i}}commented on <a href="/comment/{{comment_thread_id}}" style="font-weight: 700;"><bdi>{{comment_title}}</bdi></a>{{/_i}}{{/terminal}}{{^terminal}}{{#_i}}posted <a href="/comment/{{comment_thread_id}}" style="font-weight: 700;"><bdi>{{comment_title}}</bdi></a>{{/_i}}{{/terminal}}{{/comment_thread_id}}{{/translation}}{{#translation}}{{#_i}}commented on <a href="/translation/{{translation}}" style="font-weight: 700;">a translation</a>{{/_i}}{{/translation}}{{#blurb}}<span class="blurb">“<bdi>{{blurb}}</bdi>”</span>{{/blurb}}</p>'+i(16)+" "},function(e,t){e.exports='<ul class="stream-item-comment-list">{{#has_comments}}{{#comments}}<li><span class="left small-margin-right"><a href="/{{#user}}{{username}}{{/user}}" class="username">{{#user}}{{username}}{{/user}}:</a></span><bdi>{{{processed_message}}}</bdi><span class="stream-item-time"></span></li>{{/comments}}{{/has_comments}}{{#logged_in}}{{^trial_account}}{{#can_comment}}{{^is_blocked}}{{^read_only_stream}}<li><div class="stream-item-comment-new"><div class="col-input"><textarea id="comment-box-{{id}}" class="post textarea-white textarea-block textarea-autogrow" placeholder="{{#_i}}New comment{{/_i}}" style="" dir="auto"></textarea></div><div class="col-btn"><button class="btn btn-green post-event-comment">{{#_i}}Post{{/_i}}</button></div></div></li>{{/read_only_stream}}{{/is_blocked}}{{/can_comment}}{{/trial_account}}{{/logged_in}}</ul> '},function(e,t){e.exports='{{#channel}}<span class="icon icon-gear-small event-context" data-channel="{{channel}}" data-channel-source="{{channel_source}}" data-channel-subscribed="true"><ul class="dropdown-menu even-context-menu hidden"><li class="subscribed"><span>{{#_i}}You are following {{channel_display}}{{/_i}}</span></li><li class="unsubscribed"><span>{{#_i}}You are not following {{channel_display}}{{/_i}}</span></li><li class="divider"></li><li class="subscribed"><a class="unfollow-channel" href="javascript:;">{{#_i}}Unfollow {{channel_display}}{{/_i}}</a></li><li class="unsubscribed"><a class="follow-channel" href="javascript:;">{{#_i}}Follow {{channel_display}}{{/_i}}</a></li></ul></span>{{/channel}} '},function(e,t){e.exports="<li>{{datetime}}: {{username}}</li>"},function(e,t,i){e.exports='<ul class="activity-stream">{{#logged_in}}{{^current_user_profile}}{{^is_blocking}}{{^is_blocked_by}}{{^viewer_trial_account}}{{^read_only_stream}}<li class="stream-item">{{#user}}'+i(10)+'{{/user}}<span class="stream-item-type default"></span><ul class="stream-item-comment-list {{^can_comment}}social-xp-threshold{{/can_comment}}" style="margin-top: -10px;"><li>{{#can_comment}}<div class="post-activity stream-item-comment-new"><div class="col-input"><textarea id=\'stream-post\' style="" class="post textarea-white textarea-block textarea-autogrow" placeholder="{{#_i}}Write to {{username}}{{/_i}}" dir="auto"></textarea></div><div class="col-btn"><button id="stream-post-btn" class="btn btn-green">{{#_i}}Post{{/_i}}</button></div></div>{{/can_comment}}{{^can_comment}}<div class="post-activity">{{#_i}}Reach level 2 to start commenting.{{/_i}}</div>{{/can_comment}}</li></ul></li>{{/read_only_stream}}{{/viewer_trial_account}}{{/is_blocked_by}}{{/is_blocking}}{{/current_user_profile}}{{/logged_in}}{{#error}}<li>There is an error retrieving your stream.</li>{{/error}}</ul>{{#more_events}}<a id="more-stream" class="btn" href="javascript:;">{{#_i}}load more{{/_i}}</a>{{/more_events}} '},function(e,t,i){e.exports="{{#user}}"+i(10)+'{{/user}}<span class="stream-item-type default"></span><header class="stream-item-header"><span class="left"><a href="/{{#user}}{{username}}{{/user}}" class="username">{{#user}}{{username}}{{/user}}</a></span><span class="stream-item-time">{{datetime_string}}</span></header><p class="stream-item-content">{{#following_short_list}}{{#one}}{{#_i}}started following {{#item_one}}<a href="/{{username}}">{{username}}</a>{{/item_one}}{{/_i}}{{/one}}{{#two}}{{#_i}}started following {{#item_one}}<a href="/{{username}}">{{username}}</a>{{/item_one}} and {{#item_two}}<a href="/{{username}}">{{username}}</a>{{/item_two}}{{/_i}}{{/two}}{{#three}}{{#_i}}started following {{#item_one}}<a href="/{{username}}">{{username}}</a>{{/item_one}}, {{#item_two}}<a href="/{{username}}">{{username}}</a>{{/item_two}} and {{#item_three}}<a href="/{{username}}">{{username}}</a>{{/item_three}}{{/_i}}{{/three}}{{#more}}{{#_i}}started following {{#item_one}}<a href="/{{username}}">{{username}}</a>{{/item_one}}, {{#item_two}}<a href="/{{username}}">{{username}}</a>{{/item_two}} and {{remainder}} {{#pluralize}}other,others,{{remainder}}{{/pluralize}}{{/_i}}{{/more}}{{/following_short_list}}</p>'+i(16)+" "},function(e,t,i){e.exports="{{#user}}"+i(10)+'{{/user}}<span class="stream-item-type default"></span><header class="stream-item-header"><span class="left"><a href="/{{#user}}{{username}}{{/user}}" class="username">{{#user}}{{username}}{{/user}}</a></span><span class="stream-item-time">{{datetime_string}}</span></header><p class="stream-item-content">{{#just_one}}{{#_i}}did {{#determiner}}{{#_ivar}}language_string{{/_ivar}}{{/determiner}} {{#_ivar}}language_string{{/_ivar}} lesson{{/_i}}{{/just_one}}{{^just_one}}{{#_i}}did {{count}} {{#_ivar}}language_string{{/_ivar}} lessons{{/_i}}{{/just_one}} +{{total_improvement}}</p>'+i(16)+" "},function(e,t,i){e.exports="{{#user}}"+i(10)+'{{/user}}<span class="stream-item-type"><span class="level-badge-micro {{language}}"><span class="inner">{{new_level}}</span><span class="pennant"></span></span></span><header class="stream-item-header"><span class="left"><a href="/{{#user}}{{username}}{{/user}}" class="username">{{#user}}{{username}}{{/user}}</a></span><span class="stream-item-time">{{datetime_string}}</span></header><p class="stream-item-content">{{#_i}}leveled up in {{#_iv}}{{language_string}}{{/_iv}}{{/_i}}</p>'+i(16)+" ";
},function(e,t,i){e.exports="{{#user}}"+i(10)+'{{/user}}<ul class="skill-grid-small">{{#skills}}<li id="event-skills-{{id}}"></li>{{/skills}}</ul><h5><a href="/{{#user}}{{username}}{{/user}}" class="user">{{#user}}{{username}}{{/user}}</a> {{#_i}}mastered {{#determiner}}{{#_ivar}}language_string{{/_ivar}}{{/determiner}} {{#_ivar}}language_string{{/_ivar}} skill{{/_i}}</h5><div class="stream-comments {{^has_comments}}hidden{{/has_comments}}"></div>'+i(16)},function(e,t,i){e.exports="{{#user}}"+i(10)+'{{/user}}<h5><a href="/{{#user}}{{username}}{{/user}}" class="user">{{#user}}{{username}}{{/user}}</a> {{#_i}}passed <a href="/{{#passed}}{{username}}{{/passed}}">{{#passed}}{{username}}{{/passed}}</a> in skill points{{/_i}}</h5>{{#show_time}}<span class="time">{{datetime_string}}</span>{{/show_time}}'+i(16)},function(e,t,i){e.exports="{{#user}}"+i(10)+'{{/user}}{{#total_improvement}}<ul class="point-gain-box"><li><span class="icon-star-small"></span><span class="skill-points-small">+{{total_improvement}}</span></li></ul>{{/total_improvement}}{{^refresh}}<h5><a href="/{{#user}}{{username}}{{/user}}" class="user">{{#user}}{{username}}{{/user}}</a> {{#_i}}did {{#determiner}}{{#_ivar}}language_string{{/_ivar}}{{/determiner}} {{#_ivar}}language_string{{/_ivar}} practice lesson{{/_i}}</h5>{{/refresh}}{{#refresh}}<h5><a href="/{{#user}}{{username}}{{/user}}" class="user">{{#user}}{{username}}{{/user}}</a> {{#_i}}refreshed {{#determiner}}{{#_ivar}}language_string{{/_ivar}}{{/determiner}} {{#_ivar}}language_string{{/_ivar}} skill{{/_i}}</h5>{{/refresh}}'},function(e,t){e.exports='<main class="main-center"><div class="page-main"><ul class="activity-stream"></ul></div></main>'},function(e,t,i){e.exports="{{#user}}"+i(10)+'{{/user}}<span class="stream-item-type default"></span><header class="stream-item-header">{{#own}}<span class="left">{{#_i}}<a href="/{{#user}}{{username}}{{/user}}" class="username">{{#user}}{{username}}{{/user}}</a> wrote{{/_i}}</span>{{/own}}{{^own}}<span class="left">{{#_i}}<a href="/{{#user}}{{username}}{{/user}}" class="username">{{#user}}{{username}}{{/user}}</a> wrote to <a href="/{{#for_user}}{{username}}{{/for_user}}" class="username">{{#for_user}}{{username}}{{/for_user}}</a>{{/_i}}</span>{{/own}}<span class="stream-item-time">{{datetime_string}}</span></header><ul class="stream-item-comment-list stream-post"><li><a href="/{{#user}}{{username}}{{/user}}" class="username left small-margin-right">{{#user}}{{username}}{{/user}}:</a> <bdi>{{{processed_text}}}</bdi></li><div class="stream-comments"></div></ul>'+i(16)+" "},function(e,t,i){e.exports="{{#user}}"+i(10)+'{{/user}}<span class="stream-item-type"><span class="skill-icon micro blue unlocked"><span class="skill-icon-image skill-icon-1"></span></span></span><header class="stream-item-header"><span class="left"><a href="/{{#user}}{{username}}{{/user}}" class="username">{{#user}}{{username}}{{/user}}</a></span><span class="stream-item-time">{{datetime_string}}</span></header><p class="stream-item-content">{{#shortcut}} {{#_i}}took a shortcut and learned {{num_skills}} {{#_ivar}}language_string{{/_ivar}} {{#pluralize}}skill,skills,{{num_skills}}{{/pluralize}}{{/_i}}{{/shortcut}}{{^shortcut}} {{#_i}}tested out of {{#determiner}}{{#_ivar}}language_string{{/_ivar}}{{/determiner}} {{#_ivar}}language_string{{/_ivar}} skill{{/_i}}{{/shortcut}}</p>'+i(16)},function(e,t,i){e.exports="{{#user}}"+i(10)+'{{/user}}<span class="stream-item-type default"></span><header class="stream-item-header"><span class="left"><a href="/{{#user}}{{username}}{{/user}}" class="username">{{#user}}{{username}}{{/user}}</a></span><span class="stream-item-time">{{datetime_string}}</span></header><p class="stream-item-content">{{#_i}}translated {{count}} {{#pluralize}}sentence,sentences,{{count}}{{/pluralize}} of{{/_i}}</p><div class="stream-item-translation">{{#preview_image}}<div class="image" style="background-image: url( \'{{preview_image}}\')"></div>{{/preview_image}}{{^preview_image}}<div class="image" style="background-image: url( \'http://media-cache-cd0.pinimg.com/736x/64/fb/90/64fb90e12704e5556de87e7d44b380a2.jpg\')"></div>{{/preview_image}}<div class="excerpt"><strong class="title"><a href="/translation/{{translation_id}}">{{title}}</a></strong><p>{{blurb}}</p></div></div>'+i(16)+" "},function(e,t,i){e.exports="{{#user}}"+i(10)+'{{/user}}<span class="stream-item-type tier-promotion"><span class="translator-tier-flag"><span class="double-flag-source flag flag-svg-small flag-{{source_language}}"></span><span class="double-flag-target flag flag-svg-small flag-{{target_language}}"></span></span></span><header class="stream-item-header"><span class="left"><a href="/{{#user}}{{username}}{{/user}}" class="username">{{#user}}{{username}}{{/user}}</a></span><span class="stream-item-time">{{datetime_string}}</span></header><p class="stream-item-content">{{#_i}}reached translation tier {{new_tier}}!{{/_i}}</p>'+i(16)+" "},function(e,t,i){e.exports="{{#user}}"+i(10)+'{{/user}}<span class="stream-item-type"><span class="skill-icon micro {{icon_color}} unlocked info" {{#skill_title}} data-toggle="tooltip" data-placement="top" data-title="{{skill_title}}" {{/skill_title}}><span class="skill-icon-image skill-icon-{{icon_index}}"></span></span></span><header class="stream-item-header"><span class="left"><a href="/{{#user}}{{username}}{{/user}}" class="username">{{#user}}{{username}}{{/user}}</a></span><span class="stream-item-time">{{datetime_string}}</span></header><p class="stream-item-content">{{#_i}}learned {{#determiner}}{{#_ivar}}language_string{{/_ivar}}{{/determiner}} {{#_ivar}}language_string{{/_ivar}} skill{{/_i}}</p>'+i(16)},function(e,t,i){e.exports="{{#user}}"+i(10)+'{{/user}}<span class="stream-item-type default"></span><header class="stream-item-header"><span class="left"><a href="/{{#user}}{{username}}{{/user}}" class="username">{{#user}}{{username}}{{/user}}</a> {{#_i}}did the {{#_ivar}}language_string{{/_ivar}} welcome lesson{{/_i}}</span><span class="stream-item-time">{{datetime_string}}</span></header>'+i(16)},function(e,t){e.exports='<span class="hints-link"></span>'},function(e,t){e.exports='<span class="hints-sentence popover-well"></span>'},function(e,t){e.exports='<span class="token-wrapper popover-wrapper">{{^in_link}}<span class="token {{class_name}}" id="token_{{index}}">{{value}}</span>{{/in_link}}{{#in_link}}<a target="_blank" href="{{url}}"><span class="token" id="token_{{index}}">{{value}}</span></a>{{/in_link}}<span class="hint-table hint-popover"><div class="inner"><div class="content"><table border="0" cellspacing="0" cellpadding="0"><tr><td>{{#_i}}You can’t peek in a test!{{/_i}}</td></tr></table></div></div></span></span>'},function(e,t,i){e.exports='<span class="token-wrapper popover-wrapper">{{^in_link}}<span class="{{#is_space}}space{{/is_space}} {{^is_space}}non-space{{/is_space}} token {{class_name}} {{style_classes}} {{highlight_class}}" id="token_{{index}}" data-token-index="{{index}}">{{#highlighted}}<strong>{{value}}</strong>{{/highlighted}}{{^highlighted}}{{#bold}}<b>{{/bold}}{{value}}{{#bold}}</b>{{/bold}}{{/highlighted}}</span>{{/in_link}}{{#in_link}}<a target="_blank" href="{{url}}"><span class="token" id="token_{{index}}">{{value}}</span></a>{{/in_link}}'+i(181)+"</span>"},function(e,t,i){e.exports='{{#title}}<h2>{{#_i}}Verb:{{/_i}}{{#pre_infinitives}}<a data-infinitive="{{.}}" href="javascript:;">{{.}}</a> / {{/pre_infinitives}}<strong class="infinitive-selected">{{current_infinitive}}</strong>{{#post_infinitives}} / <a data-infinitive="{{.}}" href="javascript:;">{{.}}</a>{{/post_infinitives}}</h2>{{/title}}{{#current_infinitive_data}}<div class="infinitive-tab" data-infinitive="{{infinitive}}"><ul id="settings-tab" class="nav-tabs tabs"><li class="active" data-table="indicative"><a href="javascript:;">{{#_i}}Indicative{{/_i}}</a></li>{{#has_subjunctive}}<li data-table="subjunctive"><a href="javascript:;">{{#_i}}Subjunctive{{/_i}}</a></li>{{/has_subjunctive}}{{#has_conditional}}<li data-table="subjunctive"><a href="javascript:;">{{#_i}}Conditional{{/_i}}</a></li>{{/has_conditional}}{{#has_others}}<li data-table="others"><a href="javascript:;">{{#_i}}Others{{/_i}}</a></li>{{/has_others}}</ul>{{#tables}}<div id="indicative-tables" class="verb-tables">{{#indicative}}'+i(103)+'{{/indicative}}</div><div id="subjunctive-tables" class="verb-tables" style="display: none;">{{#subjunctive}}'+i(103)+"{{/subjunctive}}{{#conditional}}"+i(103)+'{{/conditional}}</div><div id="others-tables" class="verb-tables" style="display: none;">{{#others}}<table border="0" cellspacing="0" cellpadding="0" class="table green-head table-striped verb-table others-table {{language}}"><thead><tr>{{#tenses}}<th><span>{{#_ivar}}tense_string{{/_ivar}}</span></th>{{/tenses}}</tr></thead><tbody>{{#table}}<tr>{{#row}}<td><span>{{{word}}}</span></td>{{/row}}</tr>{{/table}}</tbody></table>{{#more_tables}}<a class="more-tenses" href="javascript:;">{{#_i}}Show more tenses{{/_i}} →</a>{{/more_tables}}{{/others}}</div>{{/tables}}</div>{{/current_infinitive_data}} '},function(e,t){e.exports='<span class="search-icon"></span><label for="lookup-word-{{id}}">{{#_i}}Translate English word{{/_i}}</label><input type="text" id="lookup-word-{{id}}" class="left"/><button class="translate-lookup btn left" style="margin: 0 0 0 5px; display: none">{{#_i}}Translate{{/_i}}</button><div class="lookup-hints translation-source"></div>'},function(e,t,i){e.exports='<div class="search-users global-search"><div class="row-inputandbutton"><div class="col-input"><span class="icon icon-search-gray"></span><input id="search-learners" type="text" class="search search-input input-block" placeholder="{{#_i}}Name or email{{/_i}}"/></div><div class="col-btn"><button class="search-for-friends btn btn-small btn-blue right">{{#_i}}Search{{/_i}}</button></div></div></div><div id="list-results" class="list-leaderboard"><ul id="search-learners-results" class="list-users-small global-search-list leaderboard-search-list">'+i(182)+"</ul></div> "},function(e,t,i){e.exports='<main class="main-right"><div id="persistent-notifications" class="message"></div><section class="page-main main-right">'+i(196)+'</section><section class="page-sidebar sidebar-left"><div class="inner">'+i(184)+'</div></section><div id="followers-modal" class="modal hidden" style="margin-top: -200px;"><div class="modal-header"><h4>{{#_i}}Your Followers{{/_i}}</h4><div class="close" data-dismiss="modal">{{#_i}}close{{/_i}}</div></div><div class="modal-body"></div></div><div id="following-modal" class="modal hidden" style="margin-top: -200px;"><div class="modal-header"><h4>{{#_i}}You are following{{/_i}}</h4><div class="close" data-dismiss="modal">{{#_i}}close{{/_i}}</div></div><div class="modal-body"></div></div>'+i(12)+'{{#show_sidebar_buttons}}{{#show_practice}}<div class="practice-container"><a href=\'/practice\' class="btn btn-primary btn-block btn-strengthen-skills">{{#_i}}Strengthen skills{{/_i}}</a></div>{{/show_practice}}{{/show_sidebar_buttons}}</main>'},function(e,t,i){e.exports='{{#all_alone}}{{#classroom_view}}{{#_i}}No students are here yet!{{/_i}}{{/classroom_view}}{{^classroom_view}}<ul class="list-leaderboard list-leaderboard-empty"><li class="list-leaderboard-item">'+i(25)+'<h5 style="margin-bottom: 5px;">{{#_i}}You’re alone, {{username}}!{{/_i}}</h5><p class="gray" style="margin: 0;">{{#_i}}Add some friends to compete with!{{/_i}}</p></li></ul>{{/classroom_view}}{{/all_alone}}{{^all_alone}}<ul class="nav-tabs nav-leaderboard"><li class="toggle week" data-sort="week"><a href="javascript:;" >{{#_i}}This week{{/_i}}</a></li><li class="toggle month" data-sort="month"><a href="javascript:;">{{#_i}}This month{{/_i}}</a></li><li class="toggle alltime" data-sort="alltime"><a href="javascript:;">{{#_i}}All time{{/_i}}</a></li></ul><ul id="ranked-users" class="list-users list-leaderboard">{{#leaderboard_data}}<li class="list-leaderboard-item {{#self}}you{{/self}}">'+i(25)+'<span class="points" data-user="{{id}}">{{points}} XP </span><span class="name">{{#self}}{{username}}{{/self}}{{^self}}<a href="/{{username}}" class="username">{{username}}</a>{{/self}}</span></li>{{/leaderboard_data}}</ul>{{/all_alone}} '},function(e,t){e.exports='<h2>{{^invite_fb_friends}}{{^search_friends}}{{^invite_friends}}{{#has_multiple_leaderboards}}<div class="dropdown leaderboard-dropdown"><div class="dropdown-toggle" data-toggle="dropdown"><span class="classroom-name">{{^num_following}}{{#_i}}Compete with your friends{{/_i}}{{/num_following}}{{#num_following}}{{#_i}}Leaderboard{{/_i}}{{/num_following}}</span><span class="icon icon-arrow-down"></span></div><ul class="dropdown-menu" role="menu" id="classroom-choices">{{^hide_friends_lb}}<li><a href="javascript:;" data-id="-1"><span class="icon"></span>{{#_i}}Leaderboard{{/_i}}</a></li>{{/hide_friends_lb}}{{#classrooms}}<li><a href="javascript:;" data-id={{classroom_id}}><span class="icon"></span>{{name}}</a></li>{{/classrooms}}</ul></div>{{/has_multiple_leaderboards}}{{^has_multiple_leaderboards}}{{#hide_friends_lb}}{{#classrooms}}{{name}}{{/classrooms}}{{/hide_friends_lb}}{{^hide_friends_lb}}{{^num_following}}{{#_i}}Compete with your friends{{/_i}}{{/num_following}}{{#num_following}}{{#_i}}Leaderboard{{/_i}}{{/num_following}}{{/hide_friends_lb}}{{/has_multiple_leaderboards}}{{/invite_friends}}{{/search_friends}}{{/invite_fb_friends}}{{#invite_fb_friends}}{{#_i}}Invite friends from Facebook{{/_i}}{{/invite_fb_friends}}{{#invite_friends}}{{#_i}}Invite friends by email{{/_i}}{{/invite_friends}}</h2>{{^hide_friends_lb}}<div id="search-friends" class="board hidden"><ul id="search-list-results"></ul></div><div id="fb-friends" class="hidden board"><div class="search-users"><div class="form-row no-margin"><input id="filter-fb-input" type="text" class="search input-block" placeholder="{{#_i}}Search friends{{/_i}}"/></div></div><ul class="list-users list-leaderboard fake">{{#fb_friends}}<li class="list-leaderboard-item"><span class="avatar avatar-small"><img src="{{#picture}}{{#data}}{{url}}{{/data}}{{/picture}}"></span><div class="action">{{#user_id}}{{#is_being_blocked}}<button class="btn btn-small" disabled="disabled">{{#_i}}Blocked{{/_i}}</button>{{/is_being_blocked}}{{^is_being_blocked}}{{^is_a_blocker}}<button class="follow-button btn btn-green {{#is_following}}success{{/is_following}} btn-small" data-toggle="follow" data-user="{{user_id}}" data-follow-text="{{#_i}}Follow{{/_i}}" data-unfollow-text="{{#_i}}Following{{/_i}}" data-silent="true">{{#is_following}}{{#_i}}Following{{/_i}}{{/is_following}}{{^is_following}}{{#_i}}Follow{{/_i}}{{/is_following}}</button>{{/is_a_blocker}}{{/is_being_blocked}}{{/user_id}}{{^user_id}}<button class="btn btn-blue btn-small invite-fb-friend" data-user="{{id}}" data-toggle="facebook-invite" data-track-from="home leaderboard" data-name="{{#_i}}You\'re Invited to Join Duolingo!{{/_i}}" data-description="{{#_i}}With Duolingo you learn a language for free, while helping to translate the web.{{/_i}}" data-sent="{{#_i}}Invite sent{{/_i}}">{{#_i}}Invite{{/_i}}</button>{{/user_id}}</div><span class="name">{{name}}</span></li>{{/fb_friends}}</ul></div>{{/hide_friends_lb}}<div id="points-ranking" class="board"></div>{{^hide_friends_lb}}<div id="add-friends"></div>{{/hide_friends_lb}}'},function(e,t){e.exports='<div class="persistent-notification {{message}}"><div class="container">{{#toefl_study}}<strong class="message">{{#_i}}Want to help Duolingo teach English even better?{{/_i}}</strong><br><span class="title">{{#_i}}If you took the TOEFL exam in the last 18 months, you can earn USD$20 (through Amazon or Western Union).{{/_i}}</span> &nbsp;{{#ui_language_es}}<a id="learn-more" target="_blank" href="https://pitt.co1.qualtrics.com/SE/?SID=SV_6wW70uGKcq8IAMB&Q_lang=ES">{{/ui_language_es}}{{#ui_language_pt}}<a id="learn-more" target="_blank" href="https://pitt.co1.qualtrics.com/SE/?SID=SV_6wW70uGKcq8IAMB&Q_lang=PT">{{/ui_language_pt}}{{#_i}}Learn more!{{/_i}}</a>{{/toefl_study}}{{#net_promoter}}<div class="feedback-widget"><b>{{#rtl}}10 {{/rtl}}{{^rtl}}0 {{/rtl}}</b><ul><li title="{{#_i}}10 (extremely likely){{/_i}}" data-score="10"></li><li title="9" data-score="9"></li><li title="8" data-score="8"></li><li title="7" data-score="7"></li><li title="6" data-score="6"></li><li title="5" data-score="5"></li><li title="4" data-score="4"></li><li title="3" data-score="3"></li><li title="2" data-score="2"></li><li title="1" data-score="1"></li><li title="{{#_i}}0 (extremely unlikely){{/_i}}" data-score="0"></li></ul><b>{{#rtl}} 0{{/rtl}}{{^rtl}} 10{{/rtl}}</b></div><div class="hidden thanks"><b>{{#_i}}Thanks!{{/_i}}</b></div><strong class="message">{{#_i}}We want your feedback!{{/_i}}</strong><span> {{#_i}}On a scale of <b>0</b> to <b>10</b>, how likely are you to recommend Duolingo to a friend?{{/_i}}</span>{{/net_promoter}}{{#banned_from_translations}}<strong class="message">{{#_i}}Uh-oh.{{/_i}}</strong> &nbsp; {{#_i}}Duolingo users reported you for entering bogus translations, so we took away your translation points. Next time please play nice!{{/_i}}{{/banned_from_translations}}{{#chrome_app_ad}}<img class="webstore-icon" src="/images/chrome_web_store.svg"/><strong class="message">{{#_i}}Using Chrome?{{/_i}}</strong> &nbsp; <span class="title">{{#_i}}<a id="get-chrome-app" target="_blank" href="https://chrome.google.com/webstore/detail/duolingo/aiahmijlpehemcpleichkcokhegllfjl">Add Duolingo to your home screen</a> for easy access.{{/_i}}</span>{{/chrome_app_ad}}{{#immersion_tier_points_depend_on_sentence_length}}<strong class="message">{{#_i}}Update: tier progress now depends on sentence length.{{/_i}} </strong><br><span class="title">{{#_i}}Before, you could get up to 3 upvotes for a given sentence. Now you can get more upvotes for longer sentences.{{/_i}}</span> &nbsp;<a id="learn-more" href="javascript:;">{{#_i}}Learn more.{{/_i}}</a>{{/immersion_tier_points_depend_on_sentence_length}}{{#immersion_tier_percent_positive}}<strong class="message">{{#_i}}Update: the effect of downvotes on tier progress has changed.{{/_i}} </strong><br><span class="title">{{#_i}}Now, you advance to the next tier once you have at least 100 upvotes and at least 90% of your votes are positive.{{/_i}}</span>{{/immersion_tier_percent_positive}}{{#new_tree_change_v2}}<strong class="message">{{#_i}}Notice something different?{{/_i}} </strong><br><span class="title">{{#_i}}We’ve updated your skill tree to teach you {{#_ivar}}language_string{{/_ivar}} more effectively.{{/_i}}</span>{{/new_tree_change_v2}}{{#new_years_resolution}}<strong class="message">{{#_i}}Commit to learning a language in 2015{{/_i}}</strong><br><span class="title">{{#_i}}Research shows that sharing your New Year\'s Resolution with friends helps you succeed!{{/_i}} <a href="javascript:window.open(\'https://www.facebook.com/dialog/share?app_id=234536436609303&display=popup&href=https://www.duolingo.com/og/new_year&redirect_uri=http://www.duolingo.com/redirect\', \'popUpWindow\',\'height=400,width=550\')" data-track-click="fb share new year" class="blue">{{#_i}}Tell your friends on Facebook.{{/_i}}</a></span>{{/new_years_resolution}}{{#pittsburgh}}<strong class="message">Did you know that Duolingo is made in Pittsburgh?</strong><br><span class="title">Check out our <a href="/jobs" data-track-click="pittsburgh jobs" class="blue">jobs page</a>.</span>{{/pittsburgh}}{{#schools_ad}}<strong class="message">{{#_i}}Now you can use Duolingo in class and easily track your students\' progress!{{/_i}}</strong><br><span class="title">{{#_i}}Learn more at <a href="http://schools.duolingo.com/">schools.duolingo.com</a>{{/_i}}</span>{{/schools_ad}}<div class="close"></div></div></div> '},function(e,t){e.exports='<div class="store-awning-container"><h1 class="store-headline">{{#_i}}Lingot store{{/_i}}</h1><div class="store-awning"><div class="band"><div class="flap"></div></div><div class="band"><div class="flap"></div></div><div class="band"><div class="flap"></div></div><div class="band"><div class="flap"></div></div><div class="band"><div class="flap"></div></div><div class="band"><div class="flap"></div></div><div class="band"><div class="flap"></div></div><div class="band"><div class="flap"></div></div><div class="band"><div class="flap"></div></div><div class="band"><div class="flap"></div></div><div class="band"><div class="flap"></div></div><div class="band"><div class="flap"></div></div><div class="band"><div class="flap"></div></div></div></div><button class="btn btn-white btn-outline right back-home leave-store" data-tab="skill-tree">{{#_i}}Leave store{{/_i}}</button><div style="overflow:hidden; position: relative">{{#trial_account}}<div class="trial-account-overlay"></div>{{/trial_account}}<div class="store-section"><h5 class="gray">{{#_i}}POWER-UPS{{/_i}}</h5><ul class="store-shelf"><li><span class="store-icon store-icon-streak-freeze"></span>{{#own_streak_freeze}}<a id=\'streak-purchase\' class="item-purchase btn btn-green purchased right" disabled="disabled"><span class="icon icon-check-white-small better-margin"></span> {{#_i}}Equipped{{/_i}}</a>{{/own_streak_freeze}}{{^own_streak_freeze}}<a id=\'streak-purchase\' class="item-purchase btn btn-green {{#afford_streak_freeze}}buy-item{{/afford_streak_freeze}}{{^afford_streak_freeze}}btn-outline{{/afford_streak_freeze}} right" data-type="streak_freeze" {{^afford_streak_freeze}}disabled="disabled" data-toggle="popover" data-popover="#afford-streak" data-placement="below"{{/afford_streak_freeze}}><span class="margin-right">{{#_i}}Get for:{{/_i}}</span><span class="icon icon-lingot-small"></span><span class="price">{{#prices}} {{streak_freeze}}{{/prices}}</span>{{^afford_streak_freeze}}<div id="afford-streak" class="popover points-breakdown black top below"><div class="arrow"></div><div class="inner track-hover"><div class="content">{{#_i}}You don\'t have enough lingots to get this item.{{/_i}}</div></div></div>{{/afford_streak_freeze}}</a>{{/own_streak_freeze}}<h4>{{#_i}}Streak Freeze{{/_i}}</h4><p>{{#_i}}Streak Freeze allows your streak to remain in place for one full day of inactivity.{{/_i}}</p></li><li><span class="store-icon store-icon-double"></span>{{#own_rupee_wager}}<a id=\'wager-purchase\' class="item-purchase btn btn-green right purchased" disabled="disabled">{{#_i}}Day {{wager_day}} of 7{{/_i}}</a>{{/own_rupee_wager}}{{^own_rupee_wager}}<a id=\'wager-purchase\' class="item-purchase btn btn-green {{#afford_rupee_wager}}buy-item{{/afford_rupee_wager}}{{^afford_rupee_wager}}btn-outline{{/afford_rupee_wager}} right" data-type="rupee_wager" {{^afford_rupee_wager}}disabled="disabled" data-toggle="popover" data-popover="#afford-wager" data-placement="below"{{/afford_rupee_wager}}><span class="margin-right">{{#_i}}Get for:{{/_i}}</span><span class="icon icon-lingot-small"></span><span class="price">{{#prices}} {{rupee_wager}}{{/prices}}</span>{{^afford_rupee_wager}}<div id="afford-wager" class="popover points-breakdown black top below"><div class="arrow"></div><div class="inner track-hover"><div class="content">{{#_i}}You don\'t have enough lingots to get this item.{{/_i}}</div></div></div>{{/afford_rupee_wager}}</a>{{/own_rupee_wager}}<h4>{{#_i}}Double or Nothing{{/_i}}</h4><p>{{#_i}}Attempt to double your five lingot wager by maintaining a seven day streak.{{/_i}}</p></li></ul></div><div class="store-section" id="practice"><h5 class="gray">{{#_i}}PRACTICE{{/_i}}</h5><ul class="store-shelf"><li><span class="store-icon store-icon-timed-practice"></span>{{#own_timed_practice}}<a id=\'practice-purchase\' class="item-purchase btn btn-green purchased right" disabled="disabled"><span class="icon icon-check-white-small better-margin"></span> {{#_i}}Equipped{{/_i}}</a>{{/own_timed_practice}}{{^own_timed_practice}}<a id=\'practice-purchase\' class="item-purchase btn btn-green {{#afford_timed_practice}}buy-item{{/afford_timed_practice}}{{^afford_timed_practice}}btn-outline{{/afford_timed_practice}} right" data-type="timed_practice" {{^afford_timed_practice}}disabled="disabled" data-toggle="popover" data-popover="#afford-practice" data-placement="below"{{/afford_timed_practice}}><span class="margin-right">{{#_i}}Get for:{{/_i}}</span><span class="icon icon-lingot-small"></span><span class="price">{{#prices}} {{timed_practice}}{{/prices}}</span>{{^afford_timed_practice}}<div id="afford-practice" class="popover points-breakdown black top below"><div class="arrow"></div><div class="inner track-hover"><div class="content">{{#_i}}You don\'t have enough lingots to get this item.{{/_i}}</div></div></div>{{/afford_timed_practice}}</a>{{/own_timed_practice}}<h4>{{#_i}}Timed Practice{{/_i}}</h4><p>{{#_i}}See how well you do practicing your skills against the clock in Timed Practice.{{/_i}}</p></li>{{^remove_progress_quiz}}<li><span class="store-icon store-icon-progress"></span>{{#own_certification}}<a id=\'certification-purchase\' class="item-purchase btn btn-green purchased take-test right">{{#_i}}Take a quiz{{/_i}}</a>{{/own_certification}}{{^own_certification}}<a id=\'certification-purchase\' class="item-purchase btn btn-green {{#afford_certification}}buy-item{{/afford_certification}}{{^afford_certification}}btn-outline{{/afford_certification}} right" data-type="certification" {{^afford_certification}}disabled="disabled"{{/afford_certification}}><span class="margin-right">{{#_i}}Get for:{{/_i}}</span><span class="icon icon-lingot-small"></span><span class="price">{{#prices}} {{certification}}{{/prices}}</span>{{^afford_certification}}<div id="afford-certification" class="popover points-breakdown black top below"><div class="arrow"></div><div class="inner track-hover"><div class="content">{{#_i}}You don\'t have enough lingots to get this item.{{/_i}}</div></div></div>{{/afford_certification}}</a>{{/own_certification}}<h4>{{#_i}}{{#_ivar}}language_string{{/_ivar}} Progress Quiz{{/_i}}</h4><p>{{#_i}}Take an extended {{#_ivar}}language_string{{/_ivar}} quiz to measure your language learning progress.{{/_i}}{{#has_certificates}} {{#_i}}You can see your previous scores <a href="/settings/progress">here</a>.{{/_i}}{{/has_certificates}} </p></li>{{/remove_progress_quiz}}</ul></div>{{#store_bonus_skills}}<div class="store-section" id="bonus"><h5 class="gray"><span class="left">{{#_i}}BONUS SKILLS{{/_i}}</span><span class="open-slots">{{#_i}}{{#pluralize}}{{slots}} slot open,{{slots}} slots open,{{slots}}{{/pluralize}}{{/_i}}</span></h5><ul class="store-shelf bonus-skill-items">{{#bonus_skills}}<li><span class="skill-icon small purple unlocked"><span class="skill-icon-image skill-icon-{{icon_index}}"></span></span>{{#own}}<a id=\'{{name}}-purchase\' class="item-purchase btn btn-green purchased right" disabled="disabled"><span class="icon icon-check-white-small better-margin"></span> {{#_i}}Equipped{{/_i}}</a>{{/own}}{{^own}}<a id=\'{{name}}-purchase\' class="item-purchase btn btn-green {{#afford}}buy-item show-tree{{/afford}}{{^afford}}btn-outline{{/afford}} right" data-type="{{name}}" data-tab="bonus-row"{{^afford}}disabled="disabled"{{/afford}}><span class="margin-right">{{#_i}}Get for:{{/_i}}</span><span class="icon icon-lingot-small"></span><span class="price">{{price}}</span>{{^afford}}<div id="afford-christmas" class="popover points-breakdown black top below"><div class="arrow"></div><div class="inner track-hover"><div class="content">{{^bonus_slot_available}}{{#_i}}You don\'t have room for any more bonus skills.{{/_i}}{{/bonus_slot_available}}{{#bonus_slot_available}}{{#_i}}You don\'t have enough lingots to get this item.{{/_i}}{{/bonus_slot_available}}</div></div></div>{{/afford}}</a>{{/own}}<h4>{{title}}</h4><p>{{^own}}{{description}}{{/own}}{{#own}}{{#_i}}You can find this skill in your skill tree now.{{/_i}}{{/own}}</p></li>{{/bonus_skills}}</ul></div>{{/store_bonus_skills}}<div id="store-help"><span class="question-rupee"></span><div class="store-text"><h4>{{#_i}}What is a lingot?{{/_i}} <span class="icon icon-lingot-small"></span></h4><span class="intro">{{#_i}}A <strong>lingot</strong> <i>[ling-guht]</i> is the Duolingo virtual currency. The more you learn on Duolingo, the more lingots you\'ll receive and be able to use in the store! They can be earned through:{{/_i}}</span><ul><li><strong class="title"><span class="store-earn">{{#_i}}Leveling up{{/_i}}</span></strong> <span class="store-desc">{{#fewer_level_lingots}}{{#_i}}Earn <strong>1 lingot</strong>{{/_i}}{{/fewer_level_lingots}}{{^fewer_level_lingots}}{{#_i}}Earn <strong>1 lingot</strong> <i>(multiplied by level reached)</i>{{/_i}}{{/fewer_level_lingots}}</span></li><li><strong class="title"><span class="store-earn">{{#_i}}Finishing a skill{{/_i}}</span></strong> <span class="store-desc">{{#_i}}Earn <strong>2 lingots</strong> for finishing a new skill{{/_i}}</span></li><li><strong class="title"><span class="store-earn">{{#_i}}10 day streaks{{/_i}}</span></strong> <span class="store-desc">{{#_i}}Earn <strong>1 lingot</strong> for every 10 days on a streak (1 for 10, 2 for 20, etc){{/_i}}</span></li><li><strong class="title"><span class="store-earn">{{#_i}}Inviting friends{{/_i}}</span></strong> <span class="store-desc">{{#_i}}Invite a friend to Duolingo and, if your friend accepts, you both will receive <strong>1 lingot</strong>{{/_i}}</span></li><li><strong class="title"><span class="store-earn">{{#_i}}Uploading documents{{/_i}}</span></strong> <span class="store-desc">{{#_i}}Upload a document to Immersion, and receive <strong>1 lingot</strong> every time someone upvotes your document{{/_i}}</span></li><li style="margin: 20px 0 0 0;">{{#_i}}Note: Lingots are not awarded when you use a tree shortcut to level up or finish a skill.{{/_i}}</li></ul></div></div></div>'},function(e,t,i){e.exports='<section dir="{{dir}}" class="monument-carousel dark-theme"><div dir="{{dir}}" class="signup">'+i(44)+"</div></section>"},function(e,t){e.exports='<main class="main-center-narrow"><section class="page-main"><form action="" method="post" id="forgot-form"><input type="hidden" name="came_from" value="{{came_from}}"/><h1>{{#_i}}Forgot password{{/_i}}</h1><p class="center" style="margin: -20px 0 30px 0;">{{#_i}}We will send you instructions on how to reset your password by email.{{/_i}}</p><div class="row-inputandbutton"><div class="col-input"><input class="input-block" placeholder="{{#_i}}Email{{/_i}}" id="email" name="email" size="30" type="text" value="{{email}}"></div><div class="col-btn"><input type="submit" class="btn btn-blue" style="" value="{{#_i}}Submit{{/_i}}"/></div></div><div class="warning-message hidden" id=\'email-error\' style="float: left; margin-top: 20px;">{{#_i}}Enter a correct email address{{/_i}}</div><div class="warning-message hidden" id=\'not-found-email\' style="float: left; margin-top: 20px">{{#_i}}Account not found{{/_i}}</div></form><div id="form_txt_good" class="form_msg hidden"><h1 style="font-size: 42px;">{{#_i}}Thank you!{{/_i}}</h1><h2 style="text-align: center; margin: 0;">{{#_i}}Please check your email.{{/_i}}</h2></div></section></main><style type="text/css" media="screen"> .forgot-password { display: none; }</style> '},function(e,t){e.exports='<div id="signup-modal-body"><div class="modal-header"><h1>{{#_i}}Sign in{{/_i}}<div class="owl owl-pointing-small {{^rtl}}img-flipped{{/rtl}}"></div></div><div class="modal-body"><ul class=\'login-signup-list\'><form action="/login" method="post" id="login-form"><table border="0" cellspacing="0" cellpadding="0" class="form-table" style="margin-bottom: 20px;"><input type="hidden" name="came_from" value="{{came_from}}"/><tr><td><strong>{{#_i}}Username{{/_i}}</strong></td><td><input id="login" name="login" style="width: 230px;" type="text"></td></tr><tr><td><strong>{{#_i}}Password{{/_i}}</strong></td><td><input id="password" name="password" style="width: 230px;" type="password"></td></tr></table><div id=\'message\' class="warning-message hidden margin-bottom"></div><input id="login-button" type="submit" class="btn btn-lg btn-blue btn-block more-margin-bottom" value="{{#_i}}Sign in{{/_i}}"/><p class="center no-margin"><a href="/forgot_password" class="forgot-password">{{#_i}}Forgot password?{{/_i}}</a></p></form></ul></div>';
},function(e,t){e.exports='<main class="main-center-narrow"><section class="page-main"><form action="/login" method="post" id="login-form"><input type="hidden" name="came_from" value="{{came_from}}"/><h1>{{#_i}}Sign in{{/_i}}</h1><p class="center" style="margin: -20px 0 20px 0;">{{#_i}}You need to log in to view this page.{{/_i}}</p><input placeholder="{{#_i}}Username or email{{/_i}}" class="input-block margin-bottom" id="login" name="login" size="30" type="text"><input placeholder="{{#_i}}Password{{/_i}}" class="input-block margin-bottom" id="password" name="password" size="30" type="password"><div id=\'message\' class="warning-message hidden margin-bottom"></div><input id="login-button" type="submit" class="btn btn-lg btn-blue btn-block more-margin-bottom" value="{{#_i}}Sign in{{/_i}}"/><p class="center no-margin"><a href="/forgot_password" class="forgot-password">{{#_i}}forgot password?{{/_i}}</a></p></form></section></main> '},function(e,t){e.exports='<div class="modal hidden fade in" id="signup-modal"><div class="close" data-dismiss="modal"></div><div id="register-view"></div><div id="login-view" class="hidden"></div><div id="modal-footer"><div id="user-login">{{#_i}}Have an Account?{{/_i}} <a href="javascript:;" class="existing-login">{{#_i}}Sign in{{/_i}}</a></div><div id="create-account" style="display:none;"><a href="javascript:;" class="create-profile">{{#_i}}Create an account{{/_i}}</a></div></div></div> '},function(e,t){e.exports='<div class="center-pane"><form action="" method="post" id="gplus-form"><input type="hidden" id="email" name="email" value="{{email}}"/><input type="hidden" id="token" name="token" value="{{token}}"/><fieldset class="clearfix"><h1 style="font-size: 34px;">{{#_i}}Select Your Login{{/_i}}</h1><ul class="login-signup-list"><li><label for="username">{{#_i}}Pick a Username{{/_i}}</label><input class="large" id="username" name="username" size="30" type="text" value="{{username}}"><div class="error-flag" id=\'username-error\'>{{#_i}}Username already taken{{/_i}}</div></li><li><label for="new_password">{{#_i}}Pick a Password{{/_i}}</label><input class="large" id="new_password" name="new_password" size="30" type="password" value=""><div class="error-flag" id=\'password-error\'>{{#_i}}Invalid password{{/_i}}</div></li><li><label for="confirm_new_password">{{#_i}}Confirm Password{{/_i}}</label><input class="large" id="confirm_new_password" name="confirm_new_password" size="30" type="password"></li><li><input type="submit" class="btn large primary" style="width: 288px;" value="{{#_i}}Submit{{/_i}}"/></li></ul></fieldset></form><div id="reset-message"></div><div id=\'error-message\' class=\'hidden save-message\'>{{#_i}}Error{{/_i}}</div></div></style> '},function(e,t){e.exports='<form action="/welcome" method="post" id="register-form"><table border="0" cellspacing="0" cellpadding="0" class="form-table">{{#facebook_id}}<tr class="connected-to"><td colspan="2"><span class="icon-fb-small icon right"></span><img src="{{profile_image}}" class="left"/><strong>{{facebook_name}}</strong></td></tr><input name="profile_image" type="hidden" value="http://graph.facebook.com/v2.0/{{facebook_id}}/picture?type=large"><input name="facebook_fullname" type="hidden" value="{{facebook_name}}"><input name="facebook_username" type="hidden" value="{{facebook_username}}">{{/facebook_id}}{{^hide_language_select}}<tr class="select-language-row"><td colspan="2"><div class="relative"><div class="dropdown"><span id="direction" class="select-ll" data-toggle="dropdown"><span class="prompt"></span><span class="icon icon-arrow-down"></span></span><ul class="dropdown-menu language-list" role="menu" aria-labelledby="dLabel">{{#available_languages}}<li id="opt-{{key}}" class="direction-option" data-value="{{key}}"><a href="javascript:;">{{prompt}}</a></li>{{/available_languages}}</ul></div><div class="error-flag" id="invalid-learning-language-error" ><span class="arrow-left-container"><span class="arrow"></span></span>{{#_i}}Invalid learning direction{{/_i}}</div></div></td></tr>{{/hide_language_select}}<input name="learning_language" type="hidden" value="{{learning_language}}"><tr><td class="input-label" for="fullname"><strong>{{#_i}}Full name{{/_i}}</strong></td><td><input {{^hide_username}}placeholder="{{#_i}}(optional){{/_i}}"{{/hide_username}} class="input-block" id="fullname" name="fullname" size="30" type="text" value="{{fullname}}" autofocus="autofocus"></td></tr><tr><td class="input-label" for="email"><strong>{{#_i}}Email{{/_i}}</strong></td><td><div class="relative"><input class="input-block" id="email" name="email" size="30" type="text" value="{{email}}"><div class="error-flag" id="invalid-email-error" ><span class="arrow-left-container"><span class="arrow"></span></span>{{#_i}}Invalid email address{{/_i}}</div><div class="error-flag" id="taken-email-error" ><span class="arrow-left-container"><span class="arrow"></span></span>{{#_i}}Email already taken{{/_i}}</div></div></td></tr>{{^hide_username}}<tr><td class="input-label" for="login"><strong>{{#_i}}Username{{/_i}}</strong></td><td><div class="relative"><input class="input-block" id="login" name="register_login" size="30" type="text" value="{{username}}"><div class="error-flag" id="invalid-login-error" style="top: -20px;"><span class="arrow-left-container"><span class="arrow"></span></span>{{#_i}}Username must be between 3 and 16 valid characters (letters, numbers and "-", ".", "_"){{/_i}}</div><div class="error-flag" id="taken-login-error" ><span class="arrow-left-container"><span class="arrow"></span></span>{{#_i}}Username already taken{{/_i}}</div><div class="error-flag" id="unknown-login-error" ><span class="arrow-left-container"><span class="arrow"></span></span>{{#_i}}Unknown error{{/_i}}</div></div></td></tr><tr class="suggest-box"><td colspan="2"><ul class="suggested-names"><li class="title"><strong>{{#_i}}Suggestions{{/_i}}</strong></li><li class="suggestion"><a class="suggested-name suggest1"></a></li><li class="suggestion"><a class="suggested-name suggest2"></a></li></ul></td></tr>{{/hide_username}}<tr><td class="input-label" for="password"><strong>{{#_i}}Password{{/_i}}</strong></td><td><div class="relative"><input class="input-block" id="password" name="register_password" size="30" type="password"><div class="error-flag" id="invalid-password-error" ><span class="arrow-left-container"><span class="arrow"></span></span>{{#_i}}Password too short{{/_i}}</div></div></td></tr></table><input name="ui_language" type="hidden" value="{{ui_language}}"><input name="invite" type="hidden" value="{{invite}}"><input name="invited_by" type="hidden" value="{{invited_by}}"><input name="invited_via" type="hidden" value="{{invited_via}}">{{#facebook_id}}<input name="facebook_id" type="hidden" value="{{facebook_id}}">{{/facebook_id}}</form> '},function(e,t,i){e.exports='<div id="signup-modal-body">{{#teacher_register}}<div id="signup-email" class="splash-signup-form"><section class="section-white space"><div class="section-inner-wide section-inner">'+i(104)+'</div></section></div>{{/teacher_register}}{{^teacher_register}}<div class="modal-header"><h1>{{#_i}}Sign up{{/_i}}<div class="owl owl-pointing-small {{^rtl}}img-flipped{{/rtl}}"></div></div><div class="modal-body">'+i(104)+"</div>{{/teacher_register}}</div>"},function(e,t){e.exports='<main class="main-center-narrow"><section class="page-main"><form action="" method="post" id="reset-form" style="margin: 0;"><input type="hidden" name="came_from" value="{{came_from}}"/><input type="hidden" id="email" name="email" value="{{email}}"/><input type="hidden" id="token" name="token" value="{{token}}"/><input type="hidden" name="came_from" value="{{came_from}}"/><h1 style="margin: 0 0 30px 0;">{{#_i}}Reset Password{{/_i}}</h1><input placeholder="{{#_i}}New Password{{/_i}}" class="input-block margin-bottom" id="new-password" name="new-password" size="30" type="password"><input placeholder="{{#_i}}Confirm New Password{{/_i}}" class="input-block margin-bottom" id="confirm-new-password" name="confirm-new-password" size="30" type="password"><div id=\'message\' class="warning-message hidden margin-bottom"></div><div id="reset-message" class="warning-message hidden margin-bottom"></div><input id="" type="submit" class="btn btn-lg btn-blue btn-block more-margin-bottom" value="{{#_i}}Submit{{/_i}}"/></form><div id="form_txt_good" class="form_msg hidden"><h1 style="">{{#_i}}Password Changed!{{/_i}}</h1><h2 style="text-align: center;"><a class="username" href="/" data-bypass>{{#_i}}Click here to continue to Duolingo{{/_i}}</a></h2></div></section></main> '},function(e,t,i){e.exports='{{#show_magic_register_modal}}<div class="modal hidden show in" id="signup-modal"><div class="modal-body magic-link-modal">'+i(44)+'</div><div type="button" class="close" data-dismiss="modal" aria-hidden="true">×</div></div>{{/show_magic_register_modal}}{{^show_magic_register_modal}}'+i(44)+"{{/show_magic_register_modal}}"},function(e,t,i){e.exports='<section dir="{{dir}}" class="monument-carousel dark-theme"><div dir="{{dir}}" class="signup">'+i(44)+'</div>{{#en_ui_language}}<div dir="{{dir}}" class="flag-carousel"><div class="section-inner center"><div class="featured-languages slider"><span class="language-list-container"><ul class="language-list bxslider">{{#languages_from_ui}}<li><a data-track-click="splash page flag" href="/course/{{learning_language_id}}/{{from_language_id}}/{{#_i}}Learn-{{#_iv}}{{learning_language_name}}{{/_iv}}-Online{{/_i}}"><span class="flag flag-svg-small flag-{{learning_language}}"></span><span class="language-name">{{#_iv}}{{base_learning_language_name}}||capitalized{{/_iv}}</a></span></li>{{/languages_from_ui}}</ul></span></div></div></div>{{/en_ui_language}}{{^en_ui_language}}{{^single_learning_language}}<div dir="{{dir}}" class="flag-carousel"><div class="section-inner center"><ul class="featured-languages">{{#languages_from_ui}}<li><a data-track-click="splash page flag" href="/course/{{learning_language_id}}/{{from_language_id}}/{{#_i}}Learn-{{#_iv}}{{learning_language_name}}{{/_iv}}-Online{{/_i}}"><span class="flag flag-svg-small flag-{{learning_language}}"></span><span class="language-name">{{#_iv}}{{base_learning_language_name}}||capitalized{{/_iv}}</a></span></li>{{/languages_from_ui}}</ul></div></div>{{/single_learning_language}}{{/en_ui_language}}</section>{{#use_mobile_banner}}<div class="mobile-banner"><div class="owl owl-happy-small"></div><div class="banner-main"><div><div class="splash-icon close-button"></div><div class="banner-title">{{#_i}}Install the Duolingo App{{/_i}}</div><span class="rating">{{app_rating}}</span><span class="splash-icon star"></span><span class="splash-icon star"></span><span class="splash-icon star"></span><span class="splash-icon star"></span><span class="splash-icon graystar"><span class="splash-icon star" style="width: 7px"></span></span><span class="reviews">({{app_reviews}})</span></div><div><a class="install-android btn-green" href="//play.google.com/store/apps/details?id=com.duolingo&hl={{ui_language_lang_id}}" data-track-click="mobile banner android" target="_blank">{{#_i}}INSTALL{{/_i}}</a><div class="splash-icon google-play"></div></div></div></div>{{/use_mobile_banner}}<section dir="{{dir}}" class="duo-info"><div class="section-inner"><span class="owl owl-happy {{#rtl}}img-flipped{{/rtl}}"></span><div class="text"><h2>{{#_i}}The best new way to learn a language.{{/_i}}</h2><p>{{#_i}}Learning with Duolingo is fun and addictive. Earn points for correct answers, race against the clock, and level up. Our bite-sized lessons are effective, and we have <a href="/effectiveness-study">proof that it works</a>.{{/_i}}</p>{{^cn_extension}}<a href="javascript:;" id="video-toggle" class="play-video"><div class="play-border"><div class="play-button"></div></div><strong>{{#_i}}See how we do it{{/_i}}</strong></a>{{/cn_extension}}</div></div></section><section dir="{{dir}}" class="website"><div class="section-inner"><h2 class="splash">{{#_i}}Gamification poured into every lesson.{{/_i}}</h2><div class="callout-wrapper"><div class="callout-container-left scroll-animate"><span class="callout challenges"><span class="splash-icon challenges"></span><div class="text"><h4>{{#_i}}Read, Listen, Speak{{/_i}}</h4><p>{{#_i}}Each lesson includes a variety of speaking, listening, translation, and multiple choice challenges.{{/_i}}</p></div></span><span class="callout grading"><span class="splash-icon check"></span><div class="text"><h4>{{#_i}}In-Lesson Grading{{/_i}}</h4><p>{{#_i}}Instantly see which answers you get correct. When you miss a challenge, we\'ll quickly show you how to improve.{{/_i}}</p></div></span></div><span class="left-line-container scroll-animate"><div class="challenges line"></div><div class="grading line"></div></span><span class="splash-icon computer {{#rtl}}img-flipped{{/rtl}}"></span><span class="right-line-container scroll-animate" ><div class="streak line"></div><div class="heart line"></div></span><div class="callout-container-right scroll-animate"><span class="callout streak"><span class="splash-icon streak"></span><div class="text"><h4>{{#_i}}Streak Count{{/_i}}</h4><p>{{#_i}}Duolingo motivates you to stay on track by recording how many days in a row you spend learning a language.{{/_i}}</p></div></span><span class="callout heart"><span class="splash-icon heart"></span><div class="text"><h4>{{#_i}}Hearts{{/_i}}</h4><p>{{#_i}}Hearts keep your lessons alive! You lose them when you answer incorrectly. When you\'re out of hearts, start over and try again.{{/_i}}</p></div></span></div></div></div></section><section dir="{{dir}}" class="mobile"><div class="section-inner"><div class="text"><h2>{{#_i}}Learn anytime, anywhere.{{/_i}}</h2><p>{{#_i}}Make your breaks and commutes more productive with our iPhone and Android apps. Download them and see why Apple and Google gave us their highest accolades.{{/_i}}</p><p class="mobile-link">{{^web_branded_mobile_buttons_test_true}}<a class="btn btn-primary btn-outline btn-small" href="{{#_i}}//itunes.apple.com/app/duolingo-learn-spanish-french/id570060128?mt=8{{/_i}}" target="_blank" data-track-click="mobile download ios"><span class="splash-icon apple"></span><span class="link-text">{{#_i}}iOS{{/_i}}</span></a>{{#cn_extension}}<a class="btn btn-primary btn-outline btn-small" href="http://zhushou.360.cn/detail/index/soft_id/361348" target="_blank" data-track-click="mobile download android"><span class="splash-icon android"></span><span class="link-text">{{#_i}}Android{{/_i}}</span></a>{{/cn_extension}}{{^cn_extension}}<a class="btn btn-primary btn-outline btn-small" href="//play.google.com/store/apps/details?id=com.duolingo&hl={{ui_language_lang_id}}" target="_blank" data-track-click="mobile download android"><span class="splash-icon android"></span><span class="link-text">{{#_i}}Android{{/_i}}</span></a><a class="btn btn-primary btn-outline btn-small" href="{{#_i}}//www.microsoft.com/store/apps/duolingo-learn-languages-for-free/9wzdncrcv5xn{{/_i}}" target="_blank" data-track-click="mobile download windows"><span class="splash-icon windows"></span><span class="link-text">{{#_i}}Windows Phone{{/_i}}</span></a>{{/cn_extension}}{{/web_branded_mobile_buttons_test_true}}{{#web_branded_mobile_buttons_test_true}}<a class="btn btn-mobile" href="{{#_i}}//itunes.apple.com/app/duolingo-learn-spanish-french/id570060128?mt=8{{/_i}}" target="_blank" data-track-click="mobile download ios"><span class="about-img apple-store"></span><span class="button-text">{{#_i}}<span class="subtext">Download on the</span>App Store{{/_i}}</span></a>{{#cn_extension}}<a class="btn btn-mobile threesixty-store-badge" href="http://zhushou.360.cn/detail/index/soft_id/361348" target="_blank" data-track-click="mobile download android"><span class="splash-icon threesixty-store-symbol"></span><span class="splash-icon threesixty-store-logo"></span><span class="button-text">手机助手</span></a>{{/cn_extension}}{{^cn_extension}}<a class="btn btn-mobile" href="//play.google.com/store/apps/details?id=com.duolingo&hl={{ui_language_lang_id}}" target="_blank" data-track-click="mobile download android"><span class="about-img play-store"></span><span class="button-text">{{#_i}}<span class="subtext">Get it on</span>Google Play{{/_i}}</span></a><a class="btn btn-mobile" href="{{#_i}}//www.microsoft.com/store/apps/duolingo-learn-languages-for-free/9wzdncrcv5xn{{/_i}}" target="_blank" data-track-click="mobile download windows"><span class="about-img windows-store"></span><span class="button-text">{{#_i}}<span class="subtext">Download from</span>Windows Store{{/_i}}</span></a>{{/cn_extension}}{{/web_branded_mobile_buttons_test_true}}</p></div><span class="splash-icon apps"></span></div></section><section dir="{{dir}}" class="schools"><div class="section-inner"><span class="school-icon dashboard-img"></span><div class="text"><h2>{{#_i}}Duolingo for Schools{{/_i}}</h2><p>{{#_i}}The world\'s most popular language learning platform is now available for the classroom. Thousands of teachers are already using it to enhance their lessons.{{/_i}}</p><a class="blue" href="https://schools.duolingo.com" target="_blank" data-track-click="web splash schools">{{#_i}}Bring Duolingo to your classroom{{/_i}}</a></div></div></section><section dir="{{dir}}" class="footer dark-theme"><div class="section-inner"><h2>{{#single_learning_language}}{{#_i}}Learn English with Duolingo.{{/_i}}{{/single_learning_language}}{{^single_learning_language}}{{#_i}}Learn a language with Duolingo.{{/_i}}{{/single_learning_language}}</h2><a class="btn btn-xl btn-green sign-up bottom-signup-btn" href="javascript:;" id="signup-link" data-id="signup-link" style="margin-bottom: 15px;" data-track-click="splash page register">{{#_i}}Get started{{/_i}}</a>{{^logged_in}}<footer id="footer-sitemap" />{{/logged_in}}{{#logged_in}}'+i(12)+"{{/logged_in}}</div></section> "},function(e,t){e.exports='<div class="trial-overlay {{#profile_overlay}}sidebar{{/profile_overlay}}"><div class="overlay-prompt">{{#store_overlay}}{{#num_rupees}}{{#_i}}You have {{num_rupees}} {{#pluralize}}lingot,lingots,{{num_rupees}}{{/pluralize}}.{{/_i}} {{#_i}}Create a profile to spend {{#pluralize}}it,them,{{num_rupees}}{{/pluralize}} in the store!{{/_i}}{{/num_rupees}}{{^num_rupees}}{{#_i}}Create a profile to get power-ups, bonus skills, and more!{{/_i}}{{/num_rupees}}{{/store_overlay}}{{#comment_overlay}}{{#_i}}Create a profile to join in on discussions!{{/_i}}{{/comment_overlay}}{{#profile_overlay}}{{#_i}}Create a profile to save your progress!{{/_i}}{{/profile_overlay}}<a class="btn btn-block btn-green register-delayed" href="javascript:;" data-track-click="trial account overlay create profile">{{#_i}}Create a profile{{/_i}}</a><a class="btn btn-block btn-blue existing-login" href="javascript:;" data-track-click="trial account overlay login">{{#_i}}Sign in{{/_i}}</a></div></div> '},function(e,t){e.exports='<div class="close"></div><div class="modal-header"><h1>{{#_i}}Keyboard shortcuts{{/_i}}</h1></div><div class="modal-body"><ul class="keyboard-shortcut-panels"><li class="left"><h4 class="center">{{#_i}}Lessons{{/_i}}</h4><table border="0" cellspacing="0" cellpadding="0" class="table table-striped table-shortcuts"><tr><td class="col-keys"><div class="key">Enter</div></td><td>{{#_i}}Submit answer{{/_i}}</td></tr><tr><td class="col-keys"><bdi><div class="key">1</div><div class="key">2</div><div class="key">3</div></bdi></td><td>{{#_i}}Select multiple choice answers{{/_i}}</td></tr><tr><td class="col-keys"><div class="key">▼</div><div class="key">▲</div></td><td>{{#_i}}Navigate dropdown lists{{/_i}}</td></tr><tr><td class="col-keys"><div class="key">Ctrl</div><div class="key-plus">+</div><div class="key">Space</div></td><td>{{#_i}}Replay audio{{/_i}}</td></tr><tr><td class="col-keys"><div class="key">Ctrl</div><div class="key-plus">+</div><div class="key">Shift</div><div class="key-plus">+</div><div class="key">Space</div></td><td>{{#_i}}Replay audio slower{{/_i}}</td></tr></table></li><li class="right"><h4 class="center">{{#_i}}Translations{{/_i}}</h4><table border="0" cellspacing="0" cellpadding="0" class="table table-striped table-shortcuts"><tr><td class="col-keys"><span class="key">▼</span><span class="key">▲</span><td>{{#_i}}Change which sentence is highlighted{{/_i}}</td></tr><tr><td class="col-keys"><span class="key">&#x25b6;</span><td>{{#_i}}Edit translation of highlighted sentence{{/_i}}</td></tr><tr><td class="col-keys"><span class="key">Enter</span></td><td>{{#_i}}Save edit{{/_i}}</td></tr><tr><td class="col-keys"><span class="key">Esc</span></td><td>{{#_i}}Cancel edit{{/_i}}</td></tr><tr><td class="col-keys"><span class="key plus-key">+</span><td>{{#_i}}Rate translation "Looks good"{{/_i}}</td></tr><tr><td class="col-keys"><span class="key minus-key">-</span><td>{{#_i}}Rate translation "Looks wrong"{{/_i}}</td></tr></table></li></ul></div>'},function(e,t,i){e.exports='<div class="caret"><div class="outer"></div><div class="inner"></div></div><ul class="small-list-users">'+i(182)+'</ul>{{#more}}<a href="/find_friends$q={{q}}" class="see-all-results">{{#_i}}See all results{{/_i}} →</a>{{/more}}'},function(e,t,i){e.exports='<ul class="list-notifications">{{#notification_events}}<li {{#unseen}}class="new-notification"{{/unseen}}>{{#lingot_icon}}<div class="icon icon-lingot-small notif-rupee"></div>{{/lingot_icon}}{{#user}}{{#follow}}{{^is_following}}<span class="follow right btn btn-small btn-green" data-user={{id}}>{{#_i}}Add friend{{/_i}}</span>{{/is_following}}{{/follow}}{{^translation_lingots}}{{^document_lingots}}{{^translator_promotion}}{{^accepted}}{{^streak}}{{^invited}}'+i(62)+'{{/invited}}{{/streak}}{{/accepted}}{{/translator_promotion}}{{/document_lingots}}{{/translation_lingots}}{{#follow}} {{#_i}}<a href="/{{username}}" class="user">{{username}}</a> added you as a friend.{{/_i}} {{/follow}}{{#pass}} {{#_i}}<a href="/{{username}}" class="user">{{username}}</a> passed you in skill points.{{/_i}} {{/pass}}{{#comment}} {{#_i}}<a href="/{{username}}" class="user">{{username}}</a> replied to your comment in <a href="/comment/{{comment_id}}{{#nested_id}}$comment_id={{nested_id}}{{/nested_id}}"><strong>{{comment_title}}</strong></a>.{{/_i}} {{/comment}} {{#is_following}}<br/>{{/is_following}}{{#stream_post}} {{#_i}}<a href="/{{username}}" class="user">{{username}}</a> posted on your stream{{/_i}}<div>{{stream_blurb}} </div>{{/stream_post}}{{#invite}}{{#invited}}{{#_i}}<a href="/{{username}}" class="user">{{username}}</a> accepted your invite to join Duolingo! You have earned 1 lingot.{{/_i}} {{/invited}}{{#accepted}}{{#_i}}You earned 1 lingot for accepting an invite from your friend {{#inviter}}<a href="/{{username}}" class="user">{{username}}</a>{{/inviter}}. Use it in the store to purchase helpful items!{{/_i}} {{/accepted}}{{/invite}}{{#translation}}{{#_i}}<a href="/{{username}}">{{username}}</a> edited your translation in <a href="/translation/{{translation_id}}$index={{sentence_index}}"><strong>{{document_title}}</strong></a>.{{/_i}}{{/translation}}{{/user}}{{#streak}}{{^won_wager}}{{^lost_wager}}<span>{{#_i}}You earned {{num_rupees}} {{#pluralize}}lingot,lingots,{{num_rupees}}{{/pluralize}} for reaching a {{streak_days}} day streak!{{/_i}} </span>{{/lost_wager}}{{/won_wager}}{{#won_wager}}<span>{{#_i}}You won your wager by keeping your streak for 7 days and have been awarded 10 lingots!{{/_i}} </span>{{/won_wager}}{{#lost_wager}}<span>{{#_i}}You have lost your wager. Better luck next time!{{/_i}} </span>{{/lost_wager}}{{/streak}}{{#translator_promotion}}<span class="translator-tier-flag-micro"><span class="double-flag-source flag flag-svg-micro flag-{{source_language}}"></span><span class="double-flag-target flag flag-svg-micro flag-{{target_language}}"></span></span><span>{{#_i}}You reached translation tier {{new_tier}}!{{/_i}} </span>{{/translator_promotion}}{{#document_lingots}}<span>{{#_i}}You received {{num_lingots}} {{#pluralize}}Lingot,Lingots,{{num_lingots}}{{/pluralize}} for upvotes to <a href="/translation/{{translation_id}}">{{document_title}}</a>{{/_i}}</span>{{/document_lingots}}{{#translation_lingots}}<span>{{#_i}}You received {{num_lingots}} {{#pluralize}}Lingot,Lingots,{{num_lingots}}{{/pluralize}} for helping to translate <a href="/translation/{{translation_id}}">{{document_title}}</a>{{/_i}} </span>{{/translation_lingots}}<span style="padding:0 2px"></span><span class="datetime">{{pretty_datetime}}</span></li>{{/notification_events}}{{^notification_events}}<li style="padding-left: 10px;text-align: center;color: #999;">{{#_i}}You have no new notifications.{{/_i}}</li>{{/notification_events}}</ul><div class="close"></div> '},function(e,t){e.exports='<main class="main-center"><section class="page-main" style="text-align:center"><h1>Thank you for taking the survey!</h1><h2>A credit for one Duolingo English Test has been applied to your account. Go to the <a class="blue-link" href="https://testcenter.duolingo.com">Duolingo English Test</a> and click on "Complete Your Test" to use your credit.</h2><div class="large-image padding-vertical"><a href="https://testcenter.duolingo.com" target="_blank"><img src="/images/pm/tc_screenshot.jpeg" alt="Duolingo English Test screenshot"></a></div>{{#expired}}<h4 class="padding-vertical">Your credit has expired.</h4>{{/expired}}{{#days_left}}<h4 class="padding-vertical">Your credit will expire in {{days_left}} {{#pluralize}}day,days,{{days_left}}{{/pluralize}}.</h4>{{/days_left}}</section></main> '},function(e,t){e.exports='<main class="main-center"><section class="page-main"><div id="pm-form"><div class="survey-question"><h4>Please take a moment to answer four quick questions...</h4></div><div class="survey-question"><h4>1. In your opinion, how well did you know English before you started studying it with Duolingo?</h4><ul class="likert"><li>Not at all</li><li><label>0<input type="radio" name="prior" value="0" required></label></li><li><label>1<input type="radio" name="prior" value="1" required></label></li><li><label>2<input type="radio" name="prior" value="2" required></label></li><li><label>3<input type="radio" name="prior" value="3" required></label></li><li><label>4<input type="radio" name="prior" value="4" required></label></li><li><label>5<input type="radio" name="prior" value="5" required></label></li><li><label>6<input type="radio" name="prior" value="6" required></label></li><li><label>7<input type="radio" name="prior" value="7" required></label></li><li><label>8<input type="radio" name="prior" value="8" required></label></li><li><label>9<input type="radio" name="prior" value="9" required></label></li><li><label>10<input type="radio" name="prior" value="10" required></label></li><li>Perfectly</li></ul></div><div class="survey-question"><h4>2. What is the main reason you are learning English on Duolingo?</h4><label class="blue-select smaller"><select name="reason" id="reason" required><option class="placeholder" value="">---</option><option value="travel">For future travel</option><option value="work">For work or job opportunities</option><option value="school">For school</option><option value="fun">For fun</option><option value="people">To speak with people I know</option><option value="other">Other</option></select></label></div><div class="survey-question"><h4>3. Including your mother tongue, how many languages do you know or have studied?</h4><label class="blue-select smaller"><select name="languages" id="languages" required><option class="placeholder" value="">---</option><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7 or more</option></select></label></div><div class="survey-question"><h4>4. Since starting the Duolingo English course, have you used other tools to study English?</h4><h5>Examples include: classes, self-study books, other language learning apps</h5><ul class="yes-no-q"><li><label><input type="radio" name="materials" value="yes" required>Yes</label></li><li><label><input type="radio" name="materials" value="no" required>No</label></li></ul></div><div class="center"><input class="btn btn-solid btn-blue" type="submit" id="submit-btn" value="Submit"></div></div></section></main> '},function(e,t){e.exports='<main class="main-center"><section class="page-main" style="text-align:center"><h1>Thank you for taking the test and survey!</h1><h2>We hope you continue to enjoy Duolingo.</h2><h4 class="padding-vertical">If you have any questions about this study, you can contact the Duolingo Research Team at <a class="blue-link" href="mailto:assessment@duolingo.com">assessment@duolingo.com</a>.</h4></section></main> '},function(e,t){e.exports='<main class="main-center"><section class="page-main" style="text-align:center"><h1>¡Gracias por completar la encuesta!</h1><h2>Te hemos acreditado un examen Duolingo English Test gratis a tu cuenta. Visita la página <a class="blue-link" href="https://testcenter.duolingo.com">Duolingo English Test</a> y haz clic en el botón "Termina tu examen" para tomar el examen completamente gratis.</h2><div class="large-image padding-vertical"><a href="https://testcenter.duolingo.com" target="_blank"><img src="/images/pm/tc_screenshot.jpeg" alt="Duolingo English Test"></a></div>{{#expired}}<h4 class="padding-vertical">Tu crédito ha expirado.</h4>{{/expired}}{{#days_left}}<h4 class="padding-vertical">Tu crédito expirará en {{days_left}} {{#pluralize}}día,días,{{days_left}}{{/pluralize}}.</h4>{{/days_left}}</section></main> '},function(e,t){e.exports='<main class="main-center"><section class="page-main"><div id="pm-form"><div class="survey-question"><h4>Por favor toma unos minutos para responder las siguientes preguntas...</h4></div><div class="survey-question"><h4>1. ¿En tu opinión, qué tanto inglés sabías antes de empezar a estudiar con Duolingo?</h4><ul class="likert"><li>Nada</li><li><label>0<input type="radio" name="prior" value="0" required></label></li><li><label>1<input type="radio" name="prior" value="1" required></label></li><li><label>2<input type="radio" name="prior" value="2" required></label></li><li><label>3<input type="radio" name="prior" value="3" required></label></li><li><label>4<input type="radio" name="prior" value="4" required></label></li><li><label>5<input type="radio" name="prior" value="5" required></label></li><li><label>6<input type="radio" name="prior" value="6" required></label></li><li><label>7<input type="radio" name="prior" value="7" required></label></li><li><label>8<input type="radio" name="prior" value="8" required></label></li><li><label>9<input type="radio" name="prior" value="9" required></label></li><li><label>10<input type="radio" name="prior" value="10" required></label></li><li>Perfecto</li></ul></div><div class="survey-question"><h4>2. ¿Cuál es la razón por la cual estás aprendiendo inglés con Duolingo?</h4><label class="blue-select smaller"><select name="reason" id="reason" required><option class="placeholder" value="">---</option><option value="travel">Por un viaje</option><option value="work">Por trabajo o una mejor oportunidad laboral</option><option value="school">Para la escuela</option><option value="fun">Por diversión</option><option value="people">Para practicarlo con amigos y conocidos</option><option value="other">Otro</option></select></label></div><div class="survey-question"><h4>3. ¿Cuántos idiomas sabes o has estudiado, incluyendo tu idioma materno?</h4><label class="blue-select smaller"><select name="languages" id="languages" required><option class="placeholder" value="">---</option><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7plus">7 o más</option></select></label></div><div class="survey-question"><h4>4. ¿Desde que empezaste estudiar con Duolingo has utilizado alguna otra herramienta para el aprendizaje de inglés además de Duolingo?</h4><h5>Por ejemplo: clases personales, libros de texto, otras aplicaciones de aprendizaje, etc.</h5><ul class="yes-no-q"><li><label><input type="radio" name="materials" value="yes" required>Sí</label></li><li><label><input type="radio" name="materials" value="no" required>No</label></li></ul></div><div class="center"><input class="btn btn-solid btn-blue" type="submit" id="submit-btn" value="Enviar"></div></div></section></main> ';
},function(e,t){e.exports='<main class="main-center"><section class="page-main" style="text-align:center"><h1>¡Gracias por tomar el examen y la encuesta!</h1><h2>Esperamos que sigas disfrutando de Duolingo.</h2><h4 class="padding-vertical">Si tienes alguna pregunta acerca del estudio, puedes contactar al Equipo de Investigación de Duolingo a través del correo electrónico <a class="blue-link" href="mailto:assessment@duolingo.com">assessment@duolingo.com</a>.</h4></section></main> '},function(e,t,i){e.exports="<li>"+i(25)+'<a href="/{{username}}" class="username">{{username}}</a>{{#logged_in}}{{^is_user}}{{#is_being_blocked}}<button class="btn btn-small right" disabled="disabled">{{#_i}}Blocked{{/_i}}</button>{{/is_being_blocked}}{{^is_a_blocker}}{{^trial_account}}<a class="follow-button btn right btn-small btn-standard {{#is_following}}success{{/is_following}}" data-user="{{id}}" data-follow-text="{{#_i}}Follow{{/_i}}" data-unfollow-text="{{#_i}}Following{{/_i}}">{{#is_following}}{{#_i}}Following{{/_i}}{{/is_following}}{{^is_following}}{{#_i}}Follow{{/_i}}{{/is_following}}</a>{{/trial_account}}{{/is_a_blocker}}{{/is_user}}{{/logged_in}}</li> '},function(e,t,i){e.exports='<ul class="list-users-small">{{#shown_friends}}'+i(470)+"{{/shown_friends}}</ul>"},function(e,t){e.exports='<ul class="invite-action">{{^cn_extension}}<li class="facebook friend-via"><a href="javascript:;" class="btn {{#num_following}}btn-standard btn-white{{/num_following}} {{^num_following}}btn-blue{{/num_following}} margin-bottom btn-block fb-connect">{{#_i}}Find {{#num_following}}more{{/num_following}} friends on Facebook{{/_i}}</a></li>{{/cn_extension}}<li class="friend-via"><ul class="invite-action-buttons"><li class="invite"><a href="javascript:;" class="btn email btn-standard btn-white btn-block">{{#_i}}Send invite{{/_i}}</a></li><li class="search"><a href="javascript:;" class="btn search btn-standard btn-white btn-block">{{#_i}}Search{{/_i}}</a></li></ul></li></ul><div class="go-back hidden"><a href="javascript:;">{{^rtl}}←{{/rtl}}{{#rtl}}→{{/rtl}} {{#_i}}Back{{/_i}}</a></div><div id="invite-box" class="board hidden email-invite-box"><div class="inner"><div class="invite-users form-row" style="margin-bottom: 0;"><div class="close"></div><h5>{{#_i}}Send a personal invite email{{/_i}}</h5><div class="block-input-row margin-bottom"><div class="col-left"><input id="invite-email" type="text" placeholder="{{#_i}}Email address{{/_i}}" class="invite input-block"/></div><div class="col-right"><button class="btn btn-small btn-green right send-invite">{{#_i}}Send{{/_i}}</button></div></div><p class="send-notification grayDark hidden"><strong>{{#_i}}Invite sent to:{{/_i}}</strong> <span id="invited-email"></span></p><p id="already-joined" class="error hidden">{{#_i}}This user has already signed up to Duolingo as <a class="user-link username"></a>.{{/_i}}</p><p id="already-invited" class="error hidden">{{#_i}}This email address has already been sent an invite.{{/_i}}</p><p id="not-email" class="error hidden">{{#_i}}Please enter one valid email address at a time.{{/_i}}</p>{{#num_accepted}}{{#invites}}<p>{{#one_invited}}{{#_i}}Out of the people you invited, {{#friend_one}}<a href="/{{username}}">{{username}}</a>{{/friend_one}} signed up.{{/_i}}{{/one_invited}}{{#two_invited}}{{#_i}}Out of the people you invited, {{#friend_one}}<a href="/{{username}}">{{username}}</a>{{/friend_one}} and {{#friend_two}}<a href="/{{username}}">{{username}}</a>{{/friend_two}} signed up.{{/_i}}{{/two_invited}}{{#three_invited}}{{#_i}}Out of the people you invited, {{#friend_one}}<a href="/{{username}}">{{username}}</a>{{/friend_one}}, {{#friend_two}}<a href="/{{username}}">{{username}}</a>{{/friend_two}} and {{#friend_three}}<a href="/{{username}}">{{username}}</a>{{/friend_three}} signed up.{{/_i}}{{/three_invited}}{{#more_invited}}{{#_i}}Out of the people you invited, {{#friend_one}}<a href="/{{username}}">{{username}}</a>{{/friend_one}}, {{#friend_two}}<a href="/{{username}}">{{username}}</a>{{/friend_two}} and {{num_left}} others signed up.{{/_i}}{{/more_invited}}</p>{{/invites}}{{/num_accepted}}{{^num_accepted}}<p>{{#_i}}Fill in your friends’ email addresses and we’ll send them a personal invite.{{/_i}}</p>{{/num_accepted}}</div></div></div>'},function(e,t){e.exports="<div class=\"logged-out-message-new\"><h2>{{#username}}{{#_i}}Hey! {{username}} is using <strong>Duolingo</strong> to learn languages for free while helping to translate the web.{{/_i}}{{/username}}{{^username}}{{#language}}{{#_i}}With Duolingo you can learn languages for free! It's fun and effective.{{/_i}}{{/language}}{{^language}}{{#_i}}With Duolingo you can learn languages for free! It's fun and effective.{{/_i}}{{/language}}{{/username}}</h2></div> "},function(e,t){e.exports='{{#logged_in}}{{^current_user_profile}}<span id=\'profile-context-menu\' class="icon icon-gear-small profile-context-menu"><ul class="dropdown-menu hidden"><li id="block-toggle"><a href="javascript:;">{{^is_blocking}}{{#_i}}Block {{username}}{{/_i}}{{/is_blocking}}{{#is_blocking}}{{#_i}}Unblock {{username}}{{/_i}}{{/is_blocking}}</a></li>{{#can_shadowban}}{{^admin}}{{^global_moderator}}<li id="shadowban-user"><a href="javascript:;">{{#_i}}Shadowban {{username}}{{/_i}}</a></li>{{/global_moderator}}{{/admin}}{{/can_shadowban}}</ul></span>{{/current_user_profile}}{{/logged_in}} '},function(e,t,i){e.exports='<h2 class="friends-title" data-search="{{#_i}}Search for other learners{{/_i}}" data-fb="{{#_i}}Facebook friends{{/_i}}">{{#_i}}Friends{{/_i}}</h2><ul class="nav-tabs following-switch"><li id="switch-following" class="switch-friends active" data-tab="following"><a href="javascript:;">{{#_i}}Following: {{num_following}}{{/_i}}</a></li><li id="switch-followers" class="switch-friends" data-tab="followers"><a href="javascript:;">{{#_i}}Followers: {{num_followers}}{{/_i}}</a></li></ul><ul id="followers" class="avatar-grid hidden">{{#followers}}<li>'+i(10)+'</li>{{/followers}}{{#show_more_followers}}<li><a href="javascript:;" class="more" data-type="followers">+{{num_show_more_followers}}</a></li><div id="followers-modal" class="modal fade hide hidden" style="margin-top: -200px;"><div class="modal-header"><h1>{{#_i}}{{username}}\'s Followers{{/_i}}</h1><div class="close icon icon-close" data-dismiss="modal">{{#_i}}close{{/_i}}</div></div><div class="modal-body"></div></div>{{/show_more_followers}}</ul><ul id="following" class="avatar-grid {{^num_following}}hidden{{/num_following}}">{{#following}}<li>'+i(10)+'</li>{{/following}}{{#show_more_following}}<li><a href="javascript:;" class="more" data-type="following">+{{num_show_more_following}}</a></li><div id="following-modal" class="modal fade hide hidden" style="margin-top: -200px;"><div class="modal-header"><h1>{{#_i}}{{username}}\'s Friends{{/_i}}</h1><div class="close icon icon-close" data-dismiss="modal">{{#_i}}close{{/_i}}</div></div><div class="modal-body"></div></div>{{/show_more_following}}</ul><div id="add-more-friends"><div id="search-friends" class="board hidden"><ul id="search-list-results"></ul></div><div id="fb-friends" class="hidden board"><ul class="list-leaderboard">{{#fb_friends}}<li class="list-leaderboard-item"><span class="avatar avatar-small"><img src="{{#picture}}{{#data}}{{url}}{{/data}}{{/picture}}"></span><div class="action">{{#user_id}}{{#is_being_blocked}}<button class="btn btn-small" disabled="disabled">{{#_i}}Blocked{{/_i}}</button>{{/is_being_blocked}}{{^is_being_blocked}}{{^is_a_blocker}}<button class="follow-button btn {{#is_following}}btn-green{{/is_following}} btn-small {{^is_following}}btn-green{{/is_following}}" data-toggle="follow" data-user="{{user_id}}" data-follow-text="{{#_i}}Follow{{/_i}}" data-unfollow-text="{{#_i}}Unfollow{{/_i}}" data-silent="true">{{#is_following}}{{#_i}}Following{{/_i}}{{/is_following}}{{^is_following}}{{#_i}}Follow{{/_i}}{{/is_following}}</button>{{/is_a_blocker}}{{/is_being_blocked}}{{/user_id}}{{^user_id}}<button class="btn btn-blue btn-small invite-fb-friend" data-user="{{id}}" data-toggle="facebook-invite" data-track-from="home leaderboard" data-name="{{#_i}}You\'re Invited to Join Duolingo!{{/_i}}" data-description="{{#_i}}With Duolingo you learn a language for free, while helping to translate the web.{{/_i}}" data-sent="{{#_i}}Invite sent{{/_i}}">{{#_i}}Invite{{/_i}}</button>{{/user_id}}</div><span class="name">{{name}}</span></li>{{/fb_friends}}</ul></div></div>{{#show_add_friends}}<div id="add-friends"></div>{{/show_add_friends}}'},function(e,t){e.exports='<li data-toggle="popover" data-popover="#skillpoints-breakdown" data-placement="below"><span class="skill-points"></span>{{total_points}}<div id="skillpoints-breakdown" class="popover points-breakdown black top below"><div class="arrow"></div><div class="inner track-hover"><div class="content"><h4>{{#_i}}Skill points{{/_i}}</h4><ul class="">{{#points_languages}}{{#learning}}<li><span class="gold-coin"></span><strong class="points">{{points}}</strong><span class="text">{{#_i}}{{#_iv}}{{language_string}}{{/_iv}}||point breakdown by language{{/_i}}</span></li>{{/learning}}{{/points_languages}}<li><span class="activity"></span><strong class="points">+{{points_gained_in_week}}</strong><span class="text">{{#_i}}{{#pluralize}}Point,Points,{{points_gained_in_week}}{{/pluralize}} this week{{/_i}}</span></li></ul></div></div></div></li><li data-toggle="popover" data-popover="#words-breakdown" data-placement="below"><span class="words-icon {{#ui_language_es}}es{{/ui_language_es}} {{#ui_language_pt}}es{{/ui_language_pt}} {{#ui_language_it}}es{{/ui_language_it}} {{#ui_language_fr}}fr{{/ui_language_fr}} {{#ui_language_pl}}pl{{/ui_language_pl}}"></span><span id="word-count">{{#loading_word_count}}<img src="/images/profile-word-spinner.gif" style="" class="spinner" />{{/loading_word_count}}{{^loading_word_count}}{{#vocab_size}}{{total}}{{/vocab_size}}{{/loading_word_count}}</span><div id="words-breakdown" class="popover points-breakdown black top below"><div class="arrow"></div><div class="inner track-hover"><div class="content"><h4>{{#_i}}Words{{/_i}}</h4><ul class="">{{#vocab_size}}{{#languages}}<li><span class="words-icon small {{#ui_language_es}}es{{/ui_language_es}} {{#ui_language_pt}}es{{/ui_language_pt}} {{#ui_language_it}}es{{/ui_language_it}} {{#ui_language_fr}}fr{{/ui_language_fr}} {{#ui_language_pl}}pl{{/ui_language_pl}}"></span><strong class="points">{{count}}</strong><span class="text">{{#_i}}{{#_iv}}{{language_string}}{{/_iv}}||word breakdown by language{{/_i}}</span></li>{{/languages}}{{/vocab_size}}</ul></div></div></div></li><li data-toggle="popover" data-popover="#streak-breakdown" data-placement="below"><span class="streak"></span>{{site_streak}}<div id="streak-breakdown" class="popover points-breakdown black top below"><div class="arrow"></div><div class="inner track-hover"><div class="content"><h4>{{#_i}}Streaks{{/_i}}</h4><ul class="">{{#streak_languages}}{{#learning}}<li><span class="streak-small"></span><strong class="points">{{streak}}</strong><span class="text">{{#_i}}{{#_iv}}{{language_string}}{{/_iv}}||streak breakdown by language{{/_i}}</span></li>{{/learning}}{{/streak_languages}}</ul></div></div></div></li>'},function(e,t,i){e.exports='<main class="main-left"><section class="page-sidebar sidebar-right"><div class="inner"><div class="box-gray box-achievements"><h2>{{#_i}}Achievements{{/_i}}</h2><ul class="sidebar-stats"><li><h3 class="gray">{{#_i}}Streak{{/_i}}</h3><span class="icon icon-streak-small-normal {{#rtl}}img-flipped{{/rtl}}"></span> {{#_i}}<strong>{{site_streak}}</strong> {{#pluralize}}Day,Days,{{site_streak}}{{/pluralize}}{{/_i}}</li><!-- <li><h3 class="gray">{{#_i}}Highest Streak{{/_i}}</h3><span class="icon icon-streak-small"></span> {{#_i}}<strong>{{site_streak}}</strong> Days{{/_i}}</li> --></ul><h3 class="gray">{{#_i}}Languages{{/_i}}</h3><ul class="profile-language-list">{{#points_languages}}{{#learning}}<li><div class="profile-language"><div class="course-card {{language}} course-profile-badge"><div class="course-card-header course-page-illustration-{{language}} gradient"><div class="small-course-illustration layer-1"></div><div class="small-course-illustration layer-2"></div><div class="small-course-illustration layer-3"></div></div></div><div class="language-info"><div class="language-name">{{#_iv}}{{language_string}}||capitalized{{/_iv}} - {{#_i}}Level {{level}}{{/_i}}</div>{{^max_level}}<div class="substat">{{#_i}}Next level:{{/_i}} {{#_i}}{{to_next_level}} XP{{/_i}}</div>{{/max_level}}<div class="substat">{{#_i}}Total XP:{{/_i}} {{#_i}}{{points}} XP{{/_i}}</div></div></div></li>{{/learning}}{{/points_languages}}</ul>{{#have_tiers}}<h3 class="gray">{{#_i}}Translation Tiers{{/_i}}</h3><ul class="tier-badge-grid updated">{{#tiers}}<li><span class="tier-wrapper"><span class="translator-tier-flag"><span class="double-flag-source flag flag-svg-small flag-{{source}}"></span><span class="double-flag-target flag flag-svg-small flag-{{target}}"></span></span><br/><span class="tier-number">{{tier}}</span></span></li>{{/tiers}}</ul>{{/have_tiers}}</div>{{#allow_friends}}<div class="box-gray">{{#enabled_groups_experiment}}{{#group}}<h2>{{#_i}}Team{{/_i}}</h2><div class="profile-team-widget"><div class="group-widget-strip group-color-{{color}}"><a href="/team/{{id}}"><span class="group-avatar-icon tiny group-avatar-icon-{{icon_index}}"></span></a><a href="/team/{{id}}"><span class="icon icon-arrow-white-medium right"></span><strong class="group-name">{{name}}</strong></a></div></div>{{/group}}{{/enabled_groups_experiment}}<div id="friends"></div></div>{{/allow_friends}}</div></section><section class="page-main main-left"><header class="profile-header" {{^stream_enabled}}style="margin: 0";{{/stream_enabled}}>{{^viewer_trial_account}}'+i(474)+"{{/viewer_trial_account}}"+i(198)+'<h1 class="profile-header-username">{{username}}</h1><h2 class="profile-header-subline {{^fullname}}{{^location}}{{^twitter_id}}{{^facebook_id}}hidden{{/facebook_id}}{{/twitter_id}}{{/location}}{{/fullname}}">{{#fullname}}<span class="real-name">{{fullname}}</span>{{/fullname}}{{#location}}<span class="location"><span class="icon-location-small icon"></span> {{location}}</span>{{/location}}<ul class="user-social-links">{{#twitter_id}}<li><a href="https://twitter.com/intent/user?user_id={{twitter_id}}" rel="nofollow" target="_blank"><span class="icon icon-twitter-white-small"></span></a></li>{{/twitter_id}}{{#facebook_id}}<li><a href="http://www.facebook.com/{{facebook_id}}" rel="nofollow" target="_blank"><span class="icon icon-fb-white-small"></span></a></li>{{/facebook_id}}</ul></h2>{{#bio}}<p class="profile-header-bio">{{bio}}</p>{{/bio}}{{#allow_following}}<a href="javascript:;" class="btn btn-green {{#is_following}}success checkmark{{/is_following}}" data-toggle="follow" data-user="{{id}}" data-follow-text="{{#_i}}Follow{{/_i}}" data-unfollow-text="{{#_i}}Following{{/_i}}" data-follow-class="" data-unfollow-class="checkmark">{{#is_following}}{{#_i}}Following{{/_i}}{{/is_following}}{{^is_following}}{{#_i}}Follow{{/_i}}{{/is_following}}</a>{{/allow_following}}{{#allow_blocking}}{{#is_blocking}}<a href="javascript:;" class="btn" disabled="disabled">{{#_i}}Blocked{{/_i}}</a>{{/is_blocking}}{{/allow_blocking}}</header>{{#stream_enabled}}<div id="stream-container" class="stream-container"></div>{{/stream_enabled}}</section></main> '},function(e,t){e.exports='<div id="shadowban-form" class="modal hidden fade"><div class="close"></div><div class="modal-header"><h1>{{#_i}}Shadowban User:{{/_i}} {{username}}</h1></div><div class="modal-body"><form id="shadowban-submit" action="/api/1/shadowban_user" method="post"><input class="hidden" name="user_id" value="{{id}}"><input class="hidden" name="username" value="{{username}}"><div class="description-section"><h2>{{#_i}}Please enter an explanation for banning this user. (minimum: 100 characters){{/_i}}</h2><textarea name="ban_description" class="description"></textarea></div><div class="upload-section"><h2>{{#_i}}Upload a screenshot of the user\'s offensive behavior.{{/_i}}</h2><div id="screenshot-upload"><span id="filename">{{#_i}}Select your file...{{/_i}}</span><label for="file-upload"> Browse <input type="file" id="file-upload" name="image"></label></div></div></form><div class="error-placeholder"></div></div><div class="modal-footer"><div class="btn btn-standard left cancel-ban">{{#_i}}Cancel{{/_i}}</div><div class="btn btn-red ban-user">{{#_i}}Shadowban{{/_i}}</div></div></div>'},function(e,t){e.exports='<main><section class="page-main join"><h1>{{#_i}}Join a classroom{{/_i}}</h1><p class="gray subheader">{{#_i}}Enter your teacher\'s classroom code below:{{/_i}}</p><input autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="{{#_i}}Classroom code{{/_i}}" class="classroom-code" id="code" name="code" size="30" type="text"/><div class="messages"></div><a id="join-button" href="#" class="btn btn-lg btn-blue btn-block disabled">{{#_i}}Join classroom{{/_i}}</a></section></main> '},function(e,t){e.exports='{{^success}}<p class="red">{{#too_short}}{{#_i}}The code is too short.{{/_i}}{{/too_short}}{{#too_long}}{{#_i}}The code is too long.{{/_i}}{{/too_long}}{{#invalid_code}}{{#_i}}This code does not match any classroom. Please double check what you typed.{{/_i}}{{/invalid_code}}</p>{{/success}}{{#success}}<p class="success-text">{{#_i}}Success! You can join the classroom <b>{{classroom_name}}</b> owned by <b>{{observer_email}}</b>{{/_i}}</p>{{/success}} '},function(e,t){e.exports='<div class="topbar-username dropdown click-trigger" style="padding-bottom: 15px;"><div class="current-language" id="site-language-btn">{{#_i}}Site language:{{/_i}} <strong>{{#_i}}{{#_ivar}}ui_language_name{{/_ivar}}||capitalized{{/_i}}</strong><span class="icon icon-arrow-down-white"></span></div><ul id="site-language-modal" class="double dropdown-menu arrow-top-right">{{#ui_languages_list}}<li class=\'ui-language-option\' data-id="{{id}}" data-abbrev="{{language}}"><a href="//{{id}}.duolingo.com" data-bypass><span class="flag flag-svg-micro flag-{{language}}"></span>{{label}}</a></li>{{/ui_languages_list}}</ul></div> '},function(e,t,i){e.exports='{{#show_mobile_view}}<div class="magic-link-body"><meta name = "viewport" content = "width = device-width"><div class="container"><div class="main-area"><!-- This LOGIN section should be visible first for users, if they dont have an acct, they will click the \'Need an account?\' link in the footer -->{{#login}}<div id="login-form" class="login-form"><ul class=\'login-signup-list\'><form id="login-form"><table border="0" cellspacing="0" cellpadding="0" class="form-table" style="margin-bottom: 20px;"><input type="hidden" name="came_from" value="{{came_from}}"/><tr><td><input id="login" name="login" size="30" type="text" placeholder="{{#_i}}Username{{/_i}}"></td></tr><tr><td><input id="password" name="password" size="30" type="password" placeholder="{{#_i}}Password{{/_i}}"></td></tr></table><div id=\'message\' class="warning-message hidden margin-bottom"></div><a id="login-button" class="btn btn-lg btn-blue btn-block">{{#_i}}Login{{/_i}}</a><p class="center no-margin"><a href="/forgot_password" class="forgot-password">{{#_i}}Forgot password?{{/_i}}</a></p></form></ul></div>{{/login}}<!-- This SIGNUP section appears if a user clicks \'Need and account?\' in the footer -->{{#signup}}<div class="signup-form"><span class="signup"></span></div>{{/signup}}</div><!-- Each of these footer message(s) correspond with one of the sections above --><div class="mobile-footer"><div class="footer-content center">{{#login}}<a class="sign-up-btn blue">{{#_i}}Need an account? Sign up!{{/_i}}</a>{{/login}}{{#signup}}<a class="log-in blue">{{#_i}}Have an Account? Log in{{/_i}}</a>{{/signup}}</div></div></div></div>{{/show_mobile_view}}{{^show_mobile_view}}<section id="magic-link-splash" dir="{{dir}}" class="monument-carousel dark-theme">{{#confirmation}}<div dir="{{dir}}" class="confirmation"><h4>{{#_i}}Join a classroom{{/_i}}</h4>'+i(195)+'<a class="btn btn-blue btn-block sign-up-btn">{{#_i}}Create an account{{/_i}}</a><a class="log-in blue">{{#_i}}Have an Account? Log in{{/_i}}</a></div>{{/confirmation}}{{#login}}<div id="login-form" class="login-form"><h4>{{#_i}}Login{{/_i}}</h4><ul class="login-signup-list"><form id="login-form"><table border="0" cellspacing="0" cellpadding="0" class="form-table" style="margin-bottom: 20px;"><input type="hidden" name="came_from" value="{{came_from}}"/><tr><td><input id="login" name="login" size="30" type="text" placeholder="{{#_i}}Username or email{{/_i}}"></td></tr><tr><td><input id="password" name="password" size="30" type="password" placeholder="{{#_i}}Password{{/_i}}"></td></tr></table><div id=\'message\' class="warning-message hidden margin-bottom"></div><a href="javascript:;" id="login-button" class="btn btn-lg btn-blue btn-block">{{#_i}}Login{{/_i}}</a><p class="center no-margin"><a href="/forgot_password" class="forgot-password">{{#_i}}Forgot password?{{/_i}}</a></p></form><li class="signup-social-link">{{#_i}}Sign up with <a href="javascript:;" class="signup-facebook">Facebook</a> or <a href="javascript:;" class="signup-google" data-track-click="course register google">Google</a>{{/_i}}</li></ul><div class="footer-content">{{#_i}}Don\'t have an Account? <a href="javascript:;" class="login" data-dismiss="modal">Sign up</a>{{/_i}}</div></div>{{/login}}{{#signup}}<div dir="{{dir}}" class="signup"></div>{{/signup}}</section>{{/show_mobile_view}} '},function(e,t){e.exports='<div class="modal fade in web-assignments" id="skill-prereqs"><div type="button" class="close" data-dismiss="modal" aria-hidden="true">×</div><div class="modal-header"><h1 class="section-header">{{#_i}}<span class="skill">{{skill_name}}</span> due on {{due_date}}{{/_i}}</h1></div><div class="modal-body"><p>{{#_i}}In order to start on the skill <em>{{skill_name}}</em>, you first need to finish these skills:{{/_i}}</p><div class="dependency-wrapper"><div class="dependencies">{{#dependencies}}{{#early_skills}}<div class="skill-unit"><span class="skill-icon small locked"><span class="skill-icon-image skill-icon-{{new_index}}"></span></span><div class="prereq-title">{{short}}</div></div><div class="bar"></div>{{/early_skills}}{{#leading}}<div class="skill-unit">{{#leading_remainder}}<span class="skill-icon small locked"><div class="plus"> + {{#leading}}{{remainder}}{{/leading}}</div></span><div class="prereq-title">{{#leading}}{{#_i}}{{remainder}} other {{#pluralize}}skill,skills,{{remainder}}{{/pluralize}}{{/_i}}{{/leading}}</div>{{/leading_remainder}}{{^leading_remainder}}<span class="skill-icon small locked"><span class="skill-icon-image skill-icon-{{new_index}}"></span></span><div class="prereq-title">{{short}}</div>{{/leading_remainder}}</div><div class="bar"></div>{{/leading}}{{/dependencies}}<div class="skill-unit"><span class="skill-icon small locked"><span class="skill-icon-image skill-icon-{{skill_index}}"></span></span><div class="prereq-title">{{skill_name}}</div></div></div></div><div class="call-to-action">{{#dependencies}}<a href="{{first_skill_url}}" data-bypass class="btn btn-{{first_skill_color}} btn-block">{{#_i}}Start with {{skill_name}}{{/_i}}</a>{{/dependencies}}</div></div></div>'},function(e,t){e.exports='<h2 class="secondary-header">{{#_i}}Assignments{{/_i}}</h2><ul class="assignment-tile-container">{{#has_assignments}}{{#other_language_info}}<li id="assignment-switch-language" data-language="{{other_language}}" class="assignment-tile completed other-language"><div class="assignment-ring"><div class="radial-progress" data-progress="0"><div class="circle"><div class="mask full"><div class="fill"></div></div><div class="mask half"><div class="fill"></div><div class="fill fix"></div></div></div><div class="inset"><span class="flag flag-svg-small flag-{{other_language}}"></span></div></div></div><div class="ring-label blue">{{#_i}}You have an assignment!{{/_i}}</div></li>{{/other_language_info}}{{#student_assignments}}<li class="assignment-tile {{#completion_date}}completed{{/completion_date}}" data-id="{{id}}"><div class="assignment-ring"><div class="radial-progress" data-progress="0" {{#num_completed}}data-toggle="tooltip"{{/num_completed}} data-placement="top" data-delay=\'{"show":"300"}\' data-title=" {{#skill_name}}{{#_i}}{{lessons_completed}}/{{num_lessons}} lessons complete{{/_i}}{{/skill_name}}{{^skill_name}}{{#_i}}{{num_completed}} of {{num_total}} XP{{/_i}}{{/skill_name}}"><div class="circle"><div class="mask full"><div class="fill"></div></div><div class="mask half"><div class="fill"></div><div class="fill fix"></div></div></div><div class="inset"><div class="skill-icon-container">{{#skill_name}}{{#completion_date}}<span class="skill-icon micro unlocked {{skill_color}}"><span class="skill-icon-image skill-icon-{{skill_index}}"></span></span>{{/completion_date}}{{^completion_date}}<span class="skill-icon micro locked white"><span class="skill-icon-image skill-icon-{{skill_index}}"></span></span>{{/completion_date}}{{/skill_name}}{{^skill_name}}{{#completion_date}}<span class="skill-icon micro unlocked gold"></span>{{/completion_date}}{{^completion_date}}<span class="skill-icon micro locked white"><span class="school-icon gray-coin micro ring-coin"></span></span>{{/completion_date}}{{/skill_name}}</div></div></div></div><div class="ring-label">{{#skill_name}}<span class="assignment-title {{skill_color}}">{{skill_name}}</span>{{/skill_name}}{{^skill_name}}<span class="assignment-title gold">{{#_i}}{{xp_goal}} XP goal{{/_i}}</span>{{/skill_name}}<span class="due-in right">{{#completion_date}}<div class="green caught-up"><span class="icon icon-green-check-small margin-right"></span><b>{{#_i}}Complete{{/_i}}</b></div>{{/completion_date}}{{^completion_date}}{{#num_days}}{{#overdue}}{{#_i}}Due {{num_days}} {{#pluralize}}day,days,{{num_days}}{{/pluralize}} ago{{/_i}}{{/overdue}}{{^overdue}}{{#_i}}Due in {{num_days}} {{#pluralize}}day,days,{{num_days}}{{/pluralize}}{{/_i}}{{/overdue}}{{/num_days}}{{^num_days}}{{#num_hours}}{{#overdue}}{{#_i}}Due {{num_hours}} {{#pluralize}}hour,hours,{{num_hours}}{{/pluralize}} ago{{/_i}}{{/overdue}}{{^overdue}}{{#_i}}Due in {{num_hours}} {{#pluralize}}hour,hours,{{num_hours}}{{/pluralize}}{{/_i}}{{/overdue}}{{/num_hours}}{{^num_hours}}{{#_i}}Due at {{due_time}}{{/_i}}{{/num_hours}}{{/num_days}}{{/completion_date}}</span></div></li>{{/student_assignments}}{{/has_assignments}}</ul>{{^student_assignments}}<div class="no-assignments">{{#other_language_info}}<button id="assignment-switch-language" data-language="{{other_language}}" class="btn btn-standard store-button btn-store"><span class="flag flag-svg-small flag-{{other_language}}"></span>{{#_i}}You have an assignment!{{/_i}}</button>{{/other_language_info}}{{^other_language_info}}<div class="green caught-up"><span class="looks-good margin-right"></span>{{#_i}}You are all caught up!{{/_i}}</div>{{/other_language_info}}</div>{{/student_assignments}} '},function(e,t){e.exports='<div class="modal fade in web-assignments" id="student-assignments"><div type="button" class="close" data-dismiss="modal" aria-hidden="true">×</div><div class="modal-header"><h1 class="section-header">{{#_i}}Your assignments{{/_i}}</h1></div><div class="modal-body {{#has_assignments}}table{{/has_assignments}}">{{#has_assignments}}<table id="assignment-list" class="table"><thead><th>{{#_i}}Assignment{{/_i}}</th><th>{{#_i}}Due on{{/_i}}</th><th>{{#_i}}Status{{/_i}}</th></thead><tbody id="vocab-rows">{{#student_assignments}}<tr {{#completion_date}}class="completed-assignment"{{/completion_date}}><td>{{#xp_goal}}<span class="avatar-container margin-right"><span class="{{#completion_date}}school-icon gray-coin smaller{{/completion_date}}{{^completion_date}}icon icon-xp-small{{/completion_date}}"></span></span><span class="section-display-name bold gray-dark">{{#_i}}{{xp_goal}} XP goal{{/_i}}</span>{{/xp_goal}}{{^xp_goal}}<span class="avatar-container margin-right"><span class="skill-icon micro {{#completion_date}}dark-gray{{/completion_date}} {{^completion_date}}{{skill_color}} un{{/completion_date}}locked" data-toggle="tooltip" data-id="{{skill_id}}" data-placement="bottom" title="{{skill_name}}"><span class="skill-icon-image skill-icon-{{skill_index}}"></span></span></span><span class="skill-name section-display-name bold gray-dark">{{skill_name}}</span>{{/xp_goal}}</td><td {{^in_progress}}{{^completion_date}}class="red"{{/completion_date}}{{/in_progress}}>{{due_date}}</td><td>{{#completion_date}}<div class="assignments-digest assignment-info">{{#is_late}}<span class="assignment-overlay late margin-right"><span class="school-icon yellow-clock margin-right"></span>{{completion_date}}</span>{{/is_late}}{{^is_late}}<span class="assignment-overlay complete margin-right"><span class="school-icon green-check margin-right"></span>{{completion_date}}</span>{{/is_late}}</div>{{/completion_date}}{{^completion_date}}<a href="javascript:;" data-id="{{id}}" class="btn btn-primary right assignment-action">{{#started}}{{#_i}}Continue{{/_i}}{{/started}}{{^started}}{{#_i}}Start{{/_i}}{{/started}}</a>{{/completion_date}}</td></tr>{{/student_assignments}}</tbody></table>{{/has_assignments}}{{^has_assignments}}<div class="caught-up no-assignments">{{#_i}}You do not have any {{#_ivar}}assignment_language_name{{/_ivar}} assignments.{{/_i}}</div>{{/has_assignments}}</div></div>'},function(e,t){e.exports='<div class="modal fade in web-assignments" id="xp-decision"><div type="button" class="close" data-dismiss="modal" aria-hidden="true">×</div><div class="modal-header"><h1 class="section-header">{{#_i}}Complete your {{xp_goal}} XP goal{{/_i}}</h1></div><div class="modal-body"><p>{{#_i}}Learn something new or strengthen your skills{{/_i}}</p><ul class="choose-your-path"><li><a href="{{skill_url}}" data-bypass data-track-click="schools-choose-new-skill" class="skill-badge-small"><span class="skill-icon {{skill_color}} small unlocked"><span class="skill-icon-image skill-icon-{{skill_index}}"></span></span><strong class="skill-badge-name {{skill_color}}">{{skill_title}}</strong></a></li><li class="or">{{#_i}}or{{/_i}}</li><li><a href="/practice" data-bypass data-track-click="schools-choose-practice" class="skill-badge-small"><span class="skill-icon blue small unlocked"><span class="icon icon-practice-big-white"></span></span><strong class="blue skill-badge-name">{{#_i}}Strengthen skills{{/_i}}</strong></a></li></ul></div></div>'},function(e,t){e.exports='<div class="form-row"><div class="step-number"><span class="icon icon-words-small">1</span></div><div><p>{{#_i}}How would you like to upload your content?{{/_i}}</p><label class="blue-select no-focus smaller"><select id="input-type"><option value=\'url\'>{{#_i}}URL{{/_i}}</option><option value=\'paste\'>{{#_i}}Paste Text{{/_i}}</option><!-- <option value=\'file\'>{{#_i}}File Upload{{/_i}}</option> --></select></label></div></div><div id="self-service-file" class="self-service-type-input"><div class="step-number"><span class="icon icon-words-small">2</span></div><div><div class="form-row"><p>{{#_i}}Select your file for upload. Valid file types are .doc, .docx, .odt, .rtf, and .txt.{{/_i}}</p><button type="button" id="file-button" class="btn btn-large btn-standard">{{#_i}}Choose file{{/_i}}</button></div></div></div><div id="self-service-paste" class="self-service-type-input"><div class="step-number"><span class="icon icon-words-small">2</span></div><div><div class="form-row"><p>{{#_i}}Please provide a headline for your content.{{/_i}}</p><input type="text" id="article-headline" placeholder="Headline"></input></div></div><div class="step-number"><span class="icon icon-words-small">3</span></div><div><div class="form-row"><p>{{#_i}}Paste the body text of your content.{{/_i}}<span style="float: right;">{{#_i}}Word count:{{/_i}} <span id="word-count">{{count}}</span>, {{#_i}}Estimated cost:{{/_i}} $<span id="cost">{{cost}}</span></p><textarea id="article-body" placeholder="{{#_i}}Body text{{/_i}}"></textarea></div></div><div class="step-number"><span class="icon icon-words-small">4</span></div><div><div class="form-row"><p>{{#_i}}Enter an image url (optional).{{/_i}}</p><input type="text" id="image-url"></input></div></div><div class="step-number"><span class="icon icon-words-small">5</span></div><div><div class="form-row"><p>{{#_i}}Enter a document url (optional).{{/_i}}</p><input type="text" id="document-url"></input></div></div></div><div id="self-service-url" class="self-service-type-input"><div class="step-number"><span class="icon icon-words-small">2</span></div><div><div class="form-row"><p>{{#_i}}Where is your content located on the web?{{/_i}}</p><input type="text" id="url" placeholder="{{#_i}}Content web address{{/_i}}"></input></div></div></div>{{#cnn}}<div class="form-row"><div class="step-number"><span class="icon icon-words-small">3</span></div><div><p>{{#_i}}What priority level does this document have?{{/_i}}</p><label class="blue-select no-focus smaller"><select id="priority"><option value=\'0\'>{{#_i}}Low{{/_i}}</option><option value=\'1\'>{{#_i}}Medium{{/_i}}</option><option value=\'2\'>{{#_i}}High{{/_i}}</option></select></label></div></div>{{/cnn}}<div><p id="input-errors" class="left hidden"></p><button type="button" id="continue-input" class="btn right btn-large btn-primary" data-wait="{{#_i}}Loading...{{/_i}}">{{#_i}}Continue{{/_i}}</button></div> ';
},function(e,t){e.exports='<div class="list-document-item-right"><span class="payment-info"><div class="payment-info-arrow"></div><div>{{#_i}}{{num_words}} words{{/_i}}</div><div>{{#_i}}${{total_cost}}{{/_i}}</div></span><div class="translation-progress">{{#finished}}<a href="javascript:;" data-job="{{translate_job_id}}">{{#_i}}Download{{/_i}}</a>{{/finished}}{{^finished}}{{#_i}}{{percent_high_quality}}% translated{{/_i}}{{/finished}}</div></div>{{#document}}{{#preview_image}}<div class="immersion-teaser-image" style="background-image: url( \'{{preview_image}}\')"></div>{{/preview_image}}{{^preview_image}}<div class="immersion-teaser-image owl-default"></div>{{/preview_image}}{{/document}}<header class="list-document-item-header">{{#document}}{{title}}{{/document}}</header><div><span class="list-document-item-desc">{{published_date}} | {{#_i}}{{#_ivar}}language_name{{/_ivar}}||capitalized{{/_i}} > {{#_i}}{{#_ivar}}target_language_name{{/_ivar}}||capitalized{{/_i}}</span><span class="translator-tier-flag-micro"><span class="double-flag-source flag flag-svg-micro flag-{{#document}}{{language}}{{/document}}"></span><span class="double-flag-target flag flag-svg-micro flag-{{target_language}}"></span></span></div> '},function(e,t){e.exports='<header class="topbar topbar-self-service-splash"><div class="container"><a href="//www.duolingo.com" class="topbar-brand track-click white">Duolingo</a><a class="left" href="/">{{#_i}}Translations{{/_i}}</a><div id="global-loading-indicator" class="loading-indicator" style="display: none;"><div class="dark-spinner"></div></div><div class="topbar-right">{{#username}}<span class="btn btn-green" onclick="location.href=\'/logout\';">{{#_i}}Logout{{/_i}}</span>{{/username}}{{^username}}<div class="topbar-username dropdown click-trigger" style="padding-bottom: 15px;"><div class="current-language" id="site-language-btn">{{#_i}}Site language:{{/_i}} <strong>{{#_i}}{{#_ivar}}ui_language_name{{/_ivar}}||capitalized{{/_i}}</strong><span class="icon icon-arrow-down-gray"></span></div><ul id="site-language-modal" class="dropdown-menu arrow-top" style="min-width: 200px; left: 0; right: auto; margin-top: 0px; z-index: 101;"><li class=\'ui-language-option\' data-id="en" data-abbrev="en"><a href="/en" data-bypass="true">English</a></li><li class=\'ui-language-option\' data-id="es" data-abbrev="es"><a href="/es" data-bypass="true">Español</a></li><li class=\'ui-language-option\' data-id="fr" data-abbrev="fr"><a href="/fr" data-bypass="true">Français</a></li><li class=\'ui-language-option\' data-id="pt" data-abbrev="pt"><a href="/pt" data-bypass="true">Português</a></li></ul></div><div class="topbar-buttons" style="margin-top: 1px;"><span class="sign-in relative"><span class="btn btn-green sign-in-btn" id="sign-in-btn">{{#_i}}Login{{/_i}}</span><ul class="popover arrow-top login-popover hidden" id="login-modal" style="width: 240px; right:0; top: 40px; left: auto;"><li id="auth-callback" class="hidden"></li><form id=\'login-form\' action="" method="post" accept-charset="utf-8" style="margin: 0;"><li><div class="form-row"><input class="input-small input-block" placeholder="{{#_i}}Username or email{{/_i}}" type="text" id="top_login" name="login" value="" autocomplete="on"/></div></li><li><div class="form-row"><input class="input-small input-block" placeholder="{{#_i}}Password{{/_i}}" type="password" id="top_password" name="password" value="" autocomplete="on"/></div></li><li id="message" class="login-fail hidden"></li><li><input id="login-button" class="btn btn-green btn-small sign-in btn-block" type="submit" value="{{#_i}}Login{{/_i}}"></li><li class="center"><a href="/forgot_password">{{#_i}}Forgot password{{/_i}}</a></li></form></ul></span></div>{{/username}}</div><div id="logged-out-message" class="logged-out-message"></div></div></header><div id="keyboard-shortcuts" class="modal keyboard-shortcuts fade"></div> '},function(e,t,i){e.exports='<header class="topbar topbar-self-service"><div class="container"><a href="//www.duolingo.com" class="topbar-brand track-click white">Duolingo</a><div id="global-loading-indicator" class="loading-indicator" style="display: none;"><div class="dark-spinner"></div></div><a href="/" class="left">{{#_i}}Translations{{/_i}}</a><div class="topbar-right"><div class="dropdown topbar-username"><div data-toggle="dropdown" class="">'+i(25)+'<span class="name">{{username}}</span><span class="icon icon-arrow-down-white"></span></div><ul class="dropdown-menu arrow-top" role="menu" aria-labelledby="dLabel"><li><a href="/logout" class="track-click" id="header_userdrop_logout" data-bypass>{{#_i}}Logout{{/_i}}</a></li></ul></div></div></div></header> '},function(e,t){e.exports='<form action="" method="POST" id="payment-form"><h2 class="center">{{#_i}}Please confirm your transaction details!{{/_i}}</h2><div class="pay-panel"><div class="pay-amount"><div class="pay-arrow"></div><h4>$<span id="confirm-cost"></span></h4><p><span id="confirm-words"></span> {{#_i}}words{{/_i}}</p></div><div class="pay-summary"><h6>{{#_i}}Headline:{{/_i}}</h6><p id="confirm-headline"></p><h6>{{#_i}}Category:{{/_i}}</h6><p id="confirm-category"></p><h6>{{#_i}}Translate into:{{/_i}}</h6><p id="confirm-language"></p></div></div><div id="payment-choice" class="form-row"><div id="submit-container" class="right"><h5>&nbsp;</h5><button type="button" id="stripe-button" class="btn btn-large btn-primary" data-wait="{{#_i}}Please wait...{{/_i}}">{{#_i}}Submit{{/_i}}</button></div><div><h5>{{#_i}}Payment method{{/_i}}</h5><label class="blue-select no-focus smaller"><select id="cards"><option value="New">{{#_i}}New credit card...{{/_i}}</option></select></label></div></div><div id="card-fields" class="form-row"><input id="card-month" type="hidden" data-stripe="exp_month"></input><input id="card-year" type="hidden" data-stripe="exp_year"></input><div class="col"><h5>{{#_i}}Credit card number{{/_i}}</h5><input id="card-number" type="text" size="24" data-stripe="number"></input></div><div class="col"><h5>{{#_i}}Expires{{/_i}}</h5><input id="card-expiry" type="text" size="10" placeholder="{{#_i}}MM / YY{{/_i}}"></input></div><div class="col"><h5>{{#_i}}CVC{{/_i}}</h5><input id="card-cvc" type="text" size="7" data-stripe="cvc"></input></div></div><p id="payment-errors"{{^charged_monthly}} class="hidden"{{/charged_monthly}}>{{#_i}}(You will not be charged until the first day of the following month.){{/_i}}</p></form> '},function(e,t){e.exports='<div class="upload-panel preview-panel"><div id="preview-text" class="wiki-document-body">{{#custom_html}}{{{custom_html}}}{{/custom_html}}{{^custom_html}}<h3>{{title}}</h3><span class="flat-image-wrapper"><a class="fbox fancybox.image" rel="group" href="{{image_url}}" target="_blank" style="display: inline; height: 100%;"><img src="{{image_url}}" class="image-thumb"></a></span>{{#paragraphs}}<p>{{paragraph_text}}</p>{{/paragraphs}}{{/custom_html}}</div><div class="footer"><div class="form-row"><div class="col-left"><h5>{{#_i}}Pick a category that best fits:{{/_i}}</h5><label class="blue-select no-focus smaller"><select id="category"><option value=\'None\' style="color: #999;"><i>{{#_i}}None selected{{/_i}}</i></option>{{#categories}}<option value="{{id}}" {{#selected}}selected{{/selected}}>{{#_ivar}}label{{/_ivar}}</option>{{/categories}}</select></label></div><div class="col-right"><h5>{{#_i}}Translate into this language:{{/_i}}</h5><label class="blue-select no-focus smaller"><select id="language"><option value=\'None\' style="color: #999;"><i>{{#_i}}None selected{{/_i}}</i></option>{{#target_languages}}<option value="{{id}}" {{#selected}}selected{{/selected}}>{{#_ivar}}name{{/_ivar}}</option>{{/target_languages}}</select></label></div></div><button type="button" id="edit" class="btn left btn-standard btn-large make-edits edit-preview">{{#_i}}Edit{{/_i}}</button><button type="button" id="continue-preview" class="btn right btn-large btn-primary" style="margin-left: 10px;" data-wait="{{#_i}}Loading...{{/_i}}">{{#_i}}Continue{{/_i}}</button><button type="button" id="cancel-upload" class="btn right btn-large btn-standard cancel-preview">{{#_i}}Cancel{{/_i}}</button><div id="upload-failure" class="hidden">{{#_i}}Your document failed to upload, please try a different webpage:{{/_i}}<ul><li id="error-message">{{#_ivar}}upload_failure_reason{{/_ivar}}</li></ul></div></div></div> '},function(e,t,i){e.exports='<div class="welcome"><span class="globe"></span><div class="right"><h1>{{#_i}}Welcome to the future of translation.{{/_i}}</h1><p>{{#_i}}Translate anything you want. Support free education.{{/_i}}</p><button class="btn btn-white">{{#_i}}Request Invitation to Beta{{/_i}}</button></div></div><h1 id="thankyou" class="hidden center">{{#_i}}Thanks for signing up!{{/_i}}</h1><div class="request-form hidden"><table><tbody><tr><td><strong>{{#_i}}Name of company{{/_i}}</strong></td><td><input id="request-company" type="text"></td></tr><tr><td><strong>{{#_i}}E-mail address{{/_i}}</strong></td><td><input id="request-email" type="text"></td></tr><tr><td><strong>{{#_i}}Sample content{{/_i}}</strong><p>{{#_i}}Please provide a web address{{/_i}}</p></td><td><textarea id="request-sample"></textarea></td></tr><tr><td><strong>{{#_i}}What can we translate for you?{{/_i}}</strong><p>{{#_i}}Please describe the content you want translated, your desired languages, preferred turnaround time, and expected number of words.{{/_i}}</p></td><td><textarea id="request-description"></textarea></td></tr></tbody></table><div class="center"><button class="btn btn-white" data-wait="{{#_i}}Sending...{{/_i}}" data-fail="{{#_i}}Request Failed{{/_i}}">{{#_i}}Send Request{{/_i}}</button></div></div><div class="content"><h2 class="center">{{#_i}}Translate with Duolingo{{/_i}}</h2><section class="features"><div class="feature"><span class="feature-icon coin"></span><p>{{#_i}}Only 4 cents per word{{/_i}}</p></div><div class="feature"><span class="feature-icon time"></span><p>{{#_i}}24-hour turnaround{{/_i}}</p></div><div class="feature"><span class="feature-icon globe"></span><p>{{#_i}}Translate and help millions learn languages for free{{/_i}}</p></div><div class="feature"><span class="feature-icon gear"></span><p>{{#_i}}Seamless API integration{{/_i}}</p></div></section><section class="client-info"><h2 class="center">{{#_i}}Verified Quality{{/_i}}</h2><p>{{#_i}}Duolingo translations are used by a number of international media corporations. While one translator can make human mistakes, our translations are done collaboratively by a large group of people and verified by professionals for perfection. <a href="/">Read some samples ></a>{{/_i}}</p></section><section id="callout-directions" class="callout"><div id="available-languages" class="callout-left"><div><label class="green-select no-focus"><select><option value="en">{{#_i}}English||capitalized{{/_i}}</option><option value="es">{{#_i}}Spanish||capitalized{{/_i}}</option><option value="fr">{{#_i}}French||capitalized{{/_i}}</option><option value="pt">{{#_i}}Portuguese||capitalized{{/_i}}</option></select></label><span class="language-arrow"></span></div><table class="available-en"><tbody><tr><td><span class="flag flag-es-micro"></span>{{#_i}}Spanish||capitalized{{/_i}}</td><td><span class="flag flag-fr-micro"></span>{{#_i}}French||capitalized{{/_i}}</td></tr><tr><td><span class="flag flag-pt-micro"></span>{{#_i}}Portuguese||capitalized{{/_i}}</td><td>&nbsp;</td></tr><tr><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table><table class="available-es hidden"><tbody><tr><td><span class="flag flag-en-micro"></span>{{#_i}}English||capitalized{{/_i}}</td><td>&nbsp;</td></tr><tr><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td colspan="2" class="center more-incubator">{{#_i}}More languages coming soon in our <a href="http://incubator.duolingo.com/">Incubator</a>!{{/_i}}</td></tr></tbody></table><table class="available-fr hidden"><tbody><tr><td><span class="flag flag-en-micro"></span>{{#_i}}English||capitalized{{/_i}}</td><td>&nbsp;</td></tr><tr><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td colspan="2" class="center more-incubator">{{#_i}}More languages coming soon in our <a href="http://incubator.duolingo.com/">Incubator</a>!{{/_i}}</td></tr></tbody></table><table class="available-pt hidden"><tbody><tr><td><span class="flag flag-en-micro"></span>{{#_i}}English||capitalized{{/_i}}</td><td>&nbsp;</td></tr><tr><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td colspan="2" class="center more-incubator">{{#_i}}More languages coming soon in our <a href="http://incubator.duolingo.com/">Incubator</a>!{{/_i}}</td></tr></tbody></table></div><div class="callout-right"><h2>{{#_i}}Growing language offerings{{/_i}}</h2><p>{{#_i}}Duolingo already translates to and from popular languages, with more options becoming available soon.{{/_i}}</p></div></section><section id="callout-method" class="callout topborder"><div class="callout-left"><h2>{{#_i}}A revolutionary method{{/_i}}</h2><p>{{#_i}}Duolingo students are motivated to collaborate on translations by the opportunity to sharpen their language skills through real-world content. Students submit translations, review those created by others and vote on the most accurate submissions. Finally, Duolingo selects trusted editors to approve each translated document before submission. This iterative review process ensures the creation of very accurate translations.{{/_i}}</p></div><div class="callout-right"><img class="computer" src="/images/self-service/computer.svg"/></div></section><section id="callout-api" class="callout topborder"><div class="callout-left"><img class="console" src="/images/self-service/console.svg"/></div><div class="callout-right"><h2>{{#_i}}Translate at scale{{/_i}}</h2><p>{{#_i}}We offer a robust API you can easily integrate into your company\'s workflow for high-volume integration. It\'s plug and play at its best!{{/_i}}</p></div></section></div><div class="bottom"><h2 class="center">{{#_i}}Start translating today.{{/_i}}</h2><button class="btn btn-white">{{#_i}}Request Invitation to Beta{{/_i}}</button></div>'+i(12)+" "},function(e,t,i){e.exports='<main class="main-left"><section class="page-sidebar sidebar-right"><div class="inner"><div class="box-gray"><h2>{{#_i}}How does it work?{{/_i}}</h2><p>{{#_i}}You upload a document and language learners interact with it on Duolingo to translate it to the required language. It’s fast and accurate.{{/_i}}</p><div class="owl owl-happy owl-small"></div></div></div></section><section class="page-main main-left"><h6 class="back-link"><span class="icon icon-back-gray"></span> <a href="/">{{#_i}}Translations{{/_i}}</a></h6><ul class="nav-tabs upload-tabs"><li class="active step-tab input-step" data-tab="input" data-index=1 id="input"><a href="javascript:;">{{#_i}}Upload{{/_i}}</a></li><li class="inactive step-tab prev-step" data-tab="prev" data-index=2 id="prev"><a href="javascript:;">{{#_i}}Preview{{/_i}}</a></li><li class="inactive step-tab pay-step" data-tab="type" data-index=3 id="pay"><a href="javascript:;">{{#_i}}Pay &amp; Submit{{/_i}}</a></li></ul><div id="self-service-input-step" class="panel"></div><div id="self-service-prev-step" class="panel"></div><div id="self-service-pay-step" class="panel"></div></section></main><span id="confirm-message-window" class="hidden">{{#_i}}You haven\'t submitted yet!{{/_i}}</span><span id="confirm-message-link" class="hidden">{{#_i}}You haven\'t submitted yet! Are you sure you want to leave this page?{{/_i}}</span>'+i(12)+'<script src="https://js.stripe.com/v2/"></script> '},function(e,t,i){e.exports='<main class="main-right"><section class="page-sidebar sidebar-left"><div class="inner"><div class="translations-overview box-colored bg-white"><h2>{{#_i}}Translations Overview{{/_i}}</h2><ul class="translations-progress"><li><span class="looks-good"></span>{{#_i}}{{#pluralize}}Completed translation,Completed translations,{{num_completed_translations}}{{/pluralize}}{{/_i}}<span class="right">{{num_completed_translations}}</span></li><li><span class="pending"></span>{{#_i}}{{#pluralize}}Pending translation,Pending translations,{{num_pending_translations}}{{/pluralize}}{{/_i}}<span class="right">{{num_pending_translations}}</span></li></ul><hr>{{#_i}}Total cost this month: ${{total_cost_this_month}}{{/_i}}</div><div class="box-gray"><h2>{{#_i}}Progress{{/_i}}</h2><ul class="list-checkable"><li><input class="border" type="checkbox" class="border" id="progress_pending" checked><label>{{#_i}}Pending{{/_i}}</label></li><li><input class="border" type="checkbox" class="border" id="progress_finished" checked><label>{{#_i}}Finished{{/_i}}</label></li></ul></div><p>{{#_i}}If you need assistance, feel free to email us at <a href="mailto:help-translation@duolingo.com">help-translation@duolingo.com</a>{{/_i}}</p></div></section><section class="page-main main-right translations-main"><div style="height:80px;"><button type="button" class="btn btn-green right" id="upload-document">{{#_i}}Upload a document{{/_i}}</button><h1>{{#_i}}Translations{{/_i}}</h1><!-- <div class="search-uploads"><span class="icon icon-search-gray"></span><input type="text" name="search" value="" placeholder="{{#_i}}Search{{/_i}}" class="search-box" id="search-comments" maxlength="50"/><div class="clear-button btn" style="display : none">x</div></div> --></div><div class="translate-main" id="translation-tabs"><ul class="tabs big nav-tabs" style="position: relative; z-index: 1;"><li class="active" data-tab="uploaded"><a href="javascript:;">{{#_i}}All Translations{{/_i}}</a></li><li class="active" data-tab="monthly"><label class="green-select no-focus smaller"><select><option value="none" class="hidden" selected>{{#_i}}View by Month{{/_i}}</option></select></label></li></ul><div id="uploaded-tab" class="panel"></div><div id="monthly-tab" class="panel"></div></div></section>'+i(12)+"</main> "},function(e,t){e.exports='<div class="modal {{#tc_big_boss}}tc-big-boss-modal{{/tc_big_boss}}{{^tc_big_boss}}{{#finished_tree}}conquer-modal{{/finished_tree}}{{/tc_big_boss}} slide-in"><div class="close icon icon-close" data-dismiss="modal">{{#_i}}close{{/_i}}</div>{{#tc_big_boss}}<h1>{{#_i}}One Final Challenge!{{/_i}}</h1><p>{{#_i}}Put your skills to the test with the Duolingo Test Center.{{/_i}}</p><div class="tc-shield-sparkle"></div><ul><li><span>{{#_i}}Accepted by leading institutions around the globe{{/_i}}</span></li><li><span>{{#_i}}For ${{test_dollars}}, a real human will review your test{{/_i}}</span></li><li><span>{{#_i}}Receive an official English certificate within {{review_hours}} {{#pluralize}}hour,hours,{{review_hours}}{{/pluralize}}{{/_i}}</span></li></ul><a class="btn btn-green btn-take-test" href="javascript:;">{{#_i}}Take test for ${{test_dollars}}{{/_i}}</a>{{/tc_big_boss}}{{^tc_big_boss}}{{^finished_tree}}{{#level_event}}<div class="modal-header"><h1>{{#_i}}Great! You leveled up!{{/_i}}</h1></div><div class="modal-body">{{#can_now_comment}}<div class="social-xp-threshold level-modal"><p>{{#_i}}You can now participate in discussions! Head over to the <a href="/discussion">forum</a> to interact with other learners.{{/_i}}</p></div>{{/can_now_comment}}<div class="level-up-badge-container" style="text-align: center; margin-bottom: 30px;"><span class="level-badge-big {{language}}"><span class="inner">{{new_level}}</span><span class="pennant"></span></span></div></div>{{/level_event}}{{/finished_tree}}{{#finished_tree}}<div class="modal-body conquer-modal-body"><div class="finished-owl"><div class="owl owl-trophy-xl {{language}}"></div><div class="share-buttons"><a class="btn btn-blue" href="http://twitter.com/intent/tweet?text= {{#_i}}I conquered {{#_ivar}}language_string{{/_ivar}}!{{/_i}}&url=https%3A%2F%2F{{subdomain_prefix}}.duolingo.com&hashtags=duolingo " target="_blank"><span class="icon icon-twitter-white-small"></span>{{#_i}}Tweet{{/_i}}</a><a id="facebook-post-action" class="btn btn-fbblue facebook" data-shared="{{#_i}}Shared{{/_i}}" href="javascript:;"><span class="icon icon-fb-white-small"></span>{{#_i}}Share{{/_i}}</a></div></div><div class="finished-text"><h1>{{#_i}}You\'ve conquered the {{#_ivar}}language_string{{/_ivar}} skill tree!{{/_i}}</h1><p>{{#_i}}First of all, you\'re awesome! You\'ve completed the {{#_ivar}}language_string{{/_ivar}} skill tree! Second of all, we\'d like to take this time to thank you sincerely for your lengthy participation on Duolingo. So in honor of you, here is a very special trophy in which to show our gratitude.{{/_i}}</p><p>{{#_i}}But don\'t stop now, maintain your knowledge and keep your <strong>word strength full</strong> by continuing to practice.{{/_i}}</p><div class="strengthen-example"></div><span class="sinc">{{#_i}}Sincerely,{{/_i}}</span><div class="signature"></div></div></div>{{/finished_tree}}{{^finished_tree}}<div class="modal-footer"><button class="btn btn-green continue right">{{#_i}}Continue{{/_i}}</button>{{^cn_extension}}<button class="btn btn-blue share left relative">{{#_i}}Share{{/_i}}<ul class="dropdown-menu" role="menu" aria-labelledby="dLabel"><li>{{#level_event}}<a href="http://twitter.com/intent/tweet?text= {{#_i}}I reached Level {{new_level}} {{#_ivar}}language_string{{/_ivar}}!{{/_i}} &url=https%3A%2F%2F{{subdomain_prefix}}.duolingo.com&hashtags=duolingo" target="_blank">{{#_i}}Share on Twitter{{/_i}}</a>{{/level_event}}</li><li><a id="facebook-post-action" class="facebook" data-shared="{{#_i}}Shared on Facebook{{/_i}}" href="javascript:;">{{#_i}}Share on Facebook{{/_i}}</a></li><li class="divider"></li><li><span><label><input id="fb-auto-post" class="border" type="checkbox" {{#auto_facebook_post}}checked="checked"{{/auto_facebook_post}}/> {{#_i}}Automatically share on Facebook{{/_i}}</label></span></li></ul></button>{{/cn_extension}}</div>{{/finished_tree}}{{/tc_big_boss}}</div> '},function(e,t){e.exports='<div class="{{#in_player}}player-inner{{/in_player}}{{^in_player}}create-profile-nag-modal modal hidden fade in{{/in_player}}">{{^in_player}}<div class="close" data-dismiss="modal"></div>{{/in_player}}<section class="{{#in_player}}player-container slide-in{{/in_player}}{{^in_player}}modal-body{{/in_player}}"><h1 class="session-end">{{#_i}}Save your progress{{/_i}}</h1>{{^is_hard}}<h2 class="session-end">{{#_i}}You\'ll need a Duolingo profile to save your progress{{/_i}}</h2>{{/is_hard}}{{#is_hard}}<h2 class="session-end">{{#_i}}You\'ll need a Duolingo profile to unlock more skills{{/_i}}</h2>{{/is_hard}}<img src="/images/safe.svg"><button class="btn btn-lg btn-blue create" data-track-click="trial account session end nag create">{{#_i}}Create Profile{{/_i}}</button><a href="javascript:;" class="later" data-track-click="trial account session end nag later">{{#_i}}Create an account later{{/_i}}</a>{{#is_hard}}<button href="javascript:;" class="btn btn-lg btn-red discard" data-track-click="trial account session end nag discard">{{#_i}}Discard my progress{{/_i}}</button>{{/is_hard}}</section></div><div class="register-modal"></div> '},function(e,t,i){e.exports='<div id="discussion-modal" class="discussion-modal-wrapper fade hidden"><div class="close-modal-background"></div><div class="modal player-discussion"><div id="close-discussion-modal" class="close" data-dismiss="modal">{{#_i}}close{{/_i}}</div><div class="modal-body">{{#logged_in}}{{^trial_account}}<header class="discussion-header" style="padding: 0 0 20px 0;">{{#comment}}{{#num_comments}}<button id="watch" class="btn right btn-green {{#following}}checkmark{{/following}}">{{#following}}{{#_i}}Following Discussion{{/_i}}{{/following}}{{^following}}{{#_i}}Follow Discussion{{/_i}}{{/following}}</button>{{/num_comments}}{{/comment}}{{#admin_user}}<h3 class="gray" style="margin: 10px 0 0 0;"><a href="/comment/{{#comment}}{{id}}{{/comment}}">{{#_i}}View the discussion{{/_i}}</a></h3>{{/admin_user}}</header>{{/trial_account}}{{/logged_in}}<div class="discussion-main" style="margin-bottom: 50px;"><div class="original-post"><h1 style="margin-bottom: 15px;"><span id="speaker-audio-1-button" class="speaker-small"><span class="listen-button-small icon icon-speaker-small {{#rtl}}img-flipped{{/rtl}}"></span></span> "<span class="title translation-source">{{text}}</span>" </h1><div class="discussion-main-body" style=""><p><span class="float-label"><strong>{{#_i}}Translation:{{/_i}}</strong></span> <span class="trans">{{translation}}</span></p></div></div>{{#logged_in}}{{^trial_account}}{{^frozen}}{{^disable_commenting}}<div class="discussion-main-new-comment">{{#logged_in_user}}<span class="left">'+i(10)+'</span>{{/logged_in_user}}<textarea placeholder="{{#_i}}Discuss this sentence with others{{/_i}}" style="" class="comment-box textarea-block textarea-autogrow" id="post-text-box" name="post"></textarea><div id="comment-fields"><div class="player-discuss-guide hidden warning-message more-margin-bottom"><p style="margin: 0;">{{#_i}}Stop the clutter! Please do not report mistakes here and <strong>read the comments below</strong> before posting.{{/_i}}</p></div><span class="hidden" id="post-button"><input id="post-comment" type="submit" class="btn btn-green margin-right" value="{{#_i}}Post Comment{{/_i}}"></span><span class="hidden" id="post-button"><input type="reset" class="btn btn-standard cancel-update-comment" value="{{#_i}}Cancel{{/_i}}"></span></div></div>{{/disable_commenting}}{{/frozen}}{{/trial_account}}{{/logged_in}}</div><div class="discussion-comments"><h2>{{#comment}}{{num_comments}} {{#pluralize}}{{#_i}}Comment{{/_i}},{{#_i}}Comments{{/_i}},{{num_comments}}{{/pluralize}}{{/comment}}{{^comment}}{{#_i}}No one has commented yet.{{/_i}}{{/comment}}{{#frozen}}<div class="locked-discussion-message"><span class="icon-lock icon"></span>{{#_i}}This discussion is locked.{{/_i}}</div>{{/frozen}}</h2><ul id="comments" class="discussion-comments-list">{{#comments}}{{^removed}}<li id="comment-{{id}}" class="discussion-comments-list-item"></li>{{/removed}}{{#removed}}{{#deleted}}<li id="comment-{{id}}" class="discussion-comments-list-item"></li>{{/deleted}}{{/removed}}{{#removed}}{{^deleted}}{{#undeletable}}<li id="comment-{{id}}" class="discussion-comments-list-item"></li>{{/undeletable}}{{/deleted}}{{/removed}}{{/comments}}{{#comment}}<li class="show-toggle comment" id="show-toggle"><a href="javascript:;" class="show-bad-comment">[+] <i>{{#_i}}{{num_hidden}} hidden {{#pluralize}}comment,comments,{{num_hidden}}{{/pluralize}}{{/_i}}</i></a></li>{{/comment}}</ul></div></div></div></div> '},function(e,t,i){e.exports='<h1>{{#_i}}<strong>Remember</strong> this word{{/_i}}</h1><span id="big-speaker"></span><h3>{{phrase}} {{#hint}} = {{hint}}{{/hint}}</h3>'+i(187)},function(e,t){e.exports='<div class="practice-intro-screen"><div class="owl owl-sporty"></div><div class="speech-bubble arrow-left"><div class="arrow-left-container"><div class="arrow"></div></div><div class="inner">{{^recent_score}}<h2 style="font-size: 20px;">{{#_i}}Best of luck on your quiz!{{/_i}}</h2><p style="margin: 0 0 20px 0;">{{#_i}}We will keep track of your scores so you can see your progress over time!{{/_i}}</p>{{/recent_score}}{{#recent_score}}<h2 style="font-size: 20px;">{{#_i}}Last time you took the quiz, you scored <span class="bold">{{score}}/5.0</span>{{/_i}}</h2><h2 style="font-size: 20px;">{{#_i}}Let\'s try to beat that!{{/_i}}</h2>{{/recent_score}}</div></div></div><div class="block-input-row "><div class="col-left"></div><div class="col-right"></div></div>'},function(e,t){e.exports='<div class="progress-bar-dynamic left simplified-bar" style="width: 340px;">{{#confidence}}<div class="bar" style="width: {{confidence}}%;"></div>{{/confidence}}</div>'},function(e,t){e.exports='<div class="practice-intro-screen"><div class="owl owl-graduation {{#rtl}}img-flipped{{/rtl}}"></div><div class="speech-bubble arrow-left"><div class="arrow-left-container"><div class="arrow"></div></div><div class="inner"><h2>{{#_i}}Take a test to jump ahead!{{/_i}}</h2><p>{{#_i}}It takes about 5 minutes, and adapts to your level by getting harder (or easier) based on your answers.{{/_i}}</p></div></div></div>'},function(e,t,i){e.exports='<bdi><div id="graded-text-input" class="textarea-block textarea-lg textarea-translate fake-textarea">{{#user_avatar}}'+i(25)+'{{/user_avatar}}{{text}}{{#unknown}}<a href="javascript:;" class="suggest-edit edit-icon immediate-edit">{{#_i}}Edit{{/_i}}</a>{{/unknown}}</div></bdi>{{#unknown}}<span class="edit-final-panel">{{#completed_translation}}<a href="javascript:;" style="margin: 0 15px 0 0;" class="show-final-translation switch-final-icon">{{#_i}}Show final translation{{/_i}}</a>{{/completed_translation}}<a href="javascript:;" class="suggest-edit edit-icon" style="display: none">{{#_i}}Edit{{/_i}}</a></span>{{/unknown}}{{#unknown}}<a href="javascript:;" class="save-edit btn right primary" style="display: none; margin: 5px 0 0 5px;">{{#_i}}Save{{/_i}}</a> <a href="javascript:;" class="cancel-edit btn right" style="display: none; margin: 5px 0 0 0">{{#_i}}Cancel{{/_i}}</a>{{/unknown}} '},function(e,t){e.exports='<div class="challenge-judge"><h1 class="player">{{#_i}}Select the missing word{{/_i}}</h1><h2 class="player" dir="auto">{{#tokens}}{{#word}}{{display_value}}{{/word}}{{^word}}<label class="blue-select"><select name="mediumSelect" id="options_{{i}}"><option class="placeholder" value="">{{#_i}}Select word{{/_i}}</option>{{#options}}<option value="{{value}}">{{display_value}}</option>{{/options}}</select></label>{{/word}}{{/tokens}}</h2></div>'},function(e,t,i){e.exports='{{#session_element}}{{#attributes}}{{#covert}}<h1>{{#_i}}Answer submitted.{{/_i}}</h1><div class="additional-msg left">{{#_i}}Click "Continue" to go on to the next question.{{/_i}}</div>{{/covert}}{{^covert}}{{#correct}}{{#mic_off}}{{#message}}<span class="badge-correct-big left bounce-in"><span class="icon icon-correct-big"></span></span><h1>{{#_i}}Microphone is off{{/_i}}</h1><div class="additional-msg">{{#_i}}You can always turn it back on in the settings page.{{/_i}}</div>{{/message}}{{/mic_off}}{{^mic_off}}{{#points_per_correct}}<span class="icon icon-clock-medium bounce-in"></span>{{/points_per_correct}}{{^points_per_correct}}<span class="badge-correct-big left bounce-in"><span class="icon icon-correct-big"></span></span>{{/points_per_correct}}{{^blame}}{{^points_per_correct}}{{#hover_trial}}<h1>{{#_i}}Good job!{{/_i}}</h1>{{/hover_trial}}{{^hover_trial}}{{^web_speech}}<h1>{{#_i}}You are correct{{/_i}}</h1>{{/web_speech}}{{#web_speech}}{{#perfect}}<h1>{{#_i}}You are correct{{/_i}}</h1>{{/perfect}}{{^perfect}}<h1>{{#_i}}Woot, you are almost correct.{{/_i}}</h1>{{/perfect}}{{/web_speech}}{{/hover_trial}}{{#reverse_speak}}{{^web_speech}}{{#value}}<h2>{{#_i}}We heard "{{value}}"{{/_i}}</h2>{{/value}}{{/web_speech}}{{/reverse_speak}}{{/points_per_correct}}{{#points_per_correct}}{{^web_speech}}<h1>{{#_i}}Correct.{{/_i}} <span class="lighter">{{#_i}}You got extra time and points!{{/_i}}</span></h1>{{#reverse_speak}}{{#value}}<h2>{{#_i}}We heard "{{value}}"{{/_i}}</h2>{{/value}}{{/reverse_speak}}{{/web_speech}}{{#web_speech}}{{#perfect}}<h1>{{#_i}}Correct.{{/_i}} <span class="lighter">{{#_i}}You got extra time and points!{{/_i}}</span></h1>{{/perfect}}{{^perfect}}<h1>{{#_i}}Almost correct!{{/_i}}</h1>{{/perfect}}{{/web_speech}}{{/points_per_correct}}{{/blame}}{{#blame}}<h1>{{#_i}}Almost correct!{{/_i}}<span class="lighter">{{#closest_translation}}<bdi class="blame_solution">{{closest_translation}}</bdi>{{/closest_translation}}{{^closest_translation}}<bdi class="blame_solution">{{^solution_string}}{{#correct_solutions}}{{.}}{{/correct_solutions}}{{/solution_string}}{{#solution_string}}{{solution_string}}{{/solution_string}}</bdi>{{/closest_translation}}</span></h1>{{/blame}}{{#solution_translation}}<h2><span class="float-label"><strong>{{#_i}}Translation:{{/_i}}</strong></span> <bdi class="blame_solution">{{solution_translation}}</bdi></h2>{{/solution_translation}}{{#display_translation}}<h2><span class="float-label"><strong>{{#_i}}Another correct solution:{{/_i}}</strong></span> <bdi class="blame_solution">{{display_translation}}</bdi></h2>{{/display_translation}}'+i(105)+'{{/mic_off}}{{/correct}}{{#incorrect}}{{#try_again}}{{#listen}}<h1>{{#_i}}Oops, it doesn\'t seem to be in {{#_ivar}}language_name{{/_ivar}}.{{/_i}}</h1><div class="additional-msg left">{{#_i}}Please try again.{{/_i}}</div>{{/listen}}{{^web_speech}}{{#speak}}{{#odd}}<h1>{{#_i}}Oops, I couldn’t understand what you said{{/_i}}</h1>{{/odd}}{{^odd}}<h1>{{#_i}}I can\'t hear you very well{{/_i}}</h1>{{/odd}}<div class="additional-msg left">{{#_i}}Please record again (try speaking slower){{/_i}}</div>{{/speak}}{{#reverse_speak}}<h1>{{#_i}}Oops, that seems wrong. You can try again.{{/_i}}</h1><div class="additional-msg left">{{#_i}}Please record again (try speaking slower and make sure to speak in {{#_ivar}}target_language_name{{/_ivar}}){{/_i}}</div>{{/reverse_speak}}{{/web_speech}}{{#web_speech}}{{#empty}}<h1>{{#_i}}I can\'t hear you very well{{/_i}}</h1>{{/empty}}{{^empty}}<h1>{{#_i}}Oops, that seems wrong. You can try again.{{/_i}}</h1>{{/empty}}<div class="additional-msg left">{{#_i}}Please record again (try speaking slower){{/_i}}</div>{{/web_speech}}{{#translate}}<span class="badge-wrong-big bounce-in left"><span class="icon icon-wrong-big"></span></span><h1>{{#_i}}Oops, that’s wrong! You can try again.{{/_i}}</h1><div class="additional-msg left">{{#_i}}Or skip to the correct solution.{{/_i}}</div>{{/translate}}{{/try_again}}{{^try_again}}{{#next_time}}{{#skipped}}<h1>{{#_i}}Try again next time!{{/_i}}</h1>{{/skipped}}{{^skipped}}<h1>{{#_i}}Let\'s move on from this one for now.{{/_i}}</h1>{{/skipped}}{{^web_speech}}{{#closest_translation}}<h2><span class="float-label"><strong>{{#_i}}Translation:{{/_i}}</strong></span> <bdi class="blame_solution">{{closest_translation}}</bdi></h2>{{/closest_translation}}{{/web_speech}}'+i(105)+'{{/next_time}}{{^next_time}}<span class="badge-wrong-big bounce-in left"><span class="icon icon-wrong-big"></span></span><h1>{{^closest_translation}}{{#custom_blame_message}}'+i(186)+'{{/custom_blame_message}}{{^custom_blame_message}}{{#_i}}Correct {{#pluralize}}solution,solutions,{{num_solutions}}{{/pluralize}}:{{/_i}}{{/custom_blame_message}}<span class="lighter"><bdi class="blame_solution">{{^solution_string}}{{#correct_solutions}}{{.}}{{/correct_solutions}}{{/solution_string}} {{#solution_string}}{{solution_string}}{{/solution_string}}</bdi></span>{{/closest_translation}}{{#closest_translation}}{{#custom_blame_message}}'+i(186)+'{{/custom_blame_message}}{{^custom_blame_message}}{{#_i}}Correct solution:{{/_i}}{{/custom_blame_message}}<span class="lighter">{{^display_translation}}<bdi class="blame_solution">{{closest_translation}}</bdi>{{/display_translation}}{{#display_translation}} • <bdi class="blame_solution">{{closest_translation}}</bdi><br/> • <bdi class="blame_solution">{{display_translation}}</bdi>{{/display_translation}}</span>{{/closest_translation}}</h1>{{#solution_translation}}<h2><span class="float-label"><strong>{{#_i}}Translation:{{/_i}}</strong></span> <bdi class="blame_solution">{{solution_translation}}</bdi></h2>{{/solution_translation}}'+i(105)+"{{/next_time}}{{/try_again}}{{/incorrect}}{{/covert}}{{/attributes}}{{/session_element}} ";
},function(e,t){e.exports='<div class="slide-session-end"><div class="player-inner in-class-end"><section class="player-container slide-in"><div id="end-carousel" class="carousel slide"><ul class="carousel-inner session-end-slider"><li id="award-slide" class="carousel-slide active item" data-slide="{{award_index}}"><div class="session-end-main {{#show_coach_session_end}}coach-end{{/show_coach_session_end}} {{#show_par_experiment}}par-end{{/show_par_experiment}} {{#met_goal}}show-goal-subheading{{/met_goal}}"><h1 class="session-end">{{#_i}}Lesson Complete{{/_i}}</h1><h2 class="session-subheading">{{#is_preview}}{{#ui_language_en}} You can find lessons customized for your classroom in "Class activities". {{/ui_language_en}}{{/is_preview}}{{^is_preview}}{{#_i}}Good job! Review your answers or generate another {{#_iv}}{{language_string}}{{/_iv}} lesson for your class.{{/_i}}{{/is_preview}}</h2><div class="in-class second"><span class="school-icon school-students-img in-class-students"></span></div></li></ul></div><footer class="session-end-footer"><div class="buttons"><button id="show-review-modal" class="btn btn-lg btn-standard left relative review" data-track-click="review lesson button">{{#_i}}Review lesson{{/_i}}</button><a href="/quit_classroom_session" class="continue btn btn-lg btn-green right">{{#is_preview}}{{#_i}}Continue{{/_i}}{{/is_preview}}{{^is_preview}}{{#_i}}Close{{/_i}}{{/is_preview}}</a>{{^is_preview}}<button id=\'in_class_practice_repeat\' type="submit" class="margin-right end-continue btn btn-lg btn-blue right">{{#_i}}Practice again{{/_i}}</button>{{/is_preview}}</div></footer><div id="review-modal" class="modal fade hidden"></div></section></div></div> '},function(e,t){e.exports='<div class="in-class-wrapper"><div class="in-class-intro-text"><h1 class="session-end">{{#_i}}Classroom Practice{{/_i}}</h1><div class="session-subheading">{{#_i}}This lesson has been generated to match your classroom\'s {{#_iv}}{{language_string}}{{/_iv}} level. We recommend using a projector for the best in-class experience.{{/_i}}</div></div><div class="in-class-intro-graphic"><span class="school-icon school-students-img in-class-students intro"></span></div></div> '},function(e,t){e.exports='<div class="challenge-judge"><h1 class="player">{{#_i}}Mark <em class="underline">all</em> correct translations{{/_i}}</h1><div class="judge-row"><div class="col-left"><span id="big-speaker"></span><span onclick="jQuery(this).prev().click();"><bdi>{{text}}</bdi></span></div><div class="col-right"><ul class="list-judge-options hover-effect">{{#sentences}}<li class="item clearfix" style="z-index: 1;"><label for="sentence-{{i}}" class="white-label cb-container-long" data-toggle="tooltip" title="{{#_i}}Press {{number}} to Select{{/_i}}" data-margin="5" data-delay=\'{"show":"100", "hide": "0"}\' ><table border="0" cellspacing="0" cellpadding="0" ><tr><td class="number">{{#from_index}}{{i}}{{/from_index}}.</td></td><td class="checkbox"><input id="sentence-{{i}}" name="sentence-{{i}}" type="checkbox" class="border" tabindex="{{tabindex}}"/></td><td><!-- {{#from_index}}{{i}}{{/from_index}}: --><bdi>{{sentence}}</bdi></td></tr></table></label></li>{{/sentences}}</ul></div></div></div>'},function(e,t,i){e.exports='<div class="challenge-listen"><h1 class="player">{{#_i}}Type what you hear{{/_i}}</h1>{{#need_flash}}<div class="alert-message warning"><a class="close" href="javascript:;">×</a><p>{{#_i}}You need Flash version 10+ to hear the words.{{/_i}} <a href="//www.adobe.com/go/getflashplayer" target="_blank">{{#_i}}Download the latest version here.{{/_i}}</a></p></div>{{/need_flash}}<div class="challenge-row"><div class="challenge-cell cell-left"><div id="big-speaker"></div></div><div class="challenge-cell cell-right"><div class="relative">'+i(60)+'</div><input class="input-listen input-block input-lg" placeholder="{{#_i}}Type in {{#_ivar}}language_name{{/_ivar}}{{/_i}}" id="word-input" name="word-input" size="30" type="text" lang="{{language}}" value="" tabindex="1" dir="auto" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/><div id="vkeyboard-placeholder"></div>{{#show_input_instructions}}'+i(106)+"{{/show_input_instructions}}</div></div></div>"},function(e,t,i){e.exports='<div class="challenge-name"><h1 class="player">{{#hint}}{{#_i}}Translate “{{hint}}”{{/_i}}{{/hint}}</h1><div class="challenge-row"><div class="challenge-cell cell-left">'+i(187)+'</div><div class="challenge-cell cell-right"><div class="choose-article-container"><ul class="choose-article hover-effect">{{#articles_map}}<li><label class="blue-label"><input id="option-{{index}}" type="radio" class="player-radio" name="articles" value="{{article}}"/> {{article}}</label></li>{{/articles_map}}</ul></div>'+i(60)+'<input class="one-line-input input-lg input-block" id="word-input" placeholder="{{#_i}}Type in {{#_ivar}}language_name{{/_ivar}}{{/_i}}" name="word-input" size="30" type="text" value="" dir="auto"><div id="vkeyboard-placeholder"></div>{{#show_input_instructions}}'+i(106)+"{{/show_input_instructions}}</div></div></div> "},function(e,t){e.exports='{{#version_too_low}}<p>{{#_i}}Your Flash version is too old. You need Flash version 8 or higher. Go <a href="http://www.adobe.com/support/flashplayer/downloads.html">here</a> to download a more recent version.{{/_i}}</p>{{/version_too_low}}{{^version_too_low}}<p>{{#_i}}It\'s possible that you have browser extensions that block Flash or that Flash crashed.{{/_i}}</p><p>{{#_i}}Let\'s fix this! If you have a Flash blocker add \'duolingo.com\' to its whitelist. If Flash crashed try <a href="javascript:;" onclick="window.location.reload();">reloading</a> the page.{{/_i}}</p>{{/version_too_low}}<p>{{#_i}}Sound still not working? Go to the <a href="/settings">settings page</a> in the top right corner to disable the speaker.{{/_i}}</p>'},function(e,t){e.exports='{{^use_strength}}<ul class="progress-bar-distinct left">{{#elements}}<li id="element-{{.}}" class="nothing"><div class="inner"></div></li>{{/elements}}</ul>{{/use_strength}}{{#use_strength}}{{^web_strength_v2_experiment_true}}<span class="progress-bar-container-inner"><span class="progress-bar-dynamic left strength-bar"><div class="bar {{#global_practice}}blue{{/global_practice}}{{^global_practice}}{{skill_color}}{{/global_practice}}" style="opacity: 0; width: 0%"><div class="bubbles"></div><div class="triangle-end"></div></div><div class="skill-icon-container"><div class="challenge-number-container"><span class="challenge-num">1</span><span class="challenge-num-circle white"></span><span class="challenge-num-backing"></span></div>{{#global_practice}}<span class="skill-icon smaller locked white" style="position: absolute;"><span class="skill-icon-image skill-icon-global skill-locked-barbell"></span></span><span class="skill-icon smaller blue unlocked finished-skill bounce-in hidden"><span class="skill-icon-image skill-icon-global skill-unlocked-barbell"></span></span>{{/global_practice}}{{^global_practice}}<span class="skill-icon smaller locked white" style="position: absolute;"><span class="skill-icon-image skill-icon-{{skill_index}}"></span></span><span class="skill-icon smaller {{skill_color}} unlocked finished-skill bounce-in hidden"><span class="skill-icon-image skill-icon-{{skill_index}}"></span></span>{{/global_practice}}</div><span class="backing"></span></span></span>{{/web_strength_v2_experiment_true}}{{#web_strength_v2_experiment_true}}<span class="progress-bar-dynamic v2"><div class="lightning-container"><div class="icon icon-lightning-gray status-icon"></div><div class="icon icon-lightning-green status-icon opacity-0"></div><div class="v2-backing"></div></div><div class="bar" style="width: 0%"><div class="ruler-overlay"><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></div></div><div class="ruler"><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></div><div class="challenge-number-container">{{#_i}}Challenge <span class="challenge-num">1</span>{{/_i}}</div></span>{{/web_strength_v2_experiment_true}}{{/use_strength}} '},function(e,t){e.exports='{{#translate}}{{#incorrect}}{{#user_solution}}<li class="hoverable"><input type="checkbox" class="report-checkbox border" id="accepted" value="My answer should be accepted."><label class="report-label" for="accepted">{{#_i}}<b>My answer</b> should be accepted.{{/_i}}</label></li>{{/user_solution}}{{/incorrect}}<li class="hoverable"><input type="checkbox" class="report-checkbox border" id="original" value="The sentence is not grammatically correct."><label class="report-label" for="original">{{#_i}}<b>The {{#_ivar}}source_language_name{{/_ivar}} sentence</b> is unnatural or has an error.{{/_i}}</label></li>{{#incorrect}}<li class="hoverable"><input type="checkbox" class="report-checkbox border" id="translate" value="The given answer has a mistake."><label class="report-label" for="translate">{{#_i}}<b>The "Correct solution"</b> is unnatural or has an error.{{/_i}}</label></li>{{/incorrect}}<li class="hoverable"><input type="checkbox" class="report-checkbox border" id="hints" value="The dictionary hints are misleading/incomplete."><label class="report-label" for="hints">{{#_i}}<b>The dictionary hints</b> on hover are wrong or missing.{{/_i}}</label></li>{{#has_audio}}<li class="hoverable"><input type="checkbox" class="report-checkbox border" id="audio" value="The audio is not clear."><label class="report-label" for="audio">{{#_i}}<b>The audio</b> does not sound correct.{{/_i}}</label></li>{{/has_audio}}{{/translate}}{{#judge}}<li class="hoverable"><input type="checkbox" class="report-checkbox border" id="original" value="The sentence is not grammatically correct."><label class="report-label" for="original">{{#_i}}<b>The {{#_ivar}}source_language_name{{/_ivar}} sentence</b> is unnatural or has an error.{{/_i}}</label></li>{{#incorrect}}<li class="hoverable"><input type="checkbox" class="report-checkbox border" id="translate" value="The given answer has a mistake."><label class="report-label" for="translate">{{#_i}}<b>The "Correct translation"</b> is unnatural or has an error.{{/_i}}</label></li>{{/incorrect}}{{#has_audio}}<li class="hoverable"><input type="checkbox" class="report-checkbox border" id="audio" value="The audio is not clear."><label class="report-label" for="audio">{{#_i}}<b>The audio</b> does not sound correct.{{/_i}}</label></li>{{/has_audio}}{{/judge}}{{#form}}<li class="hoverable"><input type="checkbox" class="report-checkbox border" id="original" value="The sentence is not grammatically correct."><label class="report-label" for="original">{{#_i}}<b>The {{#_ivar}}language_name{{/_ivar}} sentence</b> is unnatural or has an error.{{/_i}}</label></li><li class="hoverable"><input type="checkbox" class="report-checkbox border" id="translate" value="The given answer has a mistake."><label class="report-label" for="translate">{{#_i}}<b>The "Translation"</b> is unnatural or has an error.{{/_i}}</label></li>{{#has_audio}}<li class="hoverable"><input type="checkbox" class="report-checkbox border" id="audio" value="The audio is not clear."><label class="report-label" for="audio">{{#_i}}<b>The audio</b> does not sound correct.{{/_i}}</label></li>{{/has_audio}}{{/form}}{{#listen}}<li class="hoverable"><input type="checkbox" class="report-checkbox border" id="audio" value="The audio is not clear."><label class="report-label" for="audio">{{#_i}}<b>The audio</b> does not sound correct.{{/_i}}</label></li><li class="hoverable"><input type="checkbox" class="report-checkbox border" id="original" value="The sentence is not grammatically correct."><label class="report-label" for="original">{{#_i}}<b>The {{#_ivar}}language_name{{/_ivar}} sentence</b> is unnatural or has an error.{{/_i}}</label></li><li class="hoverable"><input type="checkbox" class="report-checkbox border" id="translate" value="The Translation has a mistake."><label class="report-label" for="translate">{{#_i}}<b>The "Translation"</b> is unnatural or has an error.{{/_i}}</label></li>{{/listen}}{{#speak}}{{#has_audio}}<li class="hoverable"><input type="checkbox" class="report-checkbox border" id="audio" value="The audio is not clear."><label class="report-label" for="audio">{{#_i}}<b>The audio</b> does not sound correct.{{/_i}}</label></li>{{/has_audio}}<li class="hoverable"><input type="checkbox" class="report-checkbox border" id="original" value="The sentence is not grammatically correct."><label class="report-label" for="original">{{#_i}}<b>The {{#_ivar}}source_language_name{{/_ivar}} sentence</b> is unnatural or has an error.{{/_i}}</label></li><li class="hoverable"><input type="checkbox" class="report-checkbox border" id="translate" value="The Translation has a mistake."><label class="report-label" for="translate">{{#_i}}<b>The "Translation"</b> is unnatural or has an error.{{/_i}}</label></li>{{/speak}}{{#reverse_speak}}<li class="hoverable"><input type="checkbox" class="report-checkbox border" id="original" value="The sentence is not grammatically correct."><label class="report-label" for="original">{{#_i}}<b>The {{#_ivar}}source_language_name{{/_ivar}} sentence</b> is unnatural or has an error.{{/_i}}</label></li><li class="hoverable"><input type="checkbox" class="report-checkbox border" id="translate" value="The Translation has a mistake."><label class="report-label" for="translate">{{#_i}}<b>The "Translation"</b> is unnatural or has an error.{{/_i}}</label></li>{{/reverse_speak}}{{#name}}<li class="hoverable"><input type="checkbox" class="report-checkbox border" id="pictures" value="The pictures do not match the given word."><label class="report-label" for="pictures">{{#_i}}<b>The pictures</b> do not match the given word.{{/_i}}</label></li>{{/name}}{{#select}}<li class="hoverable"><input type="checkbox" class="report-checkbox border" id="pictures" value="The pictures do not match the given word."><label class="report-label" for="pictures">{{#_i}}<b>The picture</b> does not match the given word.{{/_i}}</label></li>{{/select}}<li><input type="checkbox" class="report-checkbox border" id="free-write"><textarea class="free-write-box animated-resizing textarea-block" type="text" style="text-transform: none" placeholder="{{#_i}}Have a different problem? Explain it here.{{/_i}}"></textarea></li>'},function(e,t){e.exports='<div class="close icon icon-close" data-dismiss="modal">close</div><div id="review-page"><h1 class="session-end">{{#_i}}Check out your scorecard!{{/_i}}</h1><h2 class="session-end review-instructions">{{#_i}}Click the tiles below to reveal the solutions{{/_i}}</h2><div class="table-wrap"><div class="review-container slide-in"><ul>{{#review_data}}<li class="challenge {{#correct}}correct{{/correct}}{{^correct}}wrong{{/correct}}" data-index="{{index}}" data-row={{row}} {{#alt_last}}data-alt-last=true{{/alt_last}}{{#last_row}}data-last=true{{/last_row}} data-track-click="review lesson tile"><span class="badge-{{#correct}}correct{{/correct}}{{^correct}}wrong{{/correct}}-micro"><span class="icon icon-{{#correct}}correct{{/correct}}{{^correct}}wrong{{/correct}}-micro"></span></span><span class="challenge-prompt">{{#select_challenge}}{{#_i}}Select translation of:{{/_i}}{{/select_challenge}}{{#translate_challenge}}{{#_i}}Translate this text:{{/_i}}{{/translate_challenge}}{{#form_challenge}}{{#_i}}Select the missing word:{{/_i}}{{/form_challenge}}{{#listen_challenge}}{{#_i}}Type what you hear:{{/_i}}{{/listen_challenge}}{{#name_challenge}}{{#_i}}Translate:{{/_i}}{{/name_challenge}}{{#speak_challenge}}{{#_i}}Speak:{{/_i}}{{/speak_challenge}}{{#reverse_speak_challenge}}{{#_i}}Translate and speak:{{/_i}}{{/reverse_speak_challenge}}{{#judge_challenge}}{{#_i}}Mark all correct translations:{{/_i}}{{/judge_challenge}}</span><br/><span class="prompt">{{^speak_challenge}}{{prompt}}{{/speak_challenge}}{{#speak_challenge}}{{correct_solution}}{{/speak_challenge}}{{#listen_challenge}}<div class="speaker-container"><span class="speaker-medium listen-{{index}}"></span></div>{{/listen_challenge}}</span><div class="popover below {{#right_align}}right-popover{{/right_align}} {{#left_align}}left-popover{{/left_align}}" {{#alt_last}}style="margin-bottom: 30px"{{/alt_last}}"><div class="arrow-top-small-container"><div class="arrow"></div></div><div class="close"></div><div class="inner"><div class="content"><div class="response"><h5>{{#_i}}Your response:{{/_i}}</h5>{{#skipped}}{{#_i}}Skipped{{/_i}}{{/skipped}}{{^skipped}}{{#judge_challenge}}{{#user_response}}<div class="{{#incorrect}}highlight{{/incorrect}}">{{#_i}}"{{sentence}}"{{/_i}}</div>{{/user_response}}{{/judge_challenge}}{{#speak}}{{#correct}}{{^mic_off}}{{#_i}}"{{correct_solution}}"{{/_i}}{{/mic_off}}{{#mic_off}}{{#_i}}Microphone turned off{{/_i}}{{/mic_off}}{{/correct}}{{^correct}}{{#_i}}Skipped{{/_i}}{{/correct}}{{/speak}}{{#form_challenge}}{{#correct}}{{#_i}}"<span id="user_response_{{index}}">{{correct_solution}}</span>"{{/_i}}{{/correct}}{{^correct}}{{#_i}}"<span id="user_response_{{index}}">{{user_response}}</span>"{{/_i}}{{/correct}}{{/form_challenge}}{{^judge_challenge}}{{^speak}}{{^form_challenge}}{{#_i}}"<span id="user_response_{{index}}">{{user_response}}</span>"{{/_i}}{{/form_challenge}}{{/speak}}{{/judge_challenge}}{{/skipped}}</div><div class="response"><h5>{{#_i}}Correct response:{{/_i}}</h5>{{#judge_challenge}}{{#correct_solution}}<div class="{{#missed}}correct_highlight{{/missed}}">{{#_i}}"{{sentence}}"{{/_i}}</div>{{/correct_solution}}{{/judge_challenge}}{{^judge_challenge}}{{#_i}}"<span id="correct_solution_{{index}}">{{correct_solution}}</span>"{{/_i}}{{/judge_challenge}}</div></div></div></div></li>{{/review_data}}</ul><div class="footer-owl hidden"><span class="owl owl-happy"></span></div></div></div><span id="discussion-modal-container"></span></div>'},function(e,t){e.exports='<div class="challenge-select"><h1 class="player">{{#_i}}Select translation of “{{hint}}”{{/_i}}</h1><bdi><ul class="select-images select-images-list hover-effect">{{#options}}<li id="option-{{number}}" data-toggle="tooltip" title="{{#_i}}Press {{number}} to Select{{/_i}}" data-margin="5" data-delay=\'{"show":"100", "hide": "0"}\' ><label><div class="select-images-frame" style="background-image: url(\'{{image}}\')"></div><span class="number">{{number}}</span><input type="radio" class="player-radio" name="selection" value="{{phrase}}" data-number="{{number}}"><span class="title">{{phrase}}</span></label></li>{{/options}}</ul></bdi></div>{{#options}}<div id="speaker-{{number}}"></div>{{/options}}'},function(e,t){e.exports='<div class="tips-and-notes">{{#web_strength_v2_experiment_true}}<span class="icon icon-lightbulb"></span>{{/web_strength_v2_experiment_true}}{{#_i}}Tips & notes{{/_i}}</div><div class="popover below popover-tips-and-notes"><div class="arrow-top-small-container"><div class="arrow"></div></div><div class="close"></div><div class="inner"><div class="content">{{{explanation}}}</div></div></div>'},function(e,t,i){e.exports='<div class="player-inner"><div class="player-container" style="opacity: 1;">'+i(61)+'<div class="player-main"><div id="session-element-container"><h1 class="player" style="margin-bottom: 20px;">{{#learning_es}}<strong>¡Ay!</strong>{{/learning_es}}{{#learning_de}}<strong>Verflixt!</strong>{{/learning_de}}{{#learning_fr}}<strong>Oups !</strong>{{/learning_fr}}{{#learning_en}}<strong>Ouch!</strong>{{/learning_en}}{{#learning_pt}}<strong>Ui!</strong>{{/learning_pt}}{{#learning_it}}<strong>Cavolo!</strong>{{/learning_it}} &nbsp; {{#none_correct}}{{#_i}}You didn\'t get any answers correct.{{/_i}}{{/none_correct}}{{^none_correct}}{{#no_placement}}{{#_i}}You didn\'t test out of any skills.{{/_i}}{{/no_placement}}{{^no_placement}}{{#times_up}}{{#_i}}You ran out of time!{{/_i}}{{/times_up}}{{^times_up}}{{#_i}}You are out of hearts!{{/_i}}{{/times_up}}{{/no_placement}}{{/none_correct}}<div class="close-fail">{{#_i}}Show my answer{{/_i}}</div></h1><div class="illustration-session-failed"></div></div></div><footer id="controls" class="player-footer"><div class="col-right">{{^in_class}}{{#no_placement}}<button id="home-button-reload" class="btn btn-lg right btn-primary">{{#_i}}End{{/_i}}</button>{{/no_placement}}{{^no_placement}}<button id="home-button" class="btn btn-lg right btn-primary btn-green">{{#_i}}Go back to home{{/_i}}</button>{{/no_placement}}{{/in_class}}{{#in_class}}<button id="in-class-retry-button" class="btn btn-lg right btn-primary btn-green">{{#_i}}Try Again{{/_i}}</button>{{/in_class}}</div><div class="col-left"><div id="grade"></div></div></footer></div></div>'+i(12)+" "},function(e,t){e.exports='<ul class="player-header-hearts" data-toggle="tooltip" title="{{#_i}}Don\'t make more than {{num_hearts}} {{#pluralize}}mistake,mistakes,{{num_hearts}}{{/pluralize}} or you\'ll have to start over!{{/_i}}">{{#hearts}}<li><span id="heart-{{index}}" class="icon icon-heart-medium"></span><span class="icon icon-heart-medium-gray"></span></li>{{/hearts}}</ul>'},function(e,t){e.exports='<div class="slide-session-end"><div class="player-inner"><section class="player-container slide-in"><div id="end-carousel" class="carousel slide"><ul class="carousel-inner session-end-slider"><li id="award-slide" class="carousel-slide active item" data-slide="{{award_index}}"><div class="session-end-main {{#show_coach_session_end}}coach-end{{/show_coach_session_end}} {{#show_par_experiment}}par-end{{/show_par_experiment}} {{#met_goal}}show-goal-subheading{{/met_goal}}"><h1 class="session-end opacity-0">{{#has_hearts}}{{^use_strength}}{{#gained_skill_points}}{{#hearts-0}}{{#_i}}Lesson complete!{{/_i}} <span class="lighter">{{#_i}}+{{lesson_points}} XP{{/_i}}</span>{{/hearts-0}}{{/gained_skill_points}}{{^gained_skill_points}}{{#hearts-0}}{{#_i}}Great! You completed this lesson again{{/_i}}{{/hearts-0}}{{/gained_skill_points}}{{#hearts-4}}{{#_i}}Lesson complete!{{/_i}} <span class="lighter">{{#_i}}+{{lesson_points}} XP{{/_i}}</span><br/>{{^big_test}}{{#_i}}Heart bonus!{{/_i}} <span class="lighter">{{#_i}}+4 XP{{/_i}}</span>{{/big_test}}{{/hearts-4}}{{#hearts-3}}{{#_i}}Lesson complete!{{/_i}} <span class="lighter">{{#_i}}+{{lesson_points}} XP{{/_i}}</span><br/>{{^big_test}}{{#_i}}Heart bonus!{{/_i}} <span class="lighter">{{#_i}}+3 XP{{/_i}}</span>{{/big_test}}{{/hearts-3}}{{#hearts-2}}{{#_i}}Lesson complete!{{/_i}} <span class="lighter">{{#_i}}+{{lesson_points}} XP{{/_i}}</span><br/>{{^big_test}}{{#_i}}Heart bonus!{{/_i}} <span class="lighter">{{#_i}}+2 XP{{/_i}}</span>{{/big_test}}{{/hearts-2}}{{#hearts-1}}{{#_i}}Lesson complete!{{/_i}} <span class="lighter">{{#_i}}+{{lesson_points}} XP{{/_i}}</span><br/>{{^big_test}}{{#_i}}Heart bonus!{{/_i}} <span class="lighter">{{#_i}}+1 XP{{/_i}}</span>{{/big_test}}{{/hearts-1}}{{/use_strength}}{{#use_strength}}{{#gained_skill_points}}{{#_i}}Lesson complete!{{/_i}} <span class="lighter">{{#_i}}+{{lesson_points}} XP{{/_i}}</span>{{/gained_skill_points}}{{^gained_skill_points}}{{#_i}}Great! You completed this lesson again{{/_i}}{{/gained_skill_points}}{{/use_strength}}{{/has_hearts}}{{^has_hearts}}{{^times_up}}{{^placement_test}}{{^certification_test}}{{#_i}}You beat the clock and got {{point_accumulation}} {{#pluralize}}answer,answers,{{point_accumulation}}{{/pluralize}} correct!{{/_i}}{{/certification_test}}{{#certification_test}}{{#_i}}Congratulations! You scored {{#toFixed}}{{total_score}},2{{/toFixed}}/5.00{{/_i}}{{/certification_test}}{{/placement_test}}{{#placement_test}}{{#_i}}Congratulations! You tested out of {{num_learned}} {{#pluralize}}skill,skills,{{num_learned}}{{/pluralize}}!{{/_i}}{{/placement_test}}{{/times_up}}{{#times_up}}{{#point_accumulation}}{{#_i}}Time’s up! You got {{point_accumulation}} {{#pluralize}}answer,answers,{{point_accumulation}}{{/pluralize}} correct{{/_i}}{{/point_accumulation}}{{/times_up}}{{/has_hearts}}</h1>{{#show_coach_session_end}}{{^met_goal}}<h2 class="session-subheading">{{^just_met_goal}}{{#streak_extended_today}}{{#_i}}Keep going to meet your daily goal!{{/_i}}{{/streak_extended_today}}{{^streak_extended_today}}{{#_i}}Keep going to meet your daily goal and extend your streak!{{/_i}}{{/streak_extended_today}}{{/just_met_goal}}{{#just_met_goal}}{{#streak_extended_today}}{{#_i}}You met your daily goal!{{/_i}}{{/streak_extended_today}}{{^streak_extended_today}}{{#_i}}You met your daily goal and extended your streak!{{/_i}}{{/streak_extended_today}}{{/just_met_goal}}</h2>{{/met_goal}}{{/show_coach_session_end}}{{^certification_test}}<div class="progress-xp-container"><div class="progress-xp"><div class="col-left"><div class="inner">{{#show_coach_session_end}}<span class="daily-goal-container session opacity-0"><div class="daily-donut-container"><span class="icon icon-daily-donut-streak {{#met_goal}}completed{{/met_goal}}"></span><span class="animate-me icon icon-daily-donut-streak completed bounce-in hidden"></span>{{#daily_goal}}<div id="daily-donut-text">{{#met_goal}}<span class="stat-text"><span class="numerator">{{old_xp_today}}</span>/{{daily_goal}}</span> {{#_i}}xp goal met{{/_i}}{{/met_goal}}{{^met_goal}}<span class="stat-text"><span class="numerator">{{old_xp_today}}</span>/{{daily_goal}}</span> {{#_i}}xp gained{{/_i}}{{/met_goal}}</div>{{/daily_goal}}<div id="daily-donut"></div></div></span>{{/show_coach_session_end}}{{^show_coach_session_end}}{{#gained_skill_points}}{{#points_data}}<div id="level-bar" class="language-progress-bar-big session-end-progress opacity-0"><div class="level-next level">{{next_level}}</div><div class="bar" style="width: {{level_before_bar_width}}px; max-width: 250px;"><div id="next-hook" class="popover-hook"><div id="next-level" class="popover popover-blue progress-xp-popover" style="display: block;"><div class="arrow-bottom-container"><div class="arrow"></div></div><div class="popover-content"><strong>{{#_i}}Next level{{/_i}}</strong>{{#_i}}<span id="level_points">{{old_points}}</span>/{{level_points}} XP{{/_i}}</div></div></div></div><div class="level-current level">{{level}}</div></div>{{/points_data}}{{/gained_skill_points}}{{/show_coach_session_end}}</div></div><div class="col-right"><div id="progress-line-graph" class="graph" style="width: 350px; position: relative;"><div id="today-hook" class=""><div id="today-popover" class="popover popover-blue progress-xp-popover opacity-0" style="display: block;"><div class="arrow-bottom-container"><div class="arrow"></div></div><div class="popover-content"><strong>{{#_i}}TODAY{{/_i}}</strong>{{#_i}}<span class="today-points">{{old_points}}</span> XP{{/_i}}</div></div></div></div></div></div></div>{{/certification_test}}{{#show_par_experiment}}<div class="session-par">{{#_i}}Completed in {{num_challenges}} challenges.{{/_i}}{{^perfect_lesson}} {{#_i}}Best possible: {{min_challenges}}{{/_i}}{{/perfect_lesson}}</div>{{#perfect_lesson}}<h2 class="session-par-percent">{{#_i}}You did this lesson perfectly!{{/_i}}</h2>{{/perfect_lesson}}{{^perfect_lesson}}<h2 class="session-par-percent">{{#_i}}You did better than <span class="gold">{{percentile}}%</span> of people at this lesson.{{/_i}}</h2>{{/perfect_lesson}}{{/show_par_experiment}}{{#certification_test}}<div class="certificate-container opacity-0"><span class="store-icon store-icon-progress big"></span></div><div class="strengthened-message">{{#_i}}You can take this quiz again by visiting the <a class="blue" href="/show_store">lingot store</a>.{{/_i}}</div><div class="strengthened-message">{{#_i}}Try to improve your score!{{/_i}}</div>{{/certification_test}}</div></li>{{^certification_test}}{{#strengthen}}<li id="skill-slide" class="carousel-slide slider-pane-words item" data-slide="{{skill_index}}"><h1 class="session-end">{{#learned}}{{#learned_short_list}}{{#one}} {{#_i}}You learned {{#item_one}}{{#_ivar}}title{{/_ivar}}{{/item_one}}{{/_i}}{{/one}}{{#two}} {{#_i}}You learned {{#item_one}}{{#_ivar}}title{{/_ivar}}{{/item_one}} and {{#item_two}}{{#_ivar}}title{{/_ivar}}{{/item_two}}{{/_i}}{{/two}}{{#three}} {{#_i}}You learned {{#item_one}}{{#_ivar}}title{{/_ivar}}{{/item_one}}, {{#item_two}}{{#_ivar}}title{{/_ivar}}{{/item_two}} and {{#item_three}}{{#_ivar}}title{{/_ivar}}{{/item_three}}{{/_i}}{{/three}}{{#more}} {{#_i}}You learned {{#item_one}}{{#_ivar}}title{{/_ivar}}{{/item_one}}, {{#item_two}}{{#_ivar}}title{{/_ivar}}{{/item_two}} and {{remainder}} others{{/_i}}{{/more}}{{/learned_short_list}}{{/learned}}{{^learned}}{{#delta_short_list}}{{#one}} {{#_i}}You strengthened {{#item_one}}{{#_ivar}}skill_title{{/_ivar}}{{/item_one}}{{/_i}}{{/one}}{{#two}} {{#_i}}You strengthened {{#item_one}}{{#_ivar}}skill_title{{/_ivar}}{{/item_one}} and {{#item_two}}{{#_ivar}}skill_title{{/_ivar}}{{/item_two}}{{/_i}}{{/two}}{{#three}} {{#_i}}You strengthened {{#item_one}}{{#_ivar}}skill_title{{/_ivar}}{{/item_one}}, {{#item_two}}{{#_ivar}}skill_title{{/_ivar}}{{/item_two}} and {{#item_three}}{{#_ivar}}skill_title{{/_ivar}}{{/item_three}}{{/_i}}{{/three}}{{#more}} {{#_i}}You strengthened {{#item_one}}{{#_ivar}}skill_title{{/_ivar}}{{/item_one}}, {{#item_two}}{{#_ivar}}skill_title{{/_ivar}}{{/item_two}} and {{remainder}} others{{/_i}}{{/more}}{{/delta_short_list}}{{/learned}}</h1><ul class="strengthened-skills-big">{{#learned}}{{#max_3_learned_skills}}<li><span class="skill-badge-big" id="skill-1" data-strength="1"><span style="" class="skill-icon {{icon_color}} unlocked big"><span class="skill-icon-image skill-icon-{{new_index}}"></span></span><span class="skill-icon-strength skill-icon-strength-big {{#rtl}}img-flipped{{/rtl}} strength-0"></span></span></li>{{/max_3_learned_skills}}{{/learned}}{{^learned}}{{#max_3_strengthened_skills}}<li><span class="skill-badge-big" data-strength="{{strength}}"><span style="" class="skill-icon {{icon_color}} unlocked big"><span class="skill-icon-image skill-icon-{{new_index}}"></span></span><span class="skill-icon-strength skill-icon-strength-big {{#rtl}}img-flipped{{/rtl}} strength-0"></span></span></li>{{/max_3_strengthened_skills}}{{/learned}}</ul>{{#learned}}<div class="strengthened-message opacity-0">{{#_i}}Keep those <strong>strength bars</strong> full as words fade from your memory.{{/_i}}</div>{{/learned}}{{^learned}}<div class="strengthened-message opacity-0">{{#_i}}Keep those <strong>strength bars</strong> full as words fade from your memory.{{/_i}}</div>{{/learned}}</li>{{/strengthen}}{{/certification_test}}{{#showing_rupees_screen}}<li id="lingot-slide" class="item" data-slide="{{lingots_index}}"><h1 class="session-end">{{#_i}}You\'ve earned {{new_rupees}} {{#pluralize}}lingot,lingots,{{new_rupees}}{{/pluralize}}!{{/_i}}</h1><div class="lingot-bill-container"><div class="lingot-bill-cell opacity-0"><div class="lingot-bill"><ul class="lingot-bill-items">{{#rupee_earnings}}{{#level_event}}{{#level}}<li>{{#_i}}Reached level {{new_level}}{{/_i}}<span class="amount">{{level_rupees}}</span></li>{{/level}}{{/level_event}}{{#learn}}<li>{{#_i}}Completed {{#_ivar}}skill_title{{/_ivar}}{{/_i}}<span class="amount">2</span></li>{{/learn}}{{#full_hearts}}<li>{{#_i}}Full heart bonus{{/_i}}<span class="amount">1</span></li>{{/full_hearts}}{{/rupee_earnings}}</ul><span class="icon icon-lingot-medium right">{{new_rupees}}</span><p class="store-link">{{#_i}}Use lingots to get cool items from the <a href="/show_store" class="blue">Virtual store!</a>{{/_i}}</p></div></div></div></li>{{/showing_rupees_screen}}{{#fluency_score_increase}}<li id="test-center-slide" class="carousel-slide item" data-slide="{{tc_index}}"><h1 class="session-end">{{#_i}}You are now {{new_fluency_score}}% fluent in {{#_ivar}}language_string{{/_ivar}}!{{/_i}}</h1><table class="fluency-score-container"><tr><td class="fluency-score-icon{{#showFluencySharingLinks}} with-actions{{/showFluencySharingLinks}}"><div class="icon fluency-score-shield-silver larger bounce-in"><span class="fluency-score">{{new_fluency_score}}<span class=\'fluency-score-percent\'>%</span></span></div></td>{{#showFluencySharingLinks}}<td class="fluency-score-actions">{{#showLinkToTestCenter}}<div id="certify-my-score" class="share-action"><h3><span class="icon icon-testcenter-box"></span>{{#_i}}Certify Your Fluency{{/_i}}</h3></div>{{/showLinkToTestCenter}}{{#showLinkToLinkedIn}}<div class="linkedin-share-fluency share-action"><h3><span class="icon icon-linkedin-box"></span>{{#_i}}Add to LinkedIn Profile{{/_i}}</h3></div>{{/showLinkToLinkedIn}}<div class="share-action-failed"></div></td>{{/showFluencySharingLinks}}</tr></table></li>{{/fluency_score_increase}}</ul></div><footer class="session-end-footer"><div class="buttons">{{^certification_test}}<button id="show-review-modal" class="btn btn-lg btn-standard left relative review" data-track-click="review lesson button">{{#_i}}Review lesson{{/_i}}</button>{{/certification_test}}{{#learned}}{{^trial_account}}{{^cn_extension}}<button id="share-footer-button" class="btn btn-lg btn-blue share left relative">{{#_i}}Share{{/_i}}<ul class="dropdown-menu" role="menu" aria-labelledby="dLabel"><li><a href="http://twitter.com/intent/tweet?text= {{#learned_short_list}}{{#one}}{{#_i}}I learned the {{#_ivar}}language_string{{/_ivar}} skill {{#item_one}}{{#_ivar}}title{{/_ivar}}{{/item_one}} on{{/_i}}{{/one}}{{#two}}{{#_i}}I learned the {{#_ivar}}language_string{{/_ivar}} skills {{#item_one}}{{#_ivar}}title{{/_ivar}}{{/item_one}} and {{#item_two}}{{#_ivar}}title{{/_ivar}}{{/item_two}} on{{/_i}}{{/two}}{{#three}}{{#_i}}I learned the {{#_ivar}}language_string{{/_ivar}} skills {{#item_one}}{{#_ivar}}title{{/_ivar}}{{/item_one}}, {{#item_two}}{{#_ivar}}title{{/_ivar}}{{/item_two}} and {{#item_three}}{{#_ivar}}title{{/_ivar}}{{/item_three}} on{{/_i}}{{/three}}{{#more}}{{#_i}}I learned the {{#_ivar}}language_string{{/_ivar}} {{#pluralize}}skill,skills,{{num_items}}{{/pluralize}} {{#item_one}}{{#_ivar}}title{{/_ivar}}{{/item_one}}, {{#item_two}}{{#_ivar}}title{{/_ivar}}{{/item_two}} and {{remainder}} others on{{/_i}}{{/more}}{{/learned_short_list}} &url=https%3A%2F%2F{{subdomain_prefix}}.duolingo.com&hashtags=duolingo" target="_blank">{{#_i}}Share on Twitter{{/_i}}</a></li><li><a id="facebook-post-action" class="facebook share-skills" data-shared="{{#_i}}Shared on Facebook{{/_i}}" href="javascript:;">{{#_i}}Share on Facebook{{/_i}}</a></li><li class="divider"></li><li><span><label><input id="fb-auto-post" class="border" type="checkbox" {{#auto_facebook_post}}checked="checked"{{/auto_facebook_post}}/> {{#_i}}Automatically share on Facebook{{/_i}}</label></span></li></ul></button>{{/cn_extension}}{{/trial_account}}{{/learned}}{{#certification_test}}<a href="javascript:;" class="external-link btn btn-lg btn-blue" style="float: left; margin: 0 0 0 10px; padding-right: 20px; padding-left: 20px;" data-href="/certs/{{certificate_id}}" data-bypass="true" >{{#_i}}View certificate{{/_i}}</a>{{/certification_test}}{{^practice}}<button data-r="home" data-href="{{^home}}/skill/{{language}}/{{skill_name}}{{/home}}" class="continue btn btn-lg btn-green right">{{#_i}}Continue{{/_i}}</button>{{/practice}}{{#practice}}{{#skill_id}}<button data-r="skill" data-href="/skill/{{language}}/{{skill_name}}" type="submit" class="continue btn btn-lg btn-green right">{{#_i}}Continue{{/_i}}</button><button data-r="skill" data-href="/skill/{{language}}/{{skill_name}}/practice" type="submit" class="margin-right end-continue btn btn-lg btn-blue right">{{#_i}}Practice again{{/_i}}</button>{{/skill_id}}{{^skill_id}}<button data-r="{{#home}}home{{/home}}{{^home}}skill{{/home}}" data-href="" type="submit" class="continue btn btn-lg btn-green right">{{#_i}}Continue{{/_i}}</button><button data-r="home" data-href="practice" type="submit" class="margin-right end-continue btn btn-lg btn-blue right">{{#_i}}Practice again{{/_i}}</button>{{/skill_id}}{{/practice}}</div></footer><div class="carousel-container"><ul class="carousel-dots"><li data-slide="{{award_index}}" class="carousel-dot active"></li>{{#strengthen}}<li data-slide="{{skill_index}}" class="carousel-dot"></li>{{/strengthen}}{{#showing_rupees_screen}}<li data-slide="{{lingots_index}}" class="carousel-dot"></li>{{/showing_rupees_screen}}{{#tc_index}}<li data-slide="{{tc_index}}" class="carousel-dot"></li>{{/tc_index}}</ul></div><div id="review-modal" class="modal fade hidden"></div></section></div></div> ';
},function(e,t){e.exports='<div class="challenge-speak"><h1 class="player" style="">{{#_i}}Click the microphone and say:{{/_i}}</h1>{{^web_speech}}<h2 class="player"><span id="big-speaker"></span><bdi><span id="original-text" class="hints">{{text}}</span></bdi></h2><div class="challenge-row"><div class="challenge-cell"><div id=\'audio-recorder\'><p><a href="//www.adobe.com/go/getflashplayer" target="_blank"><img src="//www.adobe.com/images/shared/download_buttons/get_flash_player.gif" alt="{{#_i}}Get Adobe Flash player{{/_i}}" /></a></p></div></div></div>{{/web_speech}}{{#web_speech}}<div class="chrome-speech-new-ui"><h2 class="player"><span id="big-speaker"></span><bdi><span id="web-speech-solution" class="hints">{{text}}</span></bdi></h2></div><div class="challenge-row"><div class="challenge-cell chrome-speech-new-ui"><div id="audio-recorder" class="speech-button"><button id="record-button" style="" class="btn btn-blue btn-outline btn-record"><span class="icon icon-microphone"></span></button><button id="stop-button" style="" class="hidden btn btn-blue btn-record"><span class="icon icon-stop"></span>{{#_i}}Stop{{/_i}}</button></div></div></div>{{/web_speech}}</div> '},function(e,t,i){e.exports='<div class="challenge-translate"><h1 class="player">{{#_i}}Translate this sentence to {{#_ivar}}target_language_name{{/_ivar}}{{/_i}}{{#difficulty}}<span style="font-weight: normal; font-size: 13px; color: gray; position: absolute; right: 0px;">DIFFICULTY: {{difficulty}}/10</span>{{/difficulty}}</h1><div class="challenge-row"><div class="challenge-cell"><div class="text-to-translate"><div class="col-left">{{^need_flash}}<span id="big-speaker"></span>{{/need_flash}}</div><div class="col-right hints translation-source"><bdi>{{sentence}}</bdi></div></div></div><div class="challenge-cell"><div class="relative"><span class="icon icon-arrow-blue-right {{#rtl}}img-flipped{{/rtl}}"></span></div>'+i(60)+'<textarea placeholder="{{#_i}}Type in {{#_ivar}}target_language_name{{/_ivar}}{{/_i}}" class="textarea-block textarea-lg textarea-translate" id="text-input" name="text-input" lang="{{target_language}}" tabindex="1"></textarea><div id="submitted-text"></div><div id="vkeyboard-placeholder"></div></div></div></div> '},function(e,t){e.exports='<span class="icon icon-arrow-swoosh"></span><h1>{{#_i}}Duolingo lessons have changed!{{/_i}}</h1><p>{{#_i}}Now, instead of losing hearts, you have a strength bar that goes up and down. You complete the lesson once the bar reaches full strength.{{/_i}}</p><div class="btn btn-primary right dismiss-warning">{{#_i}}Got it!{{/_i}}</div>'},function(e,t){e.exports='<p>{{#_i_en}}Know the Cyrillic alphabet? You can always switch to it here.{{/_i_en}}</p><h1 class="center">abcdefg<span class="native-script">АБВГДЕЖ</span></h1><div class="btn btn-primary right dismiss-warning">{{#_i}}Got it!{{/_i}}</div> '},function(e,t){e.exports="{{points}}"},function(e,t){e.exports='<div class="practice-intro-screen"><div class="owl owl-sporty"></div><div class="speech-bubble arrow-left"><div class="arrow-left-container"><div class="arrow"></div></div><div class="inner">{{#owned_timed_practice}}<h2>{{#_i}}Practice and beat the clock!{{/_i}}</h2>{{^mobile_web_view}}<p>{{#_i}}Answer correctly to get extra time and points. Use your keyboard to save time. (Check out our <a href="javascript:;" class="show-shortcuts blue">Shortcuts</a>).{{/_i}}</p>{{/mobile_web_view}}{{/owned_timed_practice}}{{^owned_timed_practice}}<h2>{{#_i}}Lesson Practice{{/_i}}</h2><p>{{#_i}}Complete a lesson that includes words you\'ve learned{{/_i}}</p>{{/owned_timed_practice}}</div></div></div> '},function(e,t){e.exports='<div class="inner {{#running_out}}running-out{{/running_out}}">{{#format_seconds}}{{seconds}}{{/format_seconds}}</div> '},function(e,t,i){e.exports='<div class="challenge-translate"><h1 class="player">{{#_i}}Translate this text{{/_i}}{{#difficulty}}<span style="font-weight: normal; font-size: 13px; color: gray; position: absolute; right: 0px;">DIFFICULTY: {{difficulty}}/10</span>{{/difficulty}}</h1><div class="challenge-row"><div class="challenge-cell"><div class="text-to-translate">{{^need_flash}}<span id="big-speaker"></span>{{/need_flash}}<bdi><span class="hints translation-source">{{sentence}}</span></bdi></div></div><div class="challenge-cell"><div class="relative"><span class="icon icon-arrow-blue-right {{#rtl}}img-flipped{{/rtl}}"></span>'+i(60)+'</div><textarea placeholder="{{#_i}}Type in {{#_ivar}}target_language_name{{/_ivar}}{{/_i}}" class="textarea-block textarea-lg textarea-translate" id="text-input" name="text-input" lang="{{target_language}}" tabindex="1" dir="auto" {{#disable_autocorrect}} autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" {{/disable_autocorrect}}></textarea><div id="submitted-text"></div><div id="vkeyboard-placeholder"></div>{{#show_input_instructions}}'+i(106)+"{{/show_input_instructions}}</div></div></div> "},function(e,t){e.exports='<div class="intro hover-reminder"><div class="speech-bubble arrow-left hidden" id="bubble-hover-reminder"><div class="arrow-left-container"><div class="arrow"></div></div><div class="inner "><span class="gray-dark">{{#_i}}Remember that you can always hover over words to see their translation.{{/_i}}</span></div></div><div class="owl-peeking-container hoverable" style=""><div class="owl owl-standard peek-from-bottom {{#rtl}}img-flipped{{/rtl}}"></div></div></div> '},function(e,t){e.exports='<div class="intro intro-hover"><div class="speech-bubble arrow-left" id="bubble-hover"><div class="arrow-left-container"><div class="arrow"></div></div><div class="inner "><span class="gray-dark">{{#_i}}You can always hover over words underlined with gray dots to see their translation{{/_i}}</span></div></div><div class="owl-peeking-container"><div class="owl owl-standard" id="hover-owl"></div></div></div>'},function(e,t){e.exports='<div class="intro intro-translate"><!-- <div class="speech-bubble arrow-left" id="bubble-enter-reminder"><div class="arrow-left-container"><div class="arrow"></div></div><div class="inner "><span class="gray-dark">{{#_i}}You can use the keyboard for most things. Try hitting Enter instead of clicking check.{{/_i}}</span></div></div><div class="owl-peeking-container hoverable"><div class="owl owl-standard"></div></div> --></div>'},function(e,t,i){e.exports='<div class="player-inner"><section class="player-container" style="opacity: 1;">'+i(61)+'<div class="player-main intro-end"><div class="friend-boxes">{{#num_friends}}<h1 class="player">{{#_i}}Your Facebook friends on Duolingo{{/_i}}</h1><div class="pane"><h3>{{num_friends}} of your friends are already here</h3><div class="subline"><p class="gray" style="margin: 0;">{{#_i}}You are now following them:{{/_i}}</p></div><ul id="followed-friends" class="list-users-small lines">{{#show_friends}}<li {{#not_shown}} style="display: none"{{/not_shown}}><a class="follow-button btn btn-small right success" data-user="{{user_id}}">Following</a><a href="/{{username}}" class="has-twipsy avatar-small" data-original-title="{{name}}"><img src="{{#picture}}{{#data}}{{url}}{{/data}}{{/picture}}" class="avatar"></a><a href="/{{username}}" class="username">{{name}}</a><span class="language">{{#_i}}{{#_ivar}}learning_language_string{{/_ivar}} Level {{learning_language_level}}{{/_i}}</span></li>{{/show_friends}}</ul>{{#num_more_friends}}<p class="more-friends-on-duo">{{#_i}}<strong>+{{num_more_friends}} more</strong> of your friends are already here{{/_i}} <a id="show-more-friends" href="javascript:;">→ {{#_i}}show them{{/_i}}</a></p>{{/num_more_friends}}</div>{{/num_friends}}{{^num_friends}}<h1 class="player">{{#_i}}None of your Facebook friends are here yet. Invite them!{{/_i}}</h1>{{/num_friends}}<div class="pane">{{#num_friends}}<h3>{{#_i}}Now invite others to the party!{{/_i}}</h3>{{/num_friends}}<div class="subline"><div class="form-row"><input type="text" class="input-block" id="search-friends" placeholder="{{#_i}}Search for friends to invite{{/_i}}"></div></div><ul id="invite-friends" class="list-users-small lines">'+i(192)+'</ul></div></div></div><footer id="controls" class="player-footer"><div class="col-right"><button class="btn btn-lg btn-blue right margin-left" id="next-button">{{#_i}}Next{{/_i}}</a></div></footer></section></div> '},function(e,t,i){e.exports='<div class="player-inner"><section class="player-container">'+i(61)+'<div class="player-main intro-fb"><h1 class="player">{{#_i}}Find your friends on Facebook!{{/_i}}</h1><h2 class="player">{{#_i}}Learners with friends have 200% more success{{/_i}}</h2><div class="owl-friends"></div><div class="owl-peeking-container"><div class="owl owl-standard {{#rtl}}img-flipped{{/rtl}}"></div><div class="owl owl-sporty"></div><div class="owl owl-graduation {{#rtl}}img-flipped{{/rtl}}"></div></div></div><footer id="controls" class="player-footer"><div class="col-right"><button id="facebook-connect" class="btn btn-lg btn-blue right fb-connect margin-left">{{#_i}}Connect using Facebook{{/_i}}</button><button id="skip-button" type="submit" class="btn btn-standard btn-lg right margin-right">{{#_i}}Skip this step{{/_i}}</button></div></footer></section></div>'},function(e,t,i){e.exports='<div id="account-content" class="settings-content"><button id="submit_button" type="submit" class="btn btn-green right">{{#_i}}Save changes{{/_i}}</button><div id=\'confirmation-message\' class=\'hidden save-message\'>{{#_i}}Saved!{{/_i}}</div><div id=\'error-message\' class=\'hidden error-message\'>{{#_i}}Error{{/_i}}</div><h1>{{#_i}}Account settings{{/_i}}</h1><ul class="list-settings"><li><label class="label">{{#_i}}Username{{/_i}}</label><div class="input"><input style="width: 334px;" class="large" id="username" name="username" type="text" value="{{username}}"{{#experimental}} disabled{{/experimental}}></div></li><li><label class="label">{{#_i}}Email{{/_i}}</label><div class="input"><input style="width: 334px;" class="large" id="email" name="email" size="30" type="text" value="{{email}}"{{#experimental}} disabled{{/experimental}}></div></li><li><label class="label">{{#_i}}Microphone{{/_i}}</label><div class="input"><ul class="radio-buttons"><li><label><input class="border" id="microphone_on" name="microphone" type="radio" value="true" {{#microphone}}checked{{/microphone}}> {{#_i}}on{{/_i}}</label></li><li><label><input class="border" id="microphone_off" name="microphone" type="radio" value="false" {{^microphone}}checked{{/microphone}}> {{#_i}}off{{/_i}}</label></li></ul></div></li><li><label class="label">{{#_i}}Speaker{{/_i}}</label><div class="input"><ul class="radio-buttons"><li><label><input class="border" id="speaker_on" name="speaker" type="radio" value="true" {{#speaker}}checked{{/speaker}}> {{#_i}}on{{/_i}}</label></li><li><label><input class="border" id="speaker_off" name="speaker" type="radio" value="false" {{^speaker}}checked{{/speaker}}> {{#_i}}off{{/_i}}</label></li></ul></div></li><li><label class="label">{{#_i}}Voice autoplay{{/_i}}</label><div class="input"><ul class="radio-buttons"><li><label><input class="border" id="autoplay_on" name="autoplay" type="radio" value="true" {{#autoplay}}checked{{/autoplay}}> {{#_i}}on{{/_i}}</label></li><li><label><input class="border" id="autoplay_off" name="autoplay" type="radio" value="false" {{^autoplay}}checked{{/autoplay}}> {{#_i}}off{{/_i}}</label></li></ul></div></li><li><label class="label">{{#_i}}Sound effects{{/_i}}</label><div class="input"><ul class="radio-buttons"><li><label><input class="border" id="sound_effects_on" name="sound_effects" type="radio" value="true" {{#sound_effects}}checked{{/sound_effects}}> {{#_i}}on{{/_i}}</label></li><li><label><input class="border" id="sound_effects_off" name="sound_effects" type="radio" value="false" {{^sound_effects}}checked{{/sound_effects}}> {{#_i}}off{{/_i}}</label></li></ul></div></li><li><label class="label">{{#_i}}Profile picture{{/_i}}</label><div class="input"><div class="avatar-large left" style="margin-right: 15px;">'+i(197)+'</div><form id="avatar-upload" action="/avatars" method="post" enctype="multipart/form-data"><input type="hidden" name="user_id" value="{{id}}"><input id="image-file" type="file" name="image" class=""><br/>{{#_i}}maximum image size is 1 MB{{/_i}}</form></div></li>{{^experimental}}<li><div class="input"><a href="/settings/deactivate">{{#_i}}Deactivate my account{{/_i}}</a></div></li>{{/experimental}}{{#experimental}}{{#testbed_experiments}}<li class="testbed-experiments"><label class="label">Experiment: {{name}}</label><div class="input"><ul class="radio-buttons">{{#options}}<li><label><input class="border" name="{{name}}" type="radio" data-index="{{index}}" {{#current}}checked{{/current}}> {{value}}</label></li>{{/options}}</ul></div></li>{{/testbed_experiments}}{{/experimental}}{{#can_debug_localization}}<li><label class="label">Localization debug mode</label><div class="input"><button class="btn toggle-localization-debug">{{#localization_debug_on}} Turn off {{/localization_debug_on}}{{^localization_debug_on}} Turn on {{/localization_debug_on}}</button><p class="gray">Allows you to ctrl+click or cmd+click on any text on the site to view in localization editor</p></div></li>{{/can_debug_localization}}</ul></div> '},function(e,t){e.exports='<div id="certificates-content"><span class="store-icon store-icon-progress right" style="margin: -20px;"></span><h1>{{#_i}}Quiz History{{/_i}}</h1><div class="sub-text gray">{{#_i}}To take another progress quiz, you can visit the <a href="/show_store">lingot store.</a>{{/_i}}</div>{{#quiz_scores}}<h5 class="gray"><span class="flag flag-{{language}} flag-svg-small left"></span> {{#_iv}}{{language_string}}||capitalized{{/_iv}}</h5><table class="list-certificates table">{{#scores}}<tr><td class="result" dir="auto"><span class="score">{{score}}</span>/5.0 </td><td>{{datetime}}</td></tr>{{/scores}}</table>{{/quiz_scores}}</div> '},function(e,t){e.exports='{{#classrooms}}<option value="{{classroom_id}}">{{#name}}{{name}}{{/name}}{{^name}}{{#_i}}My students{{/_i}}{{/name}}</option>{{/classrooms}} '},function(e,t){e.exports='<button id="submit_button" type="submit" class="btn btn-green right">{{#_i}}Save changes{{/_i}}</button><div id=\'confirmation-message\' class=\'hidden save-message\'>{{#_i}}Saved!{{/_i}}</div><div id=\'error-message\' class=\'hidden error-message\'>{{#_i}}Error{{/_i}}</div><h1 class="with-subheading">{{#_i}}Daily Goal settings{{/_i}}</h1><div class="sub-text gray">{{#_i}}Coach here!{{/_i}} {{#_i}}Selecting a daily goal will help you stay motivated while learning a language.{{/_i}} {{#_i}}You can change your goal at any time.{{/_i}}</div><div class="coach-settings"><span class="owl owl-coach-small left"></span><span class="coach-goal-chooser left"><ul class="goal-chooser"><li><label class="btn btn-standard btn-small btn-outline daily-goal-option"><input type="radio" name="daily_goal" data-goal="1"/> <span class="title">{{#_i}}Basic{{/_i}}</span> <span class="xp-text">{{#_i}}1 XP per day{{/_i}}</span></label></li><li><label class="btn btn-standard btn-small btn-outline daily-goal-option"><input type="radio" name="daily_goal" data-goal="10"/> <span class="title">{{#_i}}Casual{{/_i}}</span> <span class="xp-text">{{#_i}}10 XP per day{{/_i}}</span></label></li><li><label class="btn btn-standard btn-small btn-outline daily-goal-option"><input type="radio" name="daily_goal" data-goal="20"/> <span class="title">{{#_i}}Regular{{/_i}}</span> <span class="xp-text">{{#_i}}20 XP per day{{/_i}}</span></label></li><li><label class="btn btn-standard btn-small btn-outline daily-goal-option"><input type="radio" name="daily_goal" data-goal="30"/> <span class="title">{{#_i}}Serious{{/_i}}</span> <span class="xp-text">{{#_i}}30 XP per day{{/_i}}</span></label></li><li><label class="btn btn-standard btn-small btn-outline daily-goal-option"><input type="radio" name="daily_goal" data-goal="50"/> <span class="title">{{#_i}}Insane{{/_i}}</span> <span class="xp-text">{{#_i}}50 XP per day{{/_i}}</span></label></li></ul></span></div>'},function(e,t){e.exports='<h1>{{#_i}}Deactivate my account{{/_i}}</h1><p>{{#_i}}Hooooold up— are you sure you want to do this?{{/_i}}</p><p>{{#_i}}Duolingo teaches you how to live, love, and speak another language. If you leave, you might just never be able to reach your full potential in life.{{/_i}}</p><form action="/deactivate" method="POST"><button id="deactivate_submit_button" type="submit" class="btn btn-red margin-right">{{#_i}}Deactivate my account{{/_i}}</button><button id="deactivate_cancel_button" type="reset" class="btn btn-standard">{{#_i}}Cancel{{/_i}}</button></form><button id="do-not-push" class="hidden"></button> '},function(e,t){e.exports='<div id="profile-content" class="settings-content"><button id="submit_button" type="submit" class="btn btn-green right">{{#_i}}Save changes{{/_i}}</button><div id=\'confirmation-message\' class=\'hidden save-message\'>{{#_i}}Saved!{{/_i}}</div><div id=\'error-message\' class=\'hidden error-message\'>{{#_i}}Error{{/_i}}</div><h1>{{#_i}}Language{{/_i}}</h1><ul class="list-settings language-direction"><li><label class="label">{{#_i}}Learning Language{{/_i}}</label><div class="input"><label class="blue-select no-focus smaller fixed-width"><select name="language_direction" id="language_direction" {{#experimental}} disabled{{/experimental}}>{{#language_directions}}<option value="{{value}}" {{#selected}}selected="selected"{{/selected}}>{{prompt}}</option>{{/language_directions}}</select></label></div></li><li id="chinese-script-choice" class="{{^is_chinese}}hidden{{/is_chinese}}"><label class="label">{{#_i}}Script{{/_i}}</label><div class="input"><ul class="radio-buttons"><li><label><input class="border" id="simplified" name="locale" type="radio" data-language="zs" value="zs" {{^traditional}}checked{{/traditional}}> 简体 </label></li><li><label><input class="border" id="traditional" name="locale" type="radio" data-language="zs" value="zt" {{#traditional}}checked{{/traditional}}> 繁體 </label></li></ul></div></li><li><div class="input"><div style="margin: 10px 0 0 0;"><a href="/courses" class="btn btn-blue">{{#_i}}See all language courses{{/_i}}</a></div>{{^trial_account}}<div style="margin: 30px 0 0 0;"><a href="/settings/reset_lang">{{#_i}}Reset or remove languages{{/_i}}</a></div>{{/trial_account}}</div></li></ul></div> '},function(e,t,i){e.exports='<div id="notifications-content" class="settings-content"><button id="submit_button" type="submit" class="btn btn-green right">{{#_i}}Save changes{{/_i}}</button><div id=\'confirmation-message\' class=\'hidden save-message\'>{{#_i}}Saved!{{/_i}}</div><div id=\'error-message\' class=\'hidden error-message\'>{{#_i}}Error{{/_i}}</div><h1>{{#_i}}Notifications{{/_i}}</h1><h3 class="gray">{{#_i}}General{{/_i}}</h3><hr class="margin-top"/><ul class="list-settings"><li><label class="label" for="notify_follow">{{#_i}}Email me when{{/_i}}</label><div class="input"><ul class="inputs-inline left"><li><label><input class="border" id="notify_announcement" name="notify_announcement" type="checkbox" {{#notify_announcement}}checked="checked"{{/notify_announcement}}/></label></li></ul><p class="gray gray-text">{{#_i}}There is an announcement{{/_i}}</p><ul class="inputs-inline left"><li><label><input class="border" id="notify_follow" name="notify_follow" type="checkbox" {{#notify_follow}}checked="checked"{{/notify_follow}}/></label></li></ul><p class="gray gray-text">{{#_i}}Somebody friends me{{/_i}}</p><ul class="inputs-inline left"><li><label><input class="border" id="notify_pass" name="notify_pass" type="checkbox" {{#notify_pass}}checked="checked"{{/notify_pass}}/></label></li></ul><p class="gray gray-text">{{#_i}}Somebody passes me{{/_i}}</p><ul class="inputs-inline left"><li><label><input class="border" id="notify_comment" name="notify_comment" type="checkbox" {{#notify_comment}}checked="checked"{{/notify_comment}}/></label></li></ul><p class="gray gray-text">{{#_i}}Somebody responds to a discussion I\'m following{{/_i}}</p><ul class="inputs-inline left"><li><label><input class="border" id="notify_stream_post" name="notify_stream_post" type="checkbox" {{#notify_stream_post}}checked="checked"{{/notify_stream_post}}/></label></li></ul><p class="gray gray-text">{{#_i}}Someone posts on my stream{{/_i}}</p><ul class="inputs-inline left"><li><label><input class="border" id="notify_edit_suggested" name="notify_edit_suggested" type="checkbox" {{#notify_edit_suggested}}checked="checked"{{/notify_edit_suggested}}/></label></li></ul><p class="gray gray-text">{{#_i}}Someone edits a sentence I have translated{{/_i}}</p></div></li><li><label class="label" for="notify_follow">{{#_i}}Notify me when{{/_i}}</label><div class="input"><ul class="inputs-inline left"><li><label><input class="border" id="insite_sentence_edited" name="insite_sentence_edited" type="checkbox" {{#insite_sentence_edited}}checked="checked"{{/insite_sentence_edited}}/></label></li></ul><p class="gray gray-text">{{#_i}}Someone edits a sentence I have translated{{/_i}}</p><ul class="inputs-inline left"><li><label><input class="border" id="insite_immersion_lingots" name="insite_immersion_lingots" type="checkbox" {{#insite_immersion_lingots}}checked="checked"{{/insite_immersion_lingots}}></label></li></ul><p class="gray" style="padding-top: 7px; margin-bottom: 10px; padding-left: 32px">{{#_i}}I receive lingots for uploading documents{{/_i}}</p></div></li></ul><h3 class="gray">{{#_i}}Daily reminders{{/_i}}</h3><hr class="margin-top"/><ul class="list-settings"><li><label class="label" for="notify_follow">{{#_i}}Email me when{{/_i}}</label><div class="input">{{#languages_data}}<ul class="inputs-inline left"><li><label><input class="border" name="language_settings.{{language}}.notify_practice" type="checkbox" {{#notify_practice}}checked="checked"{{/notify_practice}}/></label></li></ul><p class="gray gray-text">{{#_i}}I forget to practice {{#_iv}}{{language_string}}{{/_iv}} by{{/_i}} '+i(542)+'</p>{{/languages_data}}</div></li></ul>{{#show_schools_settings}}<h3 class="gray">{{#_i}}Schools{{/_i}}</h3><hr class="margin-top"/><ul class="list-settings"><li><label class="label">{{#_i}}Email me when{{/_i}}</label><div class="input"><ul class="inputs-inline left"><li><label><input class="border" name="notify_schools_announcement" type="checkbox" {{#notify_schools_announcement}}checked="checked"{{/notify_schools_announcement}}/></label></li></ul><p class="gray gray-text">{{#_i}}There is an announcement for Duolingo for Schools{{/_i}}</p></div>{{#has_observer}}<div class="input"><ul class="inputs-inline left"><li><label><input class="border" name="notify_assignment" type="checkbox" {{#notify_assignment}}checked="checked"{{/notify_assignment}}/></label></li></ul><p class="gray gray-text">{{#_i}}I have an assignment{{/_i}}</p></div><div class="input"><ul class="inputs-inline left"><li><label><input class="border" name="notify_assignment_complete" type="checkbox" {{#notify_assignment_complete}}checked="checked"{{/notify_assignment_complete}}/></label></li></ul><p class="gray gray-text">{{#_i}}I complete an assignment{{/_i}}</p></div>{{/has_observer}}{{#num_classrooms}}<div class="input"><ul class="inputs-inline left"><li><label><input class="border" name="notify_classroom_join" type="checkbox" {{#notify_classroom_join}}checked="checked"{{/notify_classroom_join}}/></label></li></ul><p class="gray gray-text">{{#_i}}Somebody joins my classroom{{/_i}}</p></div><div class="input"><ul class="inputs-inline left"><li><label><input class="border" name="notify_classroom_leave" type="checkbox" {{#notify_classroom_leave}}checked="checked"{{/notify_classroom_leave}}/></label></li></ul><p class="gray gray-text">{{#_i}}Somebody leaves my classroom{{/_i}}</p></div><div class="input"><ul class="inputs-inline left"><li><label><input class="border" name="notify_weekly_report" type="checkbox" {{#notify_weekly_report}}checked="checked"{{/notify_weekly_report}}/></label></li></ul><p class="gray gray-text">{{#_i}}There is a weekly progress report{{/_i}}</p></div>{{/num_classrooms}}</li></ul>{{/show_schools_settings}}<div class="chrome-notifications hidden"><h3 class="gray">{{#_i}}Notify me via{{/_i}}</h3><hr class="margin-top"/><ul class="list-settings"><li><ul class="inputs-inline left"><li><label><input class="border chrome-notifications-checkbox" name="notify_via_chrome" type="checkbox"/></label></li></ul><p class="gray-text">{{#_i}}Chrome notifications{{/_i}}<br /><span class="gray caption">{{#_i}}(They will show up in the corner of your screen even if Duolingo is not open){{/_i}}</span></p></li></ul></div></div> '},function(e,t){e.exports='<div class="tracking-settings"><div class="blue-header"><div class="text"><h1 class="with-subheading">{{#_i}}Progress Sharing{{/_i}}</h1><p>{{#_i}}Want to use Duolingo in a classroom? Want to show off to your parents? Tracking allows you to share your language learning progress with a teacher, a parent, a friend, or even a pet! They\'ll be able to see which lessons you complete and how many XP you get.{{/_i}}</p><div>{{#_i}}Learn more at <a href="http://schools.duolingo.com/">schools.duolingo.com</a>{{/_i}}</div></div><span class="school-icon school-students-img"></span></div><ul class="list-settings"><h3 class="gray">{{#_i}}Join a Classroom{{/_i}}</h3><hr class="margin-top"/><div class="email-entry"><li class="more-margin-bottom"><label class="label">{{#_i}}Whose classroom are you joining?{{/_i}}</label><div class="input"><input class="large" id="observer-email" name="observer-email" type="text" placeholder="{{#_i}}Email address{{/_i}}"><span class="icon icon-checkmark-small"></span><p id="join-instructions" class="gray margin-top">{{#_i}}By entering an email address, you are authorizing them to see your learning progress.{{/_i}}</p><p id="user-not-found" class="gray margin-top"></p></div></li><li id="classroom-input" class="more-margin-bottom"><label class="label">{{#_i}}Classroom{{/_i}}</label><div class="input"><label class="blue-select no-focus smaller"><select></select></label></div></li><li class="margin-bottom"><a href="javscript:;" class="blue input hidden have-code">{{#_i}}Have a classroom code?{{/_i}}</a></li><li class="more-margin-bottom"><button id="submit_button" type="submit" class="btn btn-blue input">{{#_i}}Join classroom{{/_i}}</button></li></div><div class="code-entry hidden"><li><label class="label">{{#_i}}Find your classroom{{/_i}}</label><div class="input"><input autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="large classroom-code margin-bottom" id="code" type="text" placeholder="{{#_i}}Classroom code{{/_i}}"></div></li><li class="margin-bottom"><a href="javscript:;" class="blue input no-code">{{#_i}}Don\'t have a classroom code?{{/_i}}</a></li><div class="margin-bottom messages input hidden"></div><li><button id="join-button" class="disabled btn btn-blue input">{{#_i}}Join classroom{{/_i}}</button></li></div><div id="my-classrooms" {{^has_observer}}class="hidden"{{/has_observer}}><h3 class="gray margin-top">{{#_i}}My classrooms{{/_i}}</h3><hr class="margin-top margin-bottom"/><div class="gray-spinner hidden"></div><ul class="classrooms"></ul></div></ul></div>'},function(e,t){e.exports='<div id="password-content"><button id="submit_button" type="submit" class="btn btn-green right">{{#_i}}Save changes{{/_i}}</button><div id=\'confirmation-message\' class=\'hidden save-message\'>{{#_i}}Saved!{{/_i}}</div><div id=\'error-message\' class=\'hidden error-message\'>{{#_i}}Error{{/_i}}</div><h1>{{#_i}}Password{{/_i}}</h1><ul class="list-settings">{{^no_password}}<li><label class="label">{{#_i}}Current Password{{/_i}}</label><div class="input"><input class="large" id="current-password" name="current-password" size="30" type="password" {{#experimental}} disabled{{/experimental}}></div></li>{{/no_password}}<li><label class="label">{{#_i}}New Password{{/_i}}</label><div class="input"><input class="large" id="new-password" name="new-password" size="30" type="password" {{#experimental}} disabled{{/experimental}}></div></li><li><label class="label">{{#_i}}Confirm New Password{{/_i}}</label><div class="input"><input class="large" id="confirm-new-password" name="confirm-new-password" size="30" type="password" {{#experimental}} disabled{{/experimental}}></div></li></ul></div> '},function(e,t){e.exports='<select class="small" name="language_settings.{{language}}.notify_time">{{#practice_times}}<option {{#selected}}selected="selected"{{/selected}} value="{{offset}}">{{time}}</option>{{/practice_times}}</select>'},function(e,t){e.exports='<button id="reset_cancel_button" type="reset" class="btn btn-standard right btn-enabled">{{#_i}}Cancel{{/_i}}</button><h1>{{#_i}}Reset or remove languages{{/_i}}</h1><ul class="reset-languages">{{#languages}}{{#learning}}<li><span class="flag flag-svg-small flag-{{language}}"></span><span>{{#_i}}<strong>{{#_ivar}}language_string{{/_ivar}}</strong> level {{level}}||list of curr languages in reset languages{{/_i}}</span><button id="remove-{{language}}" class="btn right btn-small reset-lang btn-red {{#allow_delete}}btn-enabled{{/allow_delete}} margin-left" {{^allow_delete}}disabled="disabled"{{/allow_delete}} data-value="{{language}}" data-delete="true">{{#_i}}Remove{{/_i}}</button><button id="reset-{{language}}" class="btn btn-blue btn-small right reset-lang btn-enabled" data-value="{{language}}" data-delete="false">{{#_i}}Reset progress{{/_i}}</button></li>{{/learning}}{{/languages}}</ul><p class="gray">{{#_i}}Be careful, removing a language gets rid of all your progress and can’t be undone.{{/_i}}</p>'},function(e,t,i){e.exports='<main class="main-right"><section class="page-sidebar sidebar-left"><div class="inner"><div class="box-colored bg-white">{{^trial_account}}<h2 class="view-profile-headline">'+i(25)+' {{username}} <a href="/{{username}}" class="username">{{#_i}}View your profile{{/_i}}</a></h2>{{/trial_account}}<ul id="settings_tab" class="nav-sidebar">{{^trial_account}}<li><a href="/settings/account" id="account_tab">{{#_i}}Account{{/_i}}</a></li>{{/trial_account}}<li><a href="/settings/direction" id="direction_tab">{{#_i}}Learning language{{/_i}}</a></li>{{^trial_account}}<li><a href="/settings/profile" id="profile_tab">{{#_i}}Profile{{/_i}}</a></li><li><a href="/settings/password" id="password_tab">{{#_i}}Password{{/_i}}</a></li><li><a href="/settings/notifications" id="notifications_tab">{{#_i}}Notifications{{/_i}}</a></li>{{#has_certificates}}<li><a href="/settings/progress" id="progress_tab">{{#_i}}Quiz History{{/_i}}</a></li>{{/has_certificates}}{{/trial_account}}{{#trial_account}}<li><a href="/settings/sound" id="sound_tab">{{#_i}}Sound{{/_i}}</a></li>{{/trial_account}}<li><a href="/settings/coach" id="coach_tab">{{#_i}}Coach{{/_i}}<span class="icon-arrow-right icon"></span></a></li>{{^trial_account}}<li><a href="/settings/observer" id="observer_tab">{{#_i}}Progress Sharing{{/_i}}<span class="icon-arrow-right icon"></span></a></li>{{/trial_account}}</ul></div></div></section><section class="page-main main-right"><div id=\'tab-container\'></div></section>'+i(12)+"</main> "},function(e,t){e.exports='<div id="profile-content" class="settings-content"><button id="submit_button" type="submit" class="btn btn-green right">{{#_i}}Save changes{{/_i}}</button><div id=\'confirmation-message\' class=\'hidden save-message\'>{{#_i}}Saved!{{/_i}}</div><div id=\'error-message\' class=\'hidden error-message\'>{{#_i}}Error{{/_i}}</div><h1>{{#_i}}Profile{{/_i}}</h1><ul class="list-settings"><li><label class="label">{{#_i}}Fullname{{/_i}}</label><div class="input"><input class="large" id="fullname" name="fullname" size="30" type="text" style="width: 334px;" value="{{fullname}}"></div></li><li><label class="label">{{#_i}}Location{{/_i}}</label><div class="input"><input class="large" id="location" name="location" size="30" type="text" style="width: 334px;" value="{{location}}"></div></li><li><label class="label">{{#_i}}Bio{{/_i}}</label><div class="input"><textarea id="bio" name="bio" rows="3" cols="40" style="margin-bottom: 10px; width: 334px;">{{bio}}</textarea><p class="gray"><span id="bio-count">140</span> {{#_i}}characters left{{/_i}}</p></div></li><li><label class="label">{{#_i}}Learning since{{/_i}}</label><div class="input" style="padding-top:5px; width: 334px;">{{formatted_creation}}</div></li>{{^cn_extension}}<li><label class="label">{{#_i}}Facebook Connect{{/_i}}</label><div class="input"><input id="facebook_id" name="facebook_id" size="30" type="hidden" style="margin-bottom: 10px; width: 334px;" value="{{facebook_id}}">{{^facebook_id}}<a id="facebook-connect" href="javascript:;" class="btn btn-blue btn-lg fb-connect" style="margin: -5px 0 0 0">{{#_i}}Connect to Facebook{{/_i}}</a>{{/facebook_id}}{{#facebook_id}}{{#facebook_name}}<p style="margin-bottom: 10px;">{{#_i}}You are connected as{{/_i}} <a id="facebook-profile-link" href="http://www.facebook.com/{{facebook_id}}" target="_blank" class="username">{{facebook_name}}</a></p>{{/facebook_name}}<a id="facebook-disconnect" href="javascript:;" class="btn btn-standard btn-small">{{#_i}}Disconnect{{/_i}}</a>{{/facebook_id}}</div></li>{{#facebook_id}}<li><label class="label">{{#_i}}Automatically share on Facebook{{/_i}}</label><div class="input"><ul class="radio-buttons"><li><label><input class="" id="auto_facebook_post_on" name="auto_facebook_post" type="radio" value="true" {{#auto_facebook_post}}checked{{/auto_facebook_post}}> {{#_i}}on{{/_i}}</label></li><li><label><input class="" id="auto_facebook_post_off" name="auto_facebook_post" type="radio" value="false" {{^auto_facebook_post}}checked{{/auto_facebook_post}}> {{#_i}}off{{/_i}}</label></li></ul></div></li>{{/facebook_id}}{{/cn_extension}}{{#cn_extension}}{{#facebook_id}}<li><label class="label">{{#_i}}Facebook Connect{{/_i}}</label><div class="input"><a id="facebook-disconnect" href="javascript:;" class="btn btn-standard btn-small">{{#_i}}Disconnect{{/_i}}</a></div></li>{{/facebook_id}}{{/cn_extension}}{{#gplus_id}}<li><label class="label">{{#_i}}Google+ Connect{{/_i}}</label><div class="input"><a id="gplus-disconnect" href="javascript:;" class="btn btn-standard btn-small">{{#_i}}Disconnect{{/_i}}</a><div id="gplus-error" style="display:none;">{{#_i}}There was an issue disconnecting your account. Please visit your <a href="https://plus.google.com/apps">Google Plus Apps page</a> to revoke access.{{/_i}}</div></div></li>{{/gplus_id}}</ul></div> ';
},function(e,t){e.exports='<div class="settings-content"><button id="submit_button" type="submit" class="btn btn-green right">{{#_i}}Save changes{{/_i}}</button><div id=\'confirmation-message\' class=\'hidden save-message\'>{{#_i}}Saved!{{/_i}}</div><div id=\'error-message\' class=\'hidden error-message\'>{{#_i}}Error{{/_i}}</div><h1>{{#_i}}Sound settings{{/_i}}</h1><!--TODO: refactor into account--><ul class="list-settings"><li><label class="label">{{#_i}}Microphone{{/_i}}</label><div class="input"><ul class="radio-buttons"><li><label><input class="border" id="microphone_on" name="microphone" type="radio" value="true" {{#microphone}}checked{{/microphone}}> {{#_i}}on{{/_i}}</label></li><li><label><input class="border" id="microphone_off" name="microphone" type="radio" value="false" {{^microphone}}checked{{/microphone}}> {{#_i}}off{{/_i}}</label></li></ul></div></li><li><label class="label">{{#_i}}Speaker{{/_i}}</label><div class="input"><ul class="radio-buttons"><li><label><input class="border" id="speaker_on" name="speaker" type="radio" value="true" {{#speaker}}checked{{/speaker}}> {{#_i}}on{{/_i}}</label></li><li><label><input class="border" id="speaker_off" name="speaker" type="radio" value="false" {{^speaker}}checked{{/speaker}}> {{#_i}}off{{/_i}}</label></li></ul></div></li><li><label class="label">{{#_i}}Voice autoplay{{/_i}}</label><div class="input"><ul class="radio-buttons"><li><label><input class="border" id="autoplay_on" name="autoplay" type="radio" value="true" {{#autoplay}}checked{{/autoplay}}> {{#_i}}on{{/_i}}</label></li><li><label><input class="border" id="autoplay_off" name="autoplay" type="radio" value="false" {{^autoplay}}checked{{/autoplay}}> {{#_i}}off{{/_i}}</label></li></ul></div></li><li><label class="label">{{#_i}}Sound effects{{/_i}}</label><div class="input"><ul class="radio-buttons"><li><label><input class="border" id="sound_effects_on" name="sound_effects" type="radio" value="true" {{#sound_effects}}checked{{/sound_effects}}> {{#_i}}on{{/_i}}</label></li><li><label><input class="border" id="sound_effects_off" name="sound_effects" type="radio" value="false" {{^sound_effects}}checked{{/sound_effects}}> {{#_i}}off{{/_i}}</label></li></ul></div></li></ul></div> '},function(e,t){e.exports="{{#_i}}<b>{{email}}</b> is not a Duolingo user yet.{{/_i}} {{#_i}}They can still receive weekly updates on your progress.{{/_i}} "},function(e,t){e.exports='{{#locked}}<span href="" class="skill-badge-small fade-this-in locked"><span class="skill-icon small locked"><span class="skill-icon-image skill-icon-{{new_index}}"></span></span><span class="skill-badge-name">{{short}} <span class="lessons-left" style="opacity: 0.5">{{#missing_lessons}}{{lessons_completed}}/{{total_lessons}}{{/missing_lessons}}</span></span></span>{{/locked}}{{^locked}}{{#hide_first_skill}}<span style="display:none;">{{/hide_first_skill}}<a href="/skill/{{language}}/{{url_title}}" class="fade-this-in skill-badge-small skill-item" data-skill="{{name}}" style="opacity: 0"><span class="skill-icon {{^perfect_strength}}{{icon_color}}{{/perfect_strength}} small {{^perfect_strength}}unlocked{{/perfect_strength}} {{#perfect_strength}}gold{{/perfect_strength}}"><span class="skill-icon-image skill-icon-{{new_index}}"></span>{{#percent_left}}<div class="pie"><span id="overlay-progress" data-pie="{{progress_percent}}+{{percent_left}}"></span></div>{{/percent_left}}{{^percent_left}}<span class="skill-icon-strength skill-icon-strength-small {{#rtl}}img-flipped{{/rtl}} {{#skill_strength}}strength-{{skill_strength}}{{/skill_strength}}"></span>{{/percent_left}}</span><span class="skill-badge-name">{{short}} <span class="lessons-left">{{#missing_lessons}}{{lessons_completed}}/{{total_lessons}}{{/missing_lessons}}</span></span></a>{{#hide_first_skill}}</span>{{/hide_first_skill}}{{/locked}} '},function(e,t,i){e.exports='<div class="row"><div class="span10 columns home-left">'+i(196)+'</div><div class="span5-5 columns home-right">'+i(184)+"</div></div> "},function(e,t,i){e.exports='<main class="main-right"><section class="page-sidebar sidebar-left"><div class="inner">{{#lessons_left}}<div class="box-colored bg-white"><div class="skill-progress"><span class="skill-badge-big "><span class="skill-icon unlocked {{icon_color}} big"><span class="skill-icon-image skill-icon-{{new_index}}"></span><div class="pie"><span id="overlay-progress" data-pie="{{lessons_completed}}+{{lessons_left}}"></span></div></span></span><header class="skill-progress-headline">{{#_i}}<span>{{lessons_completed}}/{{num_lessons}}</span> Lessons completed{{/_i}} <span class="icon icon-green-check-small"></span></header><button class="btn btn-yellow btn-test-out" onclick="location.href=\'/skill/{{language}}/{{url_title}}/test\';">{{#_i}}Test out{{/_i}}</button><div class="popover"><div class="arrow-top-small-container"><div class="arrow"></div></div><div class="inner" style="padding: 20px;"><h4>{{#_i}}Feeling confident?{{/_i}}</h4><p>{{#_i}}If you know about {{#_ivar}}title{{/_ivar}} you can quickly finish this skill by taking a short test.{{/_i}}</p></div></div></div></div>{{/lessons_left}}{{^lessons_left}}<div class="box-colored {{#perfect_strength}}gold{{/perfect_strength}} {{^perfect_strength}}bg-{{icon_color}}{{/perfect_strength}}"><div class="skill-done"><span class="skill-badge-big" style="{{#perfect_strength}}margin-bottom: 55px;{{/perfect_strength}}"><span style="{{#perfect_strength}}background: none; margin-bottom: 25px;{{/perfect_strength}}" class="skill-icon {{#perfect_strength}}gold huge{{/perfect_strength}} {{^perfect_strength}}unlocked skill-icon-darker big{{/perfect_strength}}"><span class="skill-icon-image skill-icon-{{new_index}}"></span>{{^perfect_strength}}<span class="skill-icon-strength skill-icon-strength-big {{#total_strength}}strength-{{total_strength}}{{/total_strength}} {{#rtl}}img-flipped{{/rtl}}"></span>{{/perfect_strength}}</span></span><header class="skill-done-headline {{#perfect_strength}}bigger{{/perfect_strength}}">{{#_i}}Strength: {{total_strength}}/5{{/_i}}</header><button class="btn btn-white btn-outline practice">{{#_i}}Strengthen {{#_ivar}}title{{/_ivar}}{{/_i}}</button></div></div>{{/lessons_left}}</div></section><section class="page-main main-right" style="{{^lessons_left}}min-height: 390px;{{/lessons_left}}">{{#bonus}}<h1>{{#_i}}Bonus Skill: {{#_ivar}}title{{/_ivar}}{{/_i}}</h1>{{/bonus}}{{^bonus}}<h1>{{#_ivar}}title{{/_ivar}}</h1>{{/bonus}}<div class="list-lessons" style="">{{#rows}}<div class="list-lessons-row">{{#lessons}}{{^empty}}{{^learn_marker}}{{#open}}<div class="list-lesson-item past"><div class="inner"><h3>{{#_i}}Lesson {{index}}{{/_i}} {{^active}}<span class="icon icon-green-check-small"></span>{{/active}}</h3><p>{{words_list}}</p><footer>{{#active}}<a href=\'/skill/{{language}}/{{url_title}}/{{lesson}}\' class="btn btn-{{icon_color}} btn-block ">{{#_i}}Begin{{/_i}}</a>{{/active}}{{^active}}<a href=\'/skill/{{language}}/{{url_title}}/{{lesson}}\' class="btn btn-standard btn-block btn-outline">{{#_i}}Redo{{/_i}}</a>{{/active}}</footer></div></div>{{/open}}{{^open}}<div class="list-lesson-item locked"><div class="inner"><h3>{{#_i}}Lesson {{index}}{{/_i}}</h3><p>{{words_list}}</p><footer><button class="btn btn-locked btn-block btn-outline btn-standard">{{#_i}}Locked{{/_i}}</button></footer></div></div>{{/open}}{{/learn_marker}}{{/empty}}{{#empty}}<div class="list-lesson-item"></div>{{/empty}}{{/lessons}}</div>{{/rows}}</div>{{#has_explanation}}<hr style="margin-top: 40px"/><div class="tips-notes-panel"><h2>{{#_i}}Tips and notes{{/_i}}</h2>{{{explanation}}}</div>{{/has_explanation}}</section>'+i(12)+"</main>"},function(e,t,i){e.exports='<div class="modal fade in {{custom_class}}-outer" tabindex="-1" role="dialog"><div class="modal-dialog {{custom_class}}">{{#custom_view}}<div type="button" class="close" data-dismiss="modal" aria-hidden="true">×</div>{{/custom_view}}{{^custom_view}}<div class="modal-content"><div class="modal-header"><div type="button" class="close" data-dismiss="modal" aria-hidden="true">×</div><h4 class="modal-title">{{^title}}{{#custom_title}}{{#activity_locked}}{{#_i}}Uh-oh! You can\'t start this activity yet.{{/_i}}{{/activity_locked}}{{#alert}}{{#_i}}Uh-oh.{{/_i}}{{/alert}}{{#restart_chrome}}{{#_i}}Microphone Access Problem!{{/_i}}{{/restart_chrome}}{{#microphone_permission}}{{#_i}}Microphone not authorized!{{/_i}}{{/microphone_permission}}{{#add_observer}}{{#_i}}Join a classroom{{/_i}}{{/add_observer}}{{#delete_classroom}}{{#_i}}Are you sure?{{/_i}}{{/delete_classroom}}{{/custom_title}}{{^custom_title}}{{#_i}}Heads up!{{/_i}}{{/custom_title}}{{/title}}{{#title}}{{#_ivar}}title{{/_ivar}}{{/title}}</h4></div><div class="modal-body">{{#custom_message}}{{message}}{{/custom_message}}{{^custom_message}}{{#leave_group}}{{#_i}}This will cause you to leave \'{{oldGroupName}}\'. Would you like to switch to this team?{{/_i}}{{/leave_group}}{{#rate_limit}}{{#_i}}Whoa! You\'re rating these sentences pretty fast! Make sure to read the sentence carefully before clicking "Looks good" or "Looks wrong".{{/_i}}{{/rate_limit}}{{#promote_warning}}{{#_i}}There can only be one Captain at a time. By promoting this user, you are giving up your title. Are you sure you want to do this?{{/_i}}{{/promote_warning}}{{#coach_warning}}{{#_i}}You will need to meet a custom goal (of {{coach_goal}} XP) every day to extend your streak.{{/_i}}{{/coach_warning}}{{#bulk_untrack_students}}{{#_i}}Are you sure you want to stop tracking these students?{{/_i}} {{#_i}}If they want to share their progress with you again, they can go to their Progress Sharing settings.{{/_i}}{{/bulk_untrack_students}}{{#untrack_student}}{{#_i}}Are you sure you want to remove this student from your classroom? You will no longer be able to track their progress.{{/_i}}{{/untrack_student}}{{#delete_assignment}}{{#_i}}Are you sure you want to delete this assignment?{{/_i}}{{/delete_assignment}}{{#delete_classroom}}{{#_i}}Deleting a classroom is a permanent change that cannot be undone. You will no longer be able to track progress for the students in this classroom.{{/_i}}{{/delete_classroom}}{{#send_reminder}}{{#_i}}This will send an email reminder to any students who have not yet completed the assignment.{{/_i}}{{/send_reminder}}{{#add_observer}}'+i(195)+'{{/add_observer}}{{#remove_observer}}{{#_i}}<b>{{observer_email}}</b> will no longer be able to track your Duolingo progress.{{/_i}}{{/remove_observer}}{{#invalid_email}}{{#_i}}You entered an invalid email address.{{/_i}}{{/invalid_email}}{{#observee_limit}}{{#_i}}This classroom is full.{{/_i}}{{/observee_limit}}{{#observee_limit_invite}}{{#_i}}Some invitations were not sent because this classroom has reached the maximum number of students.{{/_i}}{{/observee_limit_invite}}{{#activity_locked}}<ul>{{#has_classroom_language}}{{^has_active_students}}<li>{{#_i}}You need at least one active student in this classroom.{{/_i}}</li>{{/has_active_students}}{{/has_classroom_language}}{{^has_classroom_language}}<li>{{#_i}}Please select the language you are teaching.{{/_i}}</li>{{/has_classroom_language}}</ul>{{/activity_locked}}{{#restart_chrome}}{{#_i}}Duolingo is having trouble accessing your microphone. This could be due to an existing Chrome bug. To fix it, please try restarting Chrome.{{/_i}}{{/restart_chrome}}{{#microphone_permission}}{{#_i}}In order to practice your speaking skills, please give Duolingo permission to access your microphone. You can click the <b>recorder icon</b> in your browser\'s address bar or click <a href="{{help_url}}" style="color:#1caff6" target="_blank">here</a> for help.{{/_i}}{{/microphone_permission}}{{/custom_message}}</div><div class="modal-footer">{{#confirm}}<button data-bb-handler="cancel" type="button" class="btn btn-standard btn-outline btn-default modal-close">{{#_i}}Cancel{{/_i}}</button><button data-bb-handler="okay" type="button" class="btn margin-left btn-primary modal-success">{{#_i}}OK{{/_i}}</button>{{/confirm}}{{#alert}}<button data-bb-handler="cancel" type="button" class="btn btn-primary modal-close">{{#_i}}OK{{/_i}}</button>{{/alert}}{{#test_confirm}}<button data-bb-handler="cancel" type="button" class="btn btn-standard btn-outline btn-default modal-close">{{#_i}}Not right now{{/_i}}</button><button data-bb-handler="okay" type="button" class="btn margin-left btn-primary modal-success">{{#_i}}Start quiz{{/_i}}</button>{{/test_confirm}}{{#activity_locked}}{{^has_classroom_language}}<button data-bb-handler="cancel" type="button" class="btn btn-standard btn-outline btn-default modal-close">{{#_i}}Cancel{{/_i}}</button><button data-bb-handler="okay" type="button" class="btn margin-left btn-primary modal-success edit-language">{{#_i}}Choose language{{/_i}}</button>{{/has_classroom_language}}{{#has_classroom_language}}<button data-bb-handler="okay" type="button" class="btn margin-left btn-primary modal-success">{{#_i}}OK{{/_i}}</button>{{/has_classroom_language}}{{/activity_locked}}{{#welcome_teacher}}<button data-bb-handler="okay" type="button" class="btn margin-left btn-primary modal-success">{{#_i}}Let\'s go!{{/_i}}</button>{{/welcome_teacher}}{{#custom_type}}<button data-bb-handler="cancel" type="button" class="btn btn-standard btn-outline btn-default modal-close">{{#_iv}}{{cancel_text}}{{/_iv}}</button><button data-bb-handler="okay" type="button" class="btn margin-left btn-primary modal-success">{{#_iv}}{{okay_text}}{{/_iv}}</button>{{/custom_type}}{{#restart_chrome}}<button data-bb-handler="cancel" type="button" class="btn btn-primary modal-close">{{#_i}}OK{{/_i}}</button>{{/restart_chrome}}{{#microphone_permission}}<button data-bb-handler="cancel" type="button" class="btn btn-primary modal-close">{{#_i}}OK{{/_i}}</button>{{/microphone_permission}}</div></div>{{/custom_view}}</div></div> '},function(e,t){e.exports='<div id="contact-us" class="about-pages"><section><div class="center"><h2>{{#_i}}Contact Us{{/_i}}</h2><span class="press-callout"><p class="center">{{#_i}}Journalists and bloggers, please reach out to:{{/_i}} <a class="blue" href="mailto:press@duolingo.com">press@duolingo.com</a></p><p class="center">{{#_i}}To advertise with us, please reach out to:{{/_i}} <a class="blue" href="mailto:advertise@duolingo.com">advertise@duolingo.com</a></p><p class="center">{{#_i}}We do not pay for marketing. Please do not inquire.{{/_i}}</p></span></div></section></div> '},function(e,t){e.exports='<style type="text/css"> .footer-container { text-align: left; font-size: 13px; } .footer-container a:link { text-decoration: none; } .footer-container a:visited { text-decoration: none; } .footer-container a:hover { text-decoration: underline; } .footer-container a:active { text-decoration: underline; } /* The main sitemap part */ .sitemap { padding-right: 30px; padding-left: 30px; margin: {{#is_splash}}65{{/is_splash}}{{^is_splash}}40{{/is_splash}}px auto 30px auto; max-width: 1000px; display: flex; display: -ms-flexbox; display: -webkit-box; display: -webkit-flex; flex-flow: row; flex-wrap:wrap; -ms-flex-wrap: wrap; -ms-flex-direction: row; -webkit-flex-flow: row wrap; justify-content: space-between; -webkit-justify-content:space-between; -webkit-box-pack:justify; -ms-flex-pack: justify; } .footer-column { padding-right: 15px; padding-bottom: 40px; width: 160px; } /* Responsively adjust width for aligning columns nicely */ @media (max-width: 1050px) { .footer-column { width: 250px; } } @media (max-width: 850px) { .footer-column { width: 280px; } } @media (max-width: 690px) { .footer-column { width: 200px; } } @media (max-width: 560px) { .footer-column { width: 170px; } } @media (max-width: 440px) { .footer-column { width: 130px; } } .footer-column h3 { color: {{#is_splash}}#ffffff{{/is_splash}}{{^is_splash}}#4c4c4c{{/is_splash}}; font-size: 16px; text-transform: none; margin-bottom: 3px; } .footer-column a { color: {{#is_splash}}#ffffff{{/is_splash}}{{^is_splash}}#6f6f6f{{/is_splash}}; } .footer-column ul { line-height: 110%; } .footer-column li { padding-top: 5px; padding-bottom: 5px; } .footer-column .spacer { height: 26px; } /* Site language section for switching UI language */ .footer-language-options { max-width: 1000px; padding: 10px 30px 40px 30px; margin: 0 auto; color: {{#is_splash}}#ffffff{{/is_splash}}{{^is_splash}}#6f6f6f{{/is_splash}}; border-top: solid 1px {{#is_splash}}#2B7ABA{{/is_splash}}{{^is_splash}}#dddddd{{/is_splash}}; direction: ltr; } .footer-language-options h3 { font-size: inherit; text-transform: none; margin-top: 5px; margin-bottom: 0; white-space: nowrap; } .footer-language-options li { display: inline-block; padding-top: 6px; padding-right: 20px; } .footer-language-options a { color: inherit; }</style><div class="footer-container"><div class="sitemap"><div class="footer-column"><h3>{{#_i}}About Us{{/_i}}</h3><ul><li><a href="/courses">{{#_i}}Courses{{/_i}}</a></li><li><a href="/info">{{#_i}}Manifesto{{/_i}}</a></li><li><a href="/team">{{#_i}}Team{{/_i}}</a></li><li><a href="/research">{{#_i}}Research{{/_i}}</a></li><li><a href="https://incubator.duolingo.com/">{{#_i}}Incubator{{/_i}}</a></li><li><a href="/jobs">{{#_i}}Jobs{{/_i}}</a></li><li><a href="/design">{{#_i}}Brand Guidelines{{/_i}}</a></li><li><a href="https://gear.duolingo.com/">{{#_i}}Gear{{/_i}}</a></li><li><a href="/press">{{#_i}}Press{{/_i}}</a></li><li><a href="/contact">{{#_i}}Contact us{{/_i}}</a></li></ul></div><div class="footer-column"><h3>{{#_i}}Products{{/_i}}</h3><ul><li><a href="/">{{#_i}}Duolingo{{/_i}}</a></li><li><a href="https://schools.duolingo.com/">{{#_i}}Duolingo for Schools{{/_i}}</a></li><li><a href="https://testcenter.duolingo.com/{{tc_language}}">{{#_i}}Test Center{{/_i}}</a></li><li><a href="https://testcenter.duolingo.com/work">{{#_i}}Test Center Business{{/_i}}</a></li></ul></div><div class="footer-column"><h3>{{#_i}}Apps{{/_i}}</h3><ul><li><a href="https://play.google.com/store/apps/details?id=com.duolingo&hl={{language_id}}">{{#_i}}Duolingo for Android{{/_i}}</a></li><li><a href="{{#_i}}//itunes.apple.com/app/duolingo-learn-spanish-french/id570060128?mt=8{{/_i}}">{{#_i}}Duolingo for iOS{{/_i}}</a></li><li><a href="{{#_i}}//www.microsoft.com/store/apps/duolingo-learn-languages-for-free/9wzdncrcv5xn{{/_i}}">{{#_i}}Duolingo for Windows{{/_i}}</a></li><li><a href="https://play.google.com/store/apps/details?id=com.duolingo.testcenter&hl={{language_id}}">{{#_i}}Test Center for Android{{/_i}}</a></li><li><a href="https://itunes.apple.com/app/duolingo-test-center-english/id929167184?mt=8">{{#_i}}Test Center for iOS{{/_i}}</a></li></ul></div><div class="footer-column"><h3>{{#_i}}Help & Support{{/_i}}</h3><ul>{{^cn_extension}}<li><a href="/discussion">{{#_i}}Discussions{{/_i}}</a></li><li><a href="/topic/{{troubleshooting_id}}">{{#_i}}Troubleshooting{{/_i}}</a></li>{{/cn_extension}}<li><a href="/help">{{#_i}}Duolingo FAQs{{/_i}}</a></li><li><a href="https://schools.duolingo.com/help">{{#_i}}Schools FAQs{{/_i}}</a></li><li><a href="https://testcenter.duolingo.com/faq">{{#_i}}Test Center FAQs{{/_i}}</a></li></ul></div><div class="footer-column"><h3>{{#_i}}Privacy & Terms{{/_i}}</h3><ul><li><a href="/guidelines">{{#_i}}Community Guidelines{{/_i}}</a></li><li><a href="/terms">{{#_i}}Terms{{/_i}}</a></li><li><a href="/privacy">{{#_i}}Privacy{{/_i}}</a></li></ul><div class="spacer"/><h3>{{#_i}}Social{{/_i}}</h3><ul><li><a href="http://making.duolingo.com">{{#_i}}Blog{{/_i}}</a></li>{{^cn_extension}}<li><a href="https://www.facebook.com/duolingo">{{#_i}}Facebook{{/_i}}</a></li><li><a href="https://twitter.com/duolingo">{{#_i}}Twitter{{/_i}}</a></li><li><a href="https://www.youtube.com/user/duolingo">YouTube</a></li><li><a href="https://plus.google.com/+duolingo">{{#_i}}Google+{{/_i}}</a></li>{{/cn_extension}}</ul></div></div><div class="footer-language-options"><h3>{{#_i}}Site language:{{/_i}}</h3><ul>{{#ui_languages}}<li><a href="//{{id}}.duolingo.com{{path}}" data-abbrev="{{language}}">{{label}}</a></li>{{/ui_languages}}</ul></div>{{#cn_extension}}<ul class="nav-footer cn-footer"><li>京ICP备14061397号</li></ul>{{/cn_extension}}</div>'},function(e,t){e.exports='<h1>{{#_i}}Community Guidelines{{/_i}}</h1><ul class="guidelines"><li><h4>{{#_i}}Duolingo is a global community of language learners||Uppercase guidelines header{{/_i}}</h4><p>{{#_i}}We believe that everyone should have access to free language education. Our guidelines are meant to build a mutual understanding of what being a part of this community is all about. We will take action if any of these guidelines are not upheld, so please read carefully.{{/_i}}</p></li><li><h4>{{#_i}}Always be Respectful||Uppercase guidelines header{{/_i}}</h4><p>{{#_i}}We come together from across the world at varying language levels with the same goal in mind - to learn. Curiosity, questioning, and cultural understanding are something we celebrate. Be respectful of others and where they’re coming from.{{/_i}}</p></li><li><h4>{{#_i}}Help and support across all skill levels||Uppercase guidelines header{{/_i}}</h4> <p>{{#_i}}We are all in this together. Learning a language is hard and takes a lot of courage and dedication. If someone uses incorrect grammar or has a question you think has an obvious answer, kindly and calmly help them out. Heckling and being straight up mean doesn’t help anyone learn. Can’t say it nicely? Don’t weigh in.{{/_i}}</p></li><li><h4>{{#_i}}Embrace and share regional language differences||Uppercase guidelines header{{/_i}}</h4> <p>{{#_i}}A language can have many words, accents and ways to say the same thing. We think that’s one of the wonders of languages. Approach these conversations with an open mind and attitude.{{/_i}}</p></li><li><h4>{{#_i}}Think before you share||Uppercase guidelines header{{/_i}}</h4> <p>{{#_i}}We care about your safety. Speaking another language is inherently social, but please beware of swapping or posting any private information that could be misused. That includes your phone number, age, address, what time you’ll be at home, school name, email, or other personal information that could put your privacy at risk. Simply put: don’t over-share. Sharing and encouraging others to share personal data might get your post, and possibly your account, removed.{{/_i}}</p></li></ul><hr/><h1>{{#_i}}Please don’t use Duolingo to...{{/_i}}</h1><ul class="guidelines"><li><h4>{{#_i}}Attack a person or group of people with words and actions||Uppercase guidelines header{{/_i}}</h4> <p>{{#_i}}Duolingo is a safe place for learners of all backgrounds. Harassment and hurtful content will not be tolerated. Using symbols, names and text that promote hate—as well as harassing, stalking, impersonating, and making sexual remarks towards someone—are considered abuse. The same goes for nudity and disturbing profile pictures and usernames. As stated in the <a href="/terms">terms</a>, Duolingo reserves the right to replace images or remove these accounts at its sole discretion. Rule of thumb: if you are making someone feel attacked or hurt, then you shouldn’t be doing it. We take these reports seriously and may delete your account without previous notice if such activity is verified by our team.{{/_i}}</p></li><li><h4>{{#_i}}Spam the forum or people’s streams||Uppercase guidelines header{{/_i}}</h4> <p>{{#_i}}Leaving a trail of irrelevant entries in forums or on people’s streams may get your account deleted. This includes not only creating posts without substance, but also any other type of spamming.{{/_i}}</p></li><li><h4>{{#_i}}Script or cheat maliciously||Uppercase guidelines header{{/_i}}</h4> <p>{{#_i}}Duolingo believes in honest learning. If you are scripting for the purposes of cheating or sharing information and instructions about using Duolingo in a way that may impact the system, community, learning, data or experience in a negative or significant manner, your account and posts may be removed.{{/_i}}</p></li><li><h4>{{#_i}}Write inflammatory comments||Uppercase guidelines header{{/_i}}</h4> <p>{{#_i}}Hateful, obscene and off-topic comments don’t contribute to learning. Cursing doesn’t either (let people discover those words in the wild). Leave them out of the language discussions.{{/_i}}</p></li><li><h4>{{#_i}}To Summarize||Uppercase guidelines header{{/_i}}</h4> <p>{{#_i}}By following these guidelines we’ll all contribute to an interesting and helpful learning community. What happens if you can’t follow these guidelines or our <a href="/terms">terms of service</a>? You risk losing partial or full access to Duolingo without warning.{{/_i}}</p></li></ul> '},function(e,t){e.exports='<div id="help" class="about-pages"><h1>{{#_i}}Help{{/_i}}</h1><ul class="issues"><li><h3>{{#_i}}How can I navigate lessons with the keyboard?{{/_i}}</h3><table class="table table-striped table-test"><tr><td class="shortcut"><span class="key-button shortcut">enter</span></td><td>{{#_i}}Submit your answer, continue onto next screen{{/_i}}</td></tr><tr><td class="shortcut"><span class="key-button-number">1</span><span class="key-button-number">2</span><span class="key-button-number">3</span></td><td>{{#_i}}Select multiple choice answers with corresponding numbers{{/_i}}</td></tr><tr><td class="shortcut"><span class="key-button-arrow">▼</span><span class="key-button-arrow">▲</span><td>{{#_i}}Move through choices in dropdown list{{/_i}}</td></tr><tr><td class="shortcut"><span class="key-button">ctrl</span><span class="plus">+</span><span class="key-button">space</span><td>{{#_i}}Replay audio{{/_i}}</td></tr><tr><td class="shortcut"><span class="key-button">ctrl</span><span class="plus">+</span><span class="key-button">space</span><span class="plus">+</span><span class="key-button">shift</span><td>{{#_i}}Replay audio slower{{/_i}}</td></tr></table></li><hr/><li>{{#_i}}<h3>I have previous experience with a language. How can I skip the basics?</h3> <p>If you have previous experience with a language and feel that lessons are too easy, there are several ways to advance more quickly. To test out of individual skills (e.g. Basics 1), press the button in the top right corner of any skill page that says “Test out of this skill.” If you can pass this test, you will instantly learn the skill.</p>{{/_i}}<p>{{#_i}}If you would rather test out of many skills at once, you can click on the padlocks found throughout your skill tree on the Home page. Passing this test will unlock all skills in the tree up to that point.{{/_i}}</p></li>{{^learning_language_en}}<hr/><li><h3>{{#_i}}How can I add new languages?{{/_i}}</h3> <p>{{#_i}}Feeling adventurous enough to learn more than one language at a time? Click the flag icon you see in the top left corner of Duolingo and choose an additional language that you would like to learn from the drop down. Adding additional languages will not make you lose progress in existing languages.{{/_i}}</p><p>{{#_i}}Use this dropdown whenever you want to switch between the languages that you are learning.{{/_i}}</p>{{/learning_language_en}}<hr/><li><h3>{{#_i}}What are skill points and levels?{{/_i}}</h3> <p>{{#_i}}You earn skill points any time you perform a task that improves your language skills. These tasks include finishing a lesson, translating sentences, and rating others’ translations.{{/_i}}</p><p>{{#_i}}You reach new levels once you accumulate the necessary number of skill points for each level. There are currently 25 levels, and you can always see how close you are to reaching the next level on your Home page.{{/_i}}</p></li><hr/><li><h3>{{#_i}}My speech input is not working. What can I do?{{/_i}}</h3> <p>{{#_i}}Chrome users: If you accidentally denied Duolingo permission to use your microphone, you will not be able to do any speaking exercises. You can change which sites can use your camera and microphone by editing your permissions in Chrome. To do that, open Chrome->Settings->Show Advanced Settings. Under Privacy, select Content settings. Under Microphone, select Manage exceptions. If Duolingo is on the list and the behavior is not set to "Allow", remove it from the list by clicking on the X that appears when you hover over it. Click done and go back to Duolingo. Next time a speech exercise appears, there will be a pop-up asking for permission to access your microphone. Click "Allow" and you should be good to go!{{/_i}}</p><p>{{#_i}}Other browsers: Duolingo requires the Adobe Flash plugin to accept speech input, so first ensure that you have Flash installed. If Flash is installed but speech input is still not working, try refreshing the web page in your browser. If this does not fix the problem, try closing and reopening the browser. If none of these solutions work, make sure you do not have any browser extensions installed that would block the Flash plugin. Some extensions known to interfere with Flash include Ghostery, Adblock, Flashblock, and DNT.{{/_i}}</p></li><hr/><li>{{#_i}}<h3>My sound is not working. What can I do?</h3> <p>First, ensure that your volume is turned up and that sound is working properly elsewhere on your computer. If the sound only appears to be broken in Duolingo\'s lessons, try refreshing the web page in the browser. If this does not fix the problem, try closing and reopening the browser.</p>{{/_i}}</li><hr/><div class="gray" style="text-align: center;margin: 40px 0 20px 0;">{{#_i}}Still unsure about something?{{/_i}}</div><div class="centered-button-container"><a href="javascript:;" class="btn btn-blue switch-troubleshoot">{{#_i}}Ask the <strong>Community</strong>{{/_i}}</a>{{^hide_zendesk}}<div class="centered-text">{{#_i}}<span>or</span>{{/_i}}</div><a onClick="Zenbox.show(); return false;" class="btn btn-green">{{#_i}}Contact Us{{/_i}}</a>{{/hide_zendesk}}</div></ol></div>'},function(e,t){e.exports='<div id="the-company" class="about-pages"><section class="manifesto-1"><h2>{{#_i}}Personalized education.{{/_i}}</h2><div class="row"><div class="text"><p>{{#_i}}Everyone learns in different ways. For the first time in history, we can analyze how millions of people learn at once to create the most effective educational system possible and tailor it to each student.{{/_i}}</p><p>{{#_i}}Our ultimate goal is to give everyone access to a private tutor experience through technology.{{/_i}}</p></div><img class="education" src="/images/about/education.svg"/></div></section><section class="manifesto-2"><h2>{{#_i}}Making learning fun.{{/_i}}</h2><div><p>{{#_i}}It\'s hard to stay motivated when learning online, so we made Duolingo so fun that people would prefer picking up new skills over playing a game.{{/_i}}</p></div><img class="games" src="/images/about/games.svg"/></section><section class="manifesto-3"><div class="half"></div><h2>{{#_i}}Universally accessible.{{/_i}}</h2><div><p>{{#_i}}There are over 1.2 billion people learning a language and the majority are doing so to gain access to better opportunities. Unfortunately, learning a language is expensive and inaccessible to most.{{/_i}}</p><p>{{#_i}}We created Duolingo so that everyone could have a chance. Free language education – no hidden fees, no premium content, just free.{{/_i}}</p><p>{{#_i}}Duolingo is used by the richest man in the world and many Hollywood stars, and at the same time by public schools students in developing countries. We believe true equality is when spending more can\'t buy you a better education.{{/_i}}</p></div><div class="accessible-container"><img class="accessible" src="/images/about/accessible-image.svg"/></div></section></div>'},function(e,t){e.exports='<div id="jobs" class="about-pages"><section class="benefits clearfix"><h2>Some of our benefits</h2><ul class="benefits-list"><li><img src="/images/about/benefits/benefit-salary.svg"/><span class="text">Competitive salaries and generous equity</span></li><li><img class="bottom-bleed" src="/images/about/benefits/benefit-insurance.svg"/><span class="text">Health, dental, and vision insurance</span></li><li><img class="bottom-bleed" src="/images/about/benefits/benefit-gym.svg"/><span class="text">Gym membership reimbursement</span></li><li><img class="bottom-bleed" src="/images/about/benefits/benefit-food.svg"/><span class="text">Daily catered lunch, snacks and drinks</span></li><li><img class="full-bleed" src="/images/about/benefits/benefit-hours.svg"/><span class="text">Are you a night owl? We have flexible hours</span></li><li><img class="bottom-bleed" src="/images/about/benefits/benefit-education.svg"/><span class="text">Education fund</span></li><li><img class="full-bleed" src="/images/about/benefits/benefit-party.svg"/><span class="text">Frequent parties (We have a lot to celebrate!)</span></li><li><img class="bottom-bleed" src="/images/about/benefits/benefit-pto.svg"/><span class="text">20 days of paid time off (We don’t count)</span></li><li><img class="bottom-bleed"src="/images/about/benefits/benefit-parents.svg"/><span class="text">13 weeks paid maternity leave,<br/>4 weeks paid paternity leave</span></li><li><img class="bottom-bleed" src="/images/about/benefits/benefit-401k.svg"/><span class="text">401(k) with generous match</span></li></ul></section>{{#job_board_ff_true}}<h2 class="margin-top">We are hiring</h2>{{#departments}}<div class="department-container {{department}}"><div class="dept-flag">{{department}}</div>{{#jobs}}<div class="job-description"><a href="{{url}}" class="blue">{{title}}</a><p class="gray">{{{short}}}</p></div>{{/jobs}}</div>{{/departments}}{{/job_board_ff_true}}{{#job_board_ff_false}}<p class="center">We\'re always looking for talented individuals to join our awesome team! If you think you\'ve got what it takes, we\'d love to hear from you. Please send an email to jobs@duolingo.com with a cover letter and your resume.</p>{{/job_board_ff_false}}</div>';
},function(e,t){e.exports='<div id="mobile" class="about-pages"><section><h2 class="app-link">{{#_i}}See why Apple named us iPhone App of the Year and Google selected us as the Best of the Best in Google Play.{{/_i}}</h2><div class="content" style="text-align:center;"><div class="store-buttons"><a class="btn btn-mobile" href="{{#_i}}//itunes.apple.com/app/duolingo-learn-spanish-french/id570060128?mt=8{{/_i}}" target="_blank"><span class="about-img apple-store"></span><span class="button-text">{{#_i}}<span class="subtext">Download on the</span>App Store{{/_i}}</span></a><a class="btn btn-mobile" href="//play.google.com/store/apps/details?id=com.duolingo" target="_blank"><span class="about-img play-store"></span><span class="button-text">{{#_i}}<span class="subtext">Get it on</span>Google Play{{/_i}}</span></a><a class="btn btn-mobile" href="{{#_i}}//www.microsoft.com/store/apps/duolingo-learn-languages-for-free/9wzdncrcv5xn{{/_i}}" target="_blank"><span class="about-img windows-store"></span><span class="button-text">{{#_i}}<span class="subtext">Download from</span>Windows Store{{/_i}}</span></a></div><div class="link-container"><!-- <a id="email-app-link" href="javascript:;" class="blue">{{#_i}}Email me a link{{/_i}}</a><div id="app-link-popover" class="popover arrow-top-right dropdown-menu"><form><ul><li><input id="apple-radio" class="device-choice" type="radio" name="device-choice" value="apple"><label for="apple-radio">{{#_i}}iPhone{{/_i}}</label></li><li style="margin: 10px 0;"><input id="android-radio" class="device-choice" type="radio" name="device-choice" value="android"><label for="android-radio">{{#_i}}Android device{{/_i}}</label></li></ul></form><div class="block-input-row margin-bottom"><div class="col-left"><input type="text" class="input-block" placeholder="Email address" id="email" name="email" value="{{email}}" autocomplete="on"/></div><div class="col-right"><input id="get-app-link" class="btn btn-green right" type="submit" disabled="disabled" style="width: auto" value="{{#_i}}Send{{/_i}}"></div></div><div id="message" class="login-failed hidden">{{#_i}}You entered an invalid email address.{{/_i}}</div></div> --></div><div class="device-container"><div class="about-img devices"></div></div></div></section></div>'},function(e,t){e.exports='<div id="press" class="about-pages"><section class="founders"><div class="row"><img class="founders-img" src="/images/about/founders.svg"/><div class="text"><h2>{{#_i}}Meet our founders.{{/_i}}</h2><h3>Luis von Ahn, CEO</h3><p>{{#_i}}Luis von Ahn is a professor at Carnegie Mellon University, the inventor of CAPTCHAs, and a MacArthur Fellow. He has sold two companies to Google and given popular TED talks.{{/_i}}</p><h3 class="margin-top">Severin Hacker, CTO</h3><p>{{#_i}}Severin Hacker received a BS in Computer Science from ETH Zurich in 2006 and a PhD from Carnegie Mellon University in 2014.{{/_i}}</p></div></div></section><section class="about-duolingo"><div class="text"><h2>{{#_i}}About Duolingo{{/_i}}</h2><p>{{#_i}}Duolingo is the free science-based language education platform that has organically become the most popular way to learn languages online.{{/_i}}</p><h3 class="margin-top">{{#_i}}Exercises completed each month{{/_i}}</h3><span class="number">{{#_i}}6B{{/_i}}<span class="super">+</span></span><h3 class="margin-top">{{#_i}}Total users{{/_i}}</h3><span class="number">{{#_i}}120M{{/_i}}<span class="super">+</span></span></div></section><section class="investors"><div class="row"><img src="/images/about/investors-plant.svg"/><div class="text"><h2>{{#_i}}Meet our Investors{{/_i}}</h2><a class="blue" href="http://www.usv.com">Union Square Ventures</a><a class="blue" href="http://twitter.com/aplusk">Ashton Kutcher</a><a class="blue" href="http://twitter.com/tferriss">Tim Ferriss</a><a class="blue" href="http://www.nea.com">New Enterprise Associates</a><a class="blue" href="http://www.kpcb.com">Kleiner Perkins Caufield &amp; Byers</a><a class="blue" href="http://www.googlecapital.com">Google Capital</a></div></div></section><section class="awards"><div class="row"><div class="text"><h2>{{#_i}}Check out our awards{{/_i}}</h2><a class="blue" href="http://www.usatoday.com/story/tech/columnist/talkingtech/2013/12/17/duolingo-apples-iphone-app-of-the-year/4042469/" target="_blank">iPhone App of the Year, 2013</a><a class="blue" href="https://play.google.com/store/apps/collection/promotion_300055d_players_choice_ctp?hl=en" target="_blank">Google\'s Best of the Best, 2013</a><a class="blue" href="http://techcrunch.com/2014/02/11/fast-growing-duolingo-caps-off-a-big-year-with-the-crunchie-for-best-education-startup/" target="_blank">TechCrunch\'s Best Education Startup, 2014</a><a class="blue" href="https://play.google.com/store/apps/collection/promotion_3000f13_best_of_2014?hl=en" target="_blank">Google\'s Best of the Best, 2014</a></div><img src="/images/about/awards.svg"/></div></section><section class="press-release"><img src="/images/about/press-releases.svg"/><div class="text"><h2>{{#_i}}Press Releases{{/_i}}</h2><ul><li><a href="http://duolingo-data.s3.amazonaws.com/s3/press-assets/Duolingo_GoogleCapital.pdf" target="_blank">Google Capital Invests in Duolingo</a></li><li><a href="http://duolingo-data.s3.amazonaws.com/s3/press-assets/Duolingo_ForSchools.pdf" target="_blank">Duolingo Launches Platform for Schools</a></li><li><a href="http://duolingo-data.s3.amazonaws.com/s3/press-assets/Duolingo_TestCenter.pdf" target="_blank">Duolingo Test Center: Fair Language Certification for All</a></li><li><a href="http://duolingo-data.s3.amazonaws.com/s3/press-assets/Duolingo_GlassWear.pdf" target="_blank">Duolingo Launches Hands-Off Apps for Google Glass and Android Wear</a></li><li><a href="http://duolingo-data.s3.amazonaws.com/s3/press-assets/Duolingo_Incubator_Launch.pdf" target="_blank">Duolingo to Launch Crowdsourced Language Courses</a></li></ul></div></section><section class="press-links"><div class="link"><h3>{{#_i}}Press kit{{/_i}}</h3><a class="blue" href="http://www.duolingo.com/design/assets.zip">{{#_i}}Download{{/_i}}<img class="margin-left" src="/images/about/download-icon.svg"/></a></div><div class="link"><h3>{{#_i}}Contact{{/_i}}</h3><a class="blue" href="mailto:press@duolingo.com">press@duolingo.com</a></div><div class="link"><h3>{{#_i}}Platforms{{/_i}}</h3><a class="blue" href="https://duolingo.com">Duolingo.com</a>, <a class="blue" href="//play.google.com/store/apps/details?id=com.duolingo">Android</a>, <a class="blue" href="//itunes.apple.com/app/duolingo-learn-spanish-french/id570060128?mt=8">iOS</a>, &amp; <a class="blue" href="//www.microsoft.com/store/apps/duolingo-learn-languages-for-free/9wzdncrcv5xn">Windows Phone</a></div><div class="link"><h3>{{#_i}}Social media{{/_i}}</h3><a class="blue" href="http://www.facebook.com/duolingo">Facebook</a>, <a class="blue" href="http://www.twitter.com/duolingo">Twitter</a>, <a class="blue" href="http://www.youtube.com/duolingo">YouTube</a>, &amp; <a class="blue" href="http://making.duolingo.com/">Blog</a></div></section></div> '},function(e,t){e.exports='<h1>Privacy Policy</h1><ol class="terms"><li><h3>General</h3> <p>At Duolingo, we know you care about your personal information, so we have prepared this privacy policy (our “Privacy Policy”) to explain how we collect, use and share it. By using or accessing the Service, you agree to the terms of this Privacy Policy. Capitalized terms not defined here have the meanings set forth in the terms and conditions (the “Terms and Conditions”), located at <a href="https://www.duolingo.com/terms">https://www.duolingo.com/terms</a>. We may update our Privacy Policy to reflect changes to our information practices. If we do this and the changes are material, we will post a notice that we have made changes to this Privacy Policy on the Website for at least 7 days after the changes are made, and we will indicate the date these terms were last revised at the bottom of the Privacy Policy. Any revisions to this Privacy Policy will become effective the earlier of (i) the end of that 7-day period or (ii) the first time you access or use the Service after any such changes.</p></li><li><h3>Information We Collect</h3><p>When you use Duolingo you provide us with two types of information: (i) information you submit via the Service and (ii) information regarding your use of the Service collected by us as you interact with the Service.</p><p>When you enter the Website, we collect your browser type and your IP address (a unique address that identifies your computer on the Internet). When you use our mobile Application, we collect your device type, your device ID, and your IP address. In addition, we store certain information from your browser using "cookies." A cookie is a piece of data stored on the user\'s computer tied to information about the user. We use session ID cookies to confirm that users are logged in. If you do not want information collected through the use of cookies, there is a simple procedure in most browsers that allows you to deny or accept the cookie feature; however, you should note that cookies may be necessary to provide you certain features available on the Website (e.g., customized delivery of information).</p><p>Through the registration process you may provide us with your name and email address, hometown, and other information that may be requested during the registration process. If you register for the Test Center, each time you take a test you must also provide a picture or scan of a current, valid driver’s license, passport or other government issued ID and a picture of your face (a “Testing ID”). Your Testing ID will be stored for ninety (90) days after validation to help resolve any disputes.</p><p>When you use the Service you may submit information and content to your profile, generate Activity Data through engaging in educational activities on the Service, or send messages and otherwise transmit information to other users. We store this information so that we can provide you the Service and offer personalized features.</p><p>When you use the Service to take an examination in the Test Center you must provide access to your computer’s webcam and microphone. We will use them to record you during the entire examination period (“Testing Video”). We store this recording to validate that you took the examination without improper assistance. While using the Test Center you will submit answers to questions and other information as part of the testing and evaluation process. We will store that information and use it to evaluate your performance on the test, to report results and to evaluate the usefulness, accuracy and other aspects of the Test Center.</p><p>We do not share your personal information with third-parties unless it is necessary to offer the Service or required by law (see below for specifics).</p></li><li><h3>Use of Information Obtained by Duolingo</h3><p>We may use your contact information to send you notifications regarding new services offered by Duolingo that we think you may find valuable. Duolingo may also send you service-related announcements from time to time through the general operation of the Service. Generally, you may opt out of such emails.</p><p>Profile information is used by Duolingo to be presented back to and edited by you when you access the Service and to be presented to other users. In some cases, other users may be able to supplement your profile, including by submitting comments (which can be deleted by you).</p><p>Duolingo may use or share aggregate or anonymous data collected through the Service, including Activity Data, for purposes such as understanding or improving the service.</p><p>When you take a test in the Test Center, Duolingo will use your Testing ID, and other information available to Duolingo to validate your actual identity so that we may provide accurate testing results to Score Recipients (as defined below). During the test, we will use your PC’s camera and microphone throughout the test to collect a Testing Video. Your User Testing ID will be compared to your Testing Video to ensure that the person who registered for the examination (and whose identity Duolingo has validated) is the same person who took the examination. Testing Video may also be used by our research team for examination validation and improvement purposes.</p></li><li><h3>Sharing Your Personally-Identifiable Information with Third Parties</h3> <p>Duolingo shares your personally-identifiable information only when it is reasonably necessary to offer the Service, legally required, or permitted by you. For example:</p><p>We may provide personally-identifiable information to service providers who help us bring you the Service, such as hosting the Service at a co-location facility or sending email updates. In connection with these operations, our service providers may have access to personally-identifiable information for a limited time. When we utilize service providers for processing any personally-identifiable information, we implement reasonable contractual protections limiting the use of that personally-identifiable information to the provision of services to Duolingo.</p><p>We may be required to disclose personally-identifiable information in response to lawful requests, such as subpoenas or court orders, or in compliance with applicable laws. Additionally, we may share account or other personally-identifiable information when we believe it is necessary to comply with law, to protect our interests or property, to prevent fraud or other illegal activity perpetrated through the Service or using the Duolingo name, or to prevent imminent harm. This may include sharing personally-identifiable information with other companies, lawyers, agents or government agencies.</p><p>Duolingo will share the complete and accurate results of Test Center examinations with such institutions, including universities, potential employers, or other third parties, (collectively, “Score Recipients”) as you specify when you finish an examination. We will never share examination results with any party without your direction, except that anonymized examination results may be used by Duolingo and its partners to improve the examination and for research and analysis. We will not share your Testing ID with any Score Recipients, except with your consent upon initiation of a dispute by a Score Recipient.</p><p>If the ownership of all or substantially all of the Duolingo business, or individual business units or assets owned by Duolingo that are related to the Service, were to change, your personally-identifiable information may be transferred to the new owner. In any such transfer of information, your personally-identifiable information would remain subject to this section.</p></li><li><h3>Updating or Deleting Your Personally-Identifiable Information</h3> <p> You have at all times the right to delete your account with Duolingo by following the instructions available through the Service. After your account is deleted we will retain aggregate or anonymous data collected through the Service, including Activity Data, which may be used by Duolingo and shared with third parties in any manner. Information associated with the Test Center, including examination results and your Testing Video, may be collectively deleted from your Duolingo account, but anonymized examination data, including your examination results and Testing Video, may be kept indefinitely by Duolingo to improve the examination and for research and analysis.</p></li><li><h3>California Privacy Rights</h3> <p> California Civil Code Section 1798.83 entitles residents of the State of California to request from a business, with whom that resident has an established business relationship, certain information regarding the types of personal information the business shares with third parties for direct marketing purposes by such third party and the identities of the third parties with whom the business has shared such information during the immediately preceding calendar year. If you would like to request a copy of this information disclosure from Duolingo, please contact us at testcenter-support@duolingo.com. </p></li><li><h3>Links</h3> <p>The Service may contain links to other websites. We are not responsible for the privacy practices of other websites. We encourage users to be aware when they leave the Service to read the privacy statements of other websites that collect personally identifiable information. This Privacy Policy applies only to information collected by Duolingo via the Service.</p></li><li><h3>Information Security</h3> <p>Duolingo has implemented administrative and technical safeguards it believes are sufficient to protect the confidentiality, integrity and availability of your Testing ID, User Photo, access credentials and Test Center results. However, we believe that a determined attacker with sufficient resources could defeat those safeguards and may, as a result, gain access to the information we seek to protect.</p></li><li><h3>Do Not Track</h3> <p>The Service is not designed to respond to “do not track” signals sent by some browsers.</p></li><li><h3>Contact us</h3> <p>To understand more about our Privacy Policy, access your information, or ask questions about our privacy practices or issue a complaint, please contact us at privacy@duolingo.com </p></li><li style="list-style: none">Last revised on February 15, 2016.</li></ol>'},function(e,t){e.exports='<div id="research" class="about-pages"><section class="research"><h2>{{#_i}}Publications by our staff and about our products{{/_i}}</h2><table class="research-list"><tr><td><a class="blue" href="https://s3.amazonaws.com/duolingo-papers/other/vesselinov-grego.duolingo12.pdf">Duolingo Effectiveness Study</a><p><strong>R. Vesselinov and J. Grego</strong><br/>City University of New York and University of South Carolina, 2012.</p></td><td><a class="blue" href="https://s3.amazonaws.com/duolingo-papers/other/ye.testcenter14.pdf">Validity, Reliability, and Concordance of the Duolingo English Test</a><p><strong>F. Ye</strong><br/>University of Pittsburgh, 2014.</p></td></tr><tr><td><a class="blue" href="https://s3.amazonaws.com/duolingo-papers/publications/settles.acl16.pdf">A Trainable Spaced Repetition Model for Language Learning</a><p><strong>B. Settles and B. Meeder</strong><br/>Proceedings of the Association for Computational Linguistics (ACL), 2016.</p></td><td><a class="blue" href="https://s3.amazonaws.com/duolingo-papers/publications/streeter.edm15.pdf">Mixture Modeling of Individual Learning Curves (Best Paper Award)</a><p><strong>M. Streeter</strong><br/>Proceedings of the International Conference on Educational Data Mining (EDM), 2015.</p></td></tr><tr><td><a class="blue" href="https://s3.amazonaws.com/duolingo-papers/reports/DRR-16-01.pdf">The Duolingo English Test and Academic English</a><p><strong>L. Ishikawa, K. Hall, and B. Settles</strong><br/>Duolingo Research Report DRR-16-01, 2016.</p></td><td><a class="blue" href="https://s3.amazonaws.com/duolingo-papers/reports/DRR-15-01.pdf">The Duolingo Certificate of English and East Africa: Preliminary Linking Results with IELTS and CEFR</a><p><strong>M. Bézy and B. Settles</strong><br/>Duolingo Research Report DRR-15-01, 2015.</p></td></tr></table></section></div> '},function(e,t,i){e.exports='<main class="main-center about-us"><section class="page-main"><div class="about-banner hidden"><h1>{{#_i}}About us{{/_i}}</h1><img class="skyline" src="/images/about/banner.svg"/><ul class="tabs big nav-tabs"><li data-tab="info_tab"><a href="/info">{{#_i}}Manifesto{{/_i}}</a></li><li data-tab="team_tab"><a href="/team">{{#_i}}Team{{/_i}}</a></li><li data-tab="jobs_tab"><a href="/jobs">{{#_i}}Jobs{{/_i}}</a></li><li data-tab="research_tab"><a href="/research">{{#_i}}Research{{/_i}}</a></li><li data-tab="press_tab"><a href="/press">{{#_i}}Press{{/_i}}</a></li><li data-tab="contact_tab"><a href="/contact">{{#_i}}Contact us{{/_i}}</a></li></ul></div><div class="mobile-banner hidden"><h1>{{#_i}}Duolingo on the go{{/_i}}</h1></div><div id=\'tab-container\'></div></section>{{^logged_in}}<footer id="footer-sitemap" />{{/logged_in}}{{#logged_in}}'+i(12)+"{{/logged_in}}</main> "},function(e,t){e.exports='<div id="team" class="about-pages"><section class="pie-chart"><h2>{{#_i}}Different jobs, one goal.{{/_i}}</h2><div class="center"><img class="chart" src="/images/about/team-chart.svg"/><ul class="team-list"><li class="blue"><span class="dot"></span>{{#_i}}Engineering{{/_i}}</li><li class="dark-blue"><span class="dot"></span>{{#_i}}Design{{/_i}}</li><li class="red"><span class="dot"></span>{{#_i}}Operations{{/_i}}</li><li class="gold"><span class="dot"></span>{{#_i}}Community{{/_i}}</li><li class="green"><span class="dot"></span>{{#_i}}Marketing{{/_i}}</li><li class="teal"><span class="dot"></span>{{#_i}}Sales{{/_i}}</li><li class="gray"><span class="dot"></span>{{#_i}}Leadership{{/_i}}</li><li class="purple"><span class="dot"></span>{{#_i}}Research{{/_i}}</li><li class="black"><span class="dot"></span>{{#_i}}Product{{/_i}}</li></ul></div></section><section class="map"><h2>{{#_i}}We come from <b>20</b> countries.{{/_i}}</h2><div class="row"><img class="map-img" src="/images/about/map.svg"/></div></section><section class="diversity"><h2>{{#_i}}Diversity matters here.{{/_i}}</h2><div class="female"><span class="number">{{#_i}}36%{{/_i}}</span>{{#_i}}female{{/_i}}</div><div class="male"><span class="number">{{#_i}}64%{{/_i}}</span>{{#_i}}male{{/_i}}</div><img class="diversity-img" src="/images/about/diversity-ch.svg"/></section><section class="playtime"><h2>{{#_i}}We take playtime seriously.{{/_i}}</h2><div class="game-stats"><span class="number">120</span>{{#_i}}game nights{{/_i}}</div><div class="game-stats"><span class="number">3000</span>{{#_i}}foosball matches{{/_i}}</div><div class="game-stats"><span class="number">600</span>{{#_i}}pool games{{/_i}}</div></section><section class="devices"><h2>{{#_i}}We empathize with all our learners.{{/_i}}</h2><p>{{#_i}}We test on devices of all sizes and connection speeds.{{/_i}}</p><img class="devices-img" src="/images/about/devices.svg"/></section><section class="hours"><h2>{{#_i}}Our hours are flexible.{{/_i}}</h2><div class="hour-stats"><span class="number">{{#_i}}40%{{/_i}}</span>{{#_i}}morning larks{{/_i}}</div><div class="hour-stats"><span class="number">{{#_i}}60%{{/_i}}</span>{{#_i}}night owls{{/_i}}</div></section></div>'},function(e,t){e.exports='<h1>Terms and Conditions of Service</h1><ol class="terms"><li><h2>General</h2> <p>The Duolingo website (“Website”) and mobile application (“App”) and related services (together with the Website, the “Service”), including our language proficiency testing services (the “Test Center”) are operated by Duolingo, Inc. (“Duolingo,” “us,” or “we”). Access and use of the Service is subject to the following Terms and Conditions of Service (“Terms and Conditions”). By accessing or using any part of the Service, you represent that you have read, understood, and agree to be bound by these Terms and Conditions including any future modifications. Duolingo may amend, update or change these Terms and Conditions. If we do this, we will post a notice that we have made changes to these Terms and Conditions on the Website for at least 7 days after the changes are posted and will indicate at the bottom of the Terms and Conditions the date these terms were last revised. Any revisions to these Terms and Conditions will become effective the earlier of (i) the end of such 7-day period or (ii) the first time you access or use the Service after such changes. If you do not agree to abide by these Terms and Conditions, you are not authorized to use, access or participate in the Service.</p></li><li><h2>Description of Website and Service</h2> <p>The Service allows users to (i) learn or practice a language while they translate content from the Web and elsewhere, (ii) submit material for translation by other users, and in some cases (iii) in some cases submit translated language courses or new language courses, and, when properly registered, (iv) take examinations in the Test Center. Users interested in learning or practicing a language are presented with different types of educational activities; while they perform these activities, they also generate valuable data such as translations of Web content. In some cases, the content you translate will have been submitted by a customer of Duolingo’s for translation. Your translation work will be used in combination with the work of others to complete that translation for which Duolingo may receive a fee or other consideration. Users interested in submitting material for translation, or submitting translated material or courses, may do so only if they comply with requirements set forth in these Terms and Conditions concerning the material submitted and use of the translation. Users who register with the Test Center may take examinations to test their language proficiency. Duolingo may, in its sole discretion and at any time, update, change, suspend, make improvements to or discontinue any aspect of the Service, temporarily or permanently.</p></li><li><h2>Registration; Submission of Material for Translation; Course Contributor Submissions</h2><p>In connection with registering for and using the Service, you agree (i) to provide accurate, current and complete information about you and/or your organization as requested by Duolingo; (ii) to maintain the confidentiality of your password and other information related to the security of your account; (iii) to maintain and promptly update any registration information you provide to Duolingo, to keep such information accurate, current and complete; and (iv) to be fully responsible for all use of your account and for any actions that take place through your account.</p><p>Any material you submit for translation (“Translation Material”) must be your original work or material owned by you. You will not submit any other type of material as Translation Material. The Service is not intended to be used to translate confidential or sensitive documents or personal information and you agree not to submit Translation Material that includes any such information. By submitting Translation Material to the Service, you grant us a fully paid up, worldwide license to use the Translation Material in connection with the operation of the Service and agree that, among other things, this license will allow us to (i) create and use translations that are derivative works of the material, (ii) disclose part or all of the Translation Material and any translations to one or more users of the Service in connection with their use of the Services and (iii) make the Translation Material and any translations available on the Service as a teaching tool, to promote the service or for other purposes in connection with our operation of the Service. This means that all or part of your Translation Material and any translations may be indexed and available on search engines such as Google and Bing. You understand that other users will have access to Translation Material and that neither they or Duolingo have any obligation to you or anyone else to maintain the confidentiality of Translation Material. If we are able to complete a translation of any Translation Material you submit, we will provide you with a copy of the translation. As between us and you, you will own the copyright in any derivative work we create that is a translation of Translation Material you submit provided that you do not make or permit any commercial use of the translation. If you wish to make or permit commercial use of a translation, please contact us. You must have a separate agreement with us that expressly authorizes any commercial use of any translation produced by the Service before any such use occurs. </p><p>If you delete any Translation Material you submit from the Service we will in turn delete any translation tasks in progress and completed translations in the normal course of our operations. This may take up to thirty (30) days.</p><p>If you are or become a Course Contributor, you may offer to translate or have translated certain existing courses into other languages and you may offer to contribute new courses to the Service, as agreed between you and Duolingo on a case-by-case basis. Subject to any guidelines posted on the Service, you may perform any such translations or create any such courses in accordance with your own schedule and using your own facilities and resources. You are not required to become a Course Contributor and you may cease your activities as a Course Contributor at any time. You acknowledge that you do not desire and will not receive compensation for your activities as a Course Contributor or for our use of any Course Contributor Materials (as defined below) you submit. Any translation of an existing Duolingo course you submit or have submitted and any new language course you submit or have submitted as a Course Contributor (collectively, “Course Contributor Materials”) are owned by you (subject of course to us retaining ownership of the existing Duolingo course you translated). By submitting any Course Contributor Material, you grant us a fully paid up, royalty-free, perpetual, sublicensable license to reproduce, display, perform, modify, create derivative works of, distribute and otherwise use such Course Contributor Material in any manner.</p></li><li><h2>Your Representations and Warranties</h2> <p>You represent and warrant to Duolingo that your access and use of the Service will be in accordance with these Terms and Conditions and with all applicable laws, rules and regulations of the United States and any other relevant jurisdiction, including those regarding online conduct or acceptable content, and those regarding the transmission of data or information exported from the United States and/or the jurisdiction in which you reside. You further represent and warrant that you have created or own any material you submit via the Service (including Translation Materials, Course Contributor Materials, and Activity Materials) and that you have the right, as applicable, to grant us a license to use that material as set forth above or the right to assign that material to us as set forth below. If you register with the Test Center, you further represent and warrant that the identification materials you submit to Duolingo are true and accurate representations of legal identification documents, issued to you by a government entity in accordance with local laws, and that you are registering for the Test Center for the express purpose of taking a language examination. You further represent and warrant that you will carefully safeguard your password, user name, and account information, will not share your password or user name with any third party, and will not allow any third party to access your Test Center account for any purpose.</p></li><li><h2>Inappropriate Use</h2> <p>You will not upload, display or otherwise provide on or through the Service any content that: (i) is libelous, defamatory, abusive, threatening, harassing, hateful, offensive or otherwise violates any law or infringes upon the right of any third party (including copyright, trademark, privacy, publicity or other personal or proprietary rights); or (ii) in Duolingo’s sole judgment, is objectionable or which restricts or inhibits any other person from using the Service or which may expose Duolingo or its users to any harm or liability of any kind. You will not use the Test Center to collect information about our testing process or to develop strategy, guides or other testing preparation material or a similar testing service. </p></li><li><h2>Indemnification of Duolingo</h2><p>You agree to defend, indemnify and hold harmless Duolingo and its directors, officers, employees, contractors, agents, suppliers, licensors, successors and assigns, from and against any and all losses, claims, causes of action, obligations, liabilities and damages whatsoever, including attorneys\' fees, arising out of or relating to your access or use of the Service, any false representation made to us (as part of these Terms and Conditions or otherwise), your breach of any of these Terms and Conditions,or any claim that any translation we provide to you is inaccurate, inappropriate or defective in any way whatsoever. </p></li><li><h2>App License</h2><p> Subject to the terms of these Terms and Conditions, Duolingo grants you a non-transferable, non-exclusive license to download, install, and use one copy of the App in object code form only on an interactive wireless device that you own or control. You may not derive or attempt to derive the source code of all or any portion of the App, permit any third party to derive or attempt to derive such source code, or reverse engineer, decompile, disassemble, or translate the App or any part thereof. Duolingo and its licensors own and shall retain all intellectual property rights and other rights in and to the App, and any changes, modifications, or corrections thereto. The following terms and conditions apply to you only if you are using the App from the Apple App Store. To the extent the other terms and conditions of these Terms and Conditions are less restrictive than, or otherwise conflict with, the terms and conditions of this paragraph, the more restrictive or conflicting terms and conditions in this paragraph apply, but solely with respect to Apps from the Apple App Store. You acknowledge and agree that these Terms and Conditions are solely between you and Duolingo, not Apple, and that Apple has no responsibility for the App or content thereof. Your use of the App must comply with the App Store Terms of Service. You acknowledge that Apple has no obligation whatsoever to furnish any maintenance and support services with respect to the App. In the event of any failure of the App to conform to any applicable warranty, you may notify Apple, and Apple will refund the purchase price, if any, for the App to you; to the maximum extent permitted by applicable law, Apple will have no other warranty obligation whatsoever with respect to the App, and any other claims, losses, liabilities, damages, costs or expenses attributable to any failure to conform to any warranty will be solely governed by these Terms and Conditions. You and Duolingo acknowledge that Apple is not responsible for addressing any claims of you or any third party relating to the App or your possession and/or use of the App, including, but not limited to: (i) product liability claims; (ii) any claim that the App fails to conform to any applicable legal or regulatory requirement; and (iii) claims arising under consumer protection or similar legislation. You and Duolingo acknowledge that, in the event of any third-party claim that the App or your possession and use of that App infringes that third party’s intellectual property rights, Duolingo, not Apple, will be solely responsible for the investigation, defense, settlement and discharge of any such intellectual property infringement claim to the extent required by these Terms and Conditions. You must comply with applicable third party terms of agreement when using the App. You and Duolingo acknowledge and agree that Apple, and Apple’s subsidiaries, are third party beneficiaries of these Terms and Conditions as they relate to your license of the App, and that, upon your acceptance of these Terms and Conditions, Apple will have the right (and will be deemed to have accepted the right) to enforce these Terms and Conditions against you as a third party beneficiary thereof. </p></li><li><h2>Refund Policy</h2><p> In the event of a Test Issue, Duolingo will, at its option, either (a) provide the user with a refund for the affected test, or (b) use reasonable efforts to resolve the Test Issue. For purposes of this Section, “Test Issue” means: (i) the inability to complete the test due to a failure in the Website or the App, or (ii) Test results are delivered more than 48 hours after the test is completed. Whether an issue constitutes a Test Issue will be determined by Duolingo in its reasonable discretion. The amount of any refund will depend on the nature of the Test Issue and will not exceed the total amount actually paid by the user for the affected test. To submit a valid claim for a refund, a user must (a) submit the Test Issue in writing to Duolingo within 24 hours after the Test Issue occurs, and respond to Duolingo’s requests for information or cooperation, (b) not have directly or indirectly caused the Test Issue, and (c) have met all test requirements when taking the test prior to making a claim for a Test Issue. </p></li><li><h2>NO REPRESENTATIONS OR WARRANTIES BY DUOLINGO</h2><p> THE SERVICE, INCLUDING ALL IMAGES, AUDIO FILES AND OTHER CONTENT THEREIN, AND ANY OTHER INFORMATION, PROPERTY AND RIGHTS GRANTED OR PROVIDED TO YOU BY DUOLINGO ARE PROVIDED TO YOU ON AN “AS IS” BASIS. DUOLINGO AND ITS SUPPLIERS MAKE NO REPRESENTATIONS OR WARRANTIES OF ANY KIND WITH RESPECT TO THE SERVICE, EITHER EXPRESS OR IMPLIED, AND ALL SUCH REPRESENTATIONS AND WARRANTIES, INCLUDING WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE OR NON-INFRINGEMENT, ARE EXPRESSLY DISCLAIMED. WITHOUT LIMITING THE GENERALITY OF THE FOREGOING, DUOLINGO DOES NOT MAKE ANY REPRESENTATION OR WARRANTY OF ANY KIND RELATING TO ACCURACY, SERVICE AVAILABILITY, COMPLETENESS, INFORMATIONAL CONTENT, ERROR-FREE OPERATION, RESULTS TO BE OBTAINED FROM USE, OR NON-INFRINGEMENT. ACCESS AND USE OF THE SERVICE MAY BE UNAVAILABLE DURING PERIODS OF PEAK DEMAND, SYSTEM UPGRADES, MALFUNCTIONS OR SCHEDULED OR UNSCHEDULED MAINTENANCE OR FOR OTHER REASONS. SOME JURISDICTIONS DO NOT ALLOW THE EXCLUSION OF IMPLIED WARRANTIES, SO THE ABOVE EXCLUSION MAY NOT APPLY TO YOU.</p> </li><li><h2>LIMITATION ON TYPES OF DAMAGES/LIMITATION OF LIABILITY</h2> <p>IN NO EVENT WILL DUOLINGO BE LIABLE TO YOU OR ANY THIRD PARTY CLAIMING THROUGH YOU (WHETHER BASED IN CONTRACT, TORT, STRICT LIABILITY OR OTHER THEORY) FOR INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL OR EXEMPLARY DAMAGES ARISING OUT OF OR RELATING TO THE ACCESS OR USE OF, OR THE INABILITY TO ACCESS OR USE, THE SERVICE OR ANY PORTION THEREOF, INCLUDING BUT NOT LIMITED TO THE LOSS OF USE OF THE SERVICE, INACCURATE RESULTS, LOSS OF PROFITS, BUSINESS INTERRUPTION, OR DAMAGES STEMMING FROM LOSS OR CORRUPTION OF DATA OR DATA BEING RENDERED INACCURATE, THE COST OF RECOVERING ANY DATA, THE COST OF SUBSTITUTE SERVICES OR CLAIMS BY THIRD PARTIES FOR ANY DAMAGE TO COMPUTERS, SOFTWARE, MODEMS, TELEPHONES OR OTHER PROPERTY, EVEN IF DUOLINGO HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES. DUOLINGO’S LIABILITY TO YOU OR ANY THIRD PARTY CLAIMING THROUGH YOU FOR ANY CAUSE WHATSOEVER, AND REGARDLESS OF THE FORM OF THE ACTION, IS LIMITED TO THE AMOUNT PAID, IF ANY, BY YOU TO DUOLINGO FOR THE SERVICE IN THE 12 MONTHS PRIOR TO THE INITIAL ACTION GIVING RISE TO LIABILITY. THIS IS AN AGGREGATE LIMIT. THE EXISTENCE OF MORE THAN ONE CLAIM HEREUNDER WILL NOT INCREASE THIS LIMIT.</p> </li><li><h2>Termination</h2><p>Duolingo may terminate your access and use of the Service immediately at any time, for any reason, and at such time you will have no further right to use the Service. You may terminate your Duolingo account at any time by following the instructions available through the Service. The provisions of these Terms and Conditions relating to the protection and enforcement of Duolingo’s proprietary rights, your representations and warranties, disclaimer of representations and warranties, release and indemnities, limitations of liability and types of damages, ownership of data and information, governing law and venue, and miscellaneous provisions shall survive any such termination.</p> </li><li><h2>Proprietary Rights in Service Content and Activity Materials</h2><p>All content available through the Service, including designs, text, graphics, images, information, software, audio and other files, and their selection and arrangement (the "Service Content"), are the proprietary property of Duolingo or its licensors. No Service Content may be modified, copied, distributed, framed, reproduced, republished, downloaded, scraped, displayed, posted, transmitted, or sold in any form or by any means, in whole or in part, other than as expressly permitted in these Terms and Conditions. You may not use any data mining, robots, scraping or similar data gathering or extraction methods to obtain Service Content. As between you and Duolingo, all data, information and materials generated from your access and use of the educational activities made available on or through the Service, including translated content generated by you (collectively, the “Activity Materials”), shall be exclusively owned by Duolingo, and you shall not have any right to use such Activity Materials except as expressly authorized by these Terms and Conditions. Activity Materials will not include Translation Materials. By using the Service, you hereby assign to Duolingo any and all rights, title and interest, including any intellectual property rights or proprietary rights, in the Activity Materials. All rights of Duolingo or its licensors that are not expressly granted in these Terms and Conditions are reserved to Duolingo and its licensors. </p> </li><li><h2>Trademarks</h2> <p>“Duolingo” and all other trademarks, service marks, graphics and logos used in connection with the Service are trademarks or service marks of Duolingo or their respective owners, and certain of them are registered with the United States Patent and Trademark Office. Access and use of the Service does not grant or provide you with the right or license to reproduce or otherwise use the Duolingo name or any Duolingo or third-party trademarks, service marks, graphics or logos.</p></li><li><h2>Privacy</h2> <p>Use of the Service is also governed by our Privacy Policy, a copy of which is located at <a href="https://www.duolingo.com/privacy">https://www.duolingo.com/privacy</a>. By using the Service, you consent to the terms of the Privacy Policy. </p></li><li><h2>Notice for Claims of Copyright Violations and Agent for Notice</h2><p>If you are a copyright owner and have a good faith belief that any material available through the service infringes upon your copyrights, you may submit a copyright infringement notification to Duolingo pursuant to the Digital Millennium Copyright Act by providing us with the following information in writing:</p><ul class="standard-list" style="margin-bottom: 20px;"><li>an electronic or physical signature of the copyright owner or the person authorized to act on behalf of the owner of the copyright interest;</li><li>a description of the copyrighted work that you claim has been infringed;</li><li>a description of where the material that you claim is infringing is located on the Service, with enough detail that we may find it on the Service;</li><li>your address, telephone number, and email address;</li><li>a statement by you that you have a good faith belief that the disputed use is not authorized by the copyright owner, its agent, or the law; and</li><li>a statement by you, made under penalty of perjury, that the above information in your notice is accurate and that you are the copyright owner or are authorized to act on the copyright owner\'s behalf.</li></ul><p>Please consult your legal counsel for further details or see 17 U.S.C. §512(c)(3). Duolingo’s Agent for Notice of claims of copyright infringement can be reached as follows:</p><ul><li>By mail: 5900 Penn Avenue, Pittsburgh PA 15206, USA</li><li>By email: <a href="mailto:abuse@duolingo.com">abuse@duolingo.com</a></li></ul></li><li><h2>Governing Law and Arbitration</h2> <p>These Terms and Conditions, its subject matter and Duolingo’s and your respective rights under these Terms and Conditions shall be governed by and construed under the laws of the Commonwealth of Pennsylvania, United States of America, excluding the conflict of law provisions of that or any other jurisdiction. Any dispute arising between you and Duolingo will be resolved by binding arbitration. The arbitration shall be conducted by a single arbitrator in the County of Allegheny in the Commonwealth of Pennsylvania. Unless otherwise expressly required by applicable law, each party shall bear its own attorneys’ fees without regard to which party is deemed the prevailing party in the arbitration proceeding. </p></li><li><h2>Language</h2> <p>This agreement was originally written in English (US). To the extent any translated version of this agreement conflicts with the English version, the English version controls. </p></li><li><h2>Miscellaneous</h2> <p>These Terms and Conditions constitute the entire agreement between Duolingo and you concerning the subject matter hereof. In the event that any of the Terms and Conditions are held by a court or other tribunal of competent jurisdiction to be unenforceable, such provisions shall be limited or eliminated to the minimum extent necessary so that these Terms and Conditions shall otherwise remain in full force and effect. A waiver by Duolingo or you of any provision of these Terms and Conditions or any breach thereof, in any one instance, will not waive such term or condition or any subsequent breach thereof. Duolingo may assign its rights or obligations under these Terms and Conditions without condition. These Terms and Conditions will be binding upon and will inure to the benefit of Duolingo and you, and Duolingo’s and your respective successors and permitted assigns. </p></li><li><h2>Temporary Restrictions on Users from the European Union</h2> <p>Users within the European Union are not presently allowed to submit materials for translation or translated materials to Duolingo. While these users can continue to use the educational services offered through the Website, they will not be involved in the translation of any documents. If you submit a request for translation or translated materials to Duolingo, you thereby warrant and represent that you are not currently within the European Union, did not translate the document within the European Union, and will not be within the European Union when your translation request has been finalized. </p></li><li style="list-style: none;">Last revised on February 15th, 2016</li></ol> ';
},function(e,t){e.exports='<div class="unsupported-browsers-container"><div class="unsupported-browsers"><h1>{{#_i}}Did you know that your browser is out of date?{{/_i}}</h1><p>{{#_i}}Your browser is out of date and no longer compatible with the new Duolingo. A list of the most popular web browsers can be found below. Just click on the icons to go to their download page.{{/_i}}</p><div class="list-browser"><div class="item"><a href="http://www.microsoft.com/windows/Internet-explorer" target="_blank"><span class="browser-icon icon-ie"></span><span class="name">Internet Explorer</span></a></div><div class="item"><a href="http://www.google.com/chrome" target="_blank"><span class="browser-icon icon-chrome"></span><span class="name">Google Chrome</span></a></div><div class="item"><a href="http://www.mozilla.com/firefox/" target="_blank"><span class="browser-icon icon-ff"></span><span class="name">Mozilla Firefox</span></a></div></div></div></div> '},function(e,t,i){e.exports='<main class="main-right"><section class="page-sidebar sidebar-left"><div class="inner"><div class="box-gray">{{#enabled_groups_experiment}}{{#true_groups_experiment}}<div id="ranking"</div>{{/true_groups_experiment}}{{^true_groups_experiment}}<div id="friends"</div>{{/true_groups_experiment}}{{/enabled_groups_experiment}}{{^enabled_groups_experiment}}<div id="friends"</div>{{/enabled_groups_experiment}}</div></div></section><section class="page-main main-right"><h1>{{#_i}}Activity{{/_i}}</h1><ul class="activity-stream" style="margin-left: 140px;"><li id="no-friends" class="list-leaderboard-item">'+i(25)+'<h5 style="margin-bottom: 5px;">{{#_i}}You’re alone, {{username}}!{{/_i}}</h5><p class="gray" style="margin: 0;">{{#_i}}Add some friends to see their activity.{{/_i}}</p></li></ul><div id="stream-container" class="stream-container"></div></section>'+i(12)+"</main> "},function(e,t){e.exports="{{#view_original}}{{#no_sentence_selected}}<h1>{{#_i}}Click a sentence to help translate it{{/_i}}</h1>{{/no_sentence_selected}}{{#untranslated_sentence_selected}}<h1>{{#_i}}Translate this sentence and get {{num_points_for_original_translation}} {{#pluralize}}XP,XP,{{num_points_for_original_translation}}{{/pluralize}}{{/_i}}</h1>{{/untranslated_sentence_selected}}{{#translated_sentence_selected}}<h1>{{#_i}}Rate or edit this translation{{/_i}}</h1>{{/translated_sentence_selected}}{{#translation_from_self_selected}}<h1>{{#_i}}Thank you for your translation!{{/_i}}</h1>{{/translation_from_self_selected}}{{/view_original}} "},function(e,t){e.exports='{{#no_sentence_selected}}<div class="instructions"><ul id="document-sidebar-tabs" class="tabs nav-tabs"><li id="show-legend" {{^show_contributors}}class="active"{{/show_contributors}}><a href="javascript:;">{{#_i}}Legend{{/_i}}</a></li><li id="show-translators" {{#show_contributors}}class="active"{{/show_contributors}}><a href="javascript:;">{{#_i}}Contributors{{/_i}}</a></li></ul><div id="document-info" {{#show_contributors}}class="hidden"{{/show_contributors}}><ul class="document-info color-key-list"><li><span class="legend-circle not-yet-translated">{{#_i}}Aa{{/_i}}</span><span class="legend-text">{{#_i}}Not yet translated{{/_i}}</span><li><span class="legend-circle needs-checking">{{#_i}}Aa{{/_i}}</span><span class="legend-text">{{#_i}}Translation needs checking{{/_i}}</span><li><span class="legend-circle checked-by-community">{{#_i}}Aa{{/_i}}</span><span class="legend-text">{{#_i}}Checked by the community{{/_i}}</span><li><span class="legend-circle checked-by-user">{{#_i}}Aa{{/_i}}</span><span class="legend-text">{{#_i}}Translated or checked by you{{/_i}}</span></ul><ul class="document-info-list">{{#document_url}}<li><a href="{{document_url}}" class="username" target="_blank"> <span class="icon icon-link"></span><span class="label">{{display_url}}/...</a></span></li>{{/document_url}}{{#user_can_download_translation}}<li><a href="/translate_jobs/{{translate_job_id}}/export{{#export_args}}?{{export_args}}{{/export_args}}" data-bypass class="download-article"><span class="icon icon-download"></span><span class="label">{{#_i}}Download current translation{{/_i}}</span></a></li>{{/user_can_download_translation}}{{#user_reported_inappropriate}}<li><span class="reported-article">{{#_i}}You have reported this article.{{/_i}}</span></li>{{/user_reported_inappropriate}}{{^user_reported_inappropriate}}{{^paid_translation}}<li><a href="javascript:;" id="report-inappropriate" class="report-article"><span class="icon icon-flag-micro"></span><span class="label">{{#_i}}Report article{{/_i}}</span></a></li>{{/paid_translation}}{{/user_reported_inappropriate}}<li><a href="javascript:;" class="show-shortcuts"><span class="icon icon-keyboard"></span><span class="label">{{#_i}}Keyboard shortcuts{{/_i}}</span></a></li>{{#user_can_disable_translation}}<li>{{^translation_disabled}}<a href="javascript:;" id="disable-translation" class="remove-article"><span class="label">{{#_i}}Remove article{{/_i}}</a></span>{{/translation_disabled}}{{#translation_disabled}}<a href="javascript:;" id="enable-translation" class="remove-article"><span class="label">{{#_i}}Re-enable article{{/_i}}</span></a>{{/translation_disabled}}</li>{{/user_can_disable_translation}}</ul></div><div id="translation-contributors" {{^show_contributors}}class="hidden"{{/show_contributors}}></div></div>{{/no_sentence_selected}} '},function(e,t){e.exports='<div class="translators-list"><ul class="avatar-grid">{{#translators}}<li><a href="http://www.duolingo.com/{{username}}" target="_blank" class="avatar avatar-small translation-contributor-avatar {{#default}}default-avatar{{/default}}" data-toggle="tooltip" title="{{username}}">{{#default}}<img src="https://duolingo-images.s3.amazonaws.com/avatar/default_2/medium"/>{{/default}}{{^default}}<img src="http://www.duolingo.com/avatars/{{user_id}}/medium"/>{{/default}}<span class="ring"></span></a></li>{{/translators}}</ul>{{^translators}}<div class="no-translators">{{#_i}}No one has translated this article yet. Be the first to contribute!{{/_i}}</div>{{/translators}}</div> '},function(e,t){e.exports='<main class="main-left"><section class="page-sidebar sidebar-right"><div class="inner"><div class="box-gray"><h2>{{#_i}}How does it work?{{/_i}}</h2><p>{{#_i}}You upload a document and language learners interact with it on Duolingo to translate it to the required language. It’s fast and accurate.{{/_i}}</p><div class="owl owl-standard owl-small"></div></div></div></section><section class="page-main main-left"><ul class="nav-tabs upload-tabs"><li class="type-step change-step active" data-tab="type" data-index=1 id="type"><a href="javascript:;">{{#_i}}Type{{/_i}}</a></li><li class="inactive change-step input-step" data-tab="input" data-index=2 id="input"><a href="javascript:;">{{#_i}}Upload{{/_i}}</a></li><li class="inactive change-step prev-step" data-tab="prev" data-index=3 id="prev"><a href="javascript:;">{{#_i}}Preview{{/_i}}</a></li></ul><div id="type-step" class="panel"></div><div id="input-step" class="panel"></div><div id="prev-step" class="panel"></div></section></main> '},function(e,t){e.exports='<li class="list-document-item"><div class="list-document-item-right" data-toggle="popover" data-popover="#popover2-{{uniquifier}}"><div class="document-progress-bar"><div class="bar" style="width: {{percent_high_quality}}%;"></div><div class="bar-started" style="width: {{percent_sents_started}}%; "></div></div>{{#_i}}<strong>{{num_sents_done}}/{{num_sents_total}}</strong> done{{/_i}}</div><div id="popover2-{{uniquifier}}" class="popover right"><div class="arrow-left-container"><div class="arrow"></div></div><div class="inner"><div class="content" style="padding: 10px;"><ul class="pie-dot-list"><li><span class="pie-dot checked-by-community"></span>{{#_i}}<strong>{{percent_high_quality}}%</strong> of sentences translated and checked.{{/_i}}</li><li><span class="pie-dot needs-checking"></span>{{#_i}}<strong>{{percent_low_quality}}%</strong> have a translation that needs checking.{{/_i}}</li></ul></div></div></div><a href="/translation/{{id}}">{{#document}}{{#preview_image}}<div class="immersion-teaser-image" style="background-image: url( \'{{preview_image}}\')"></div>{{/preview_image}}{{^preview_image}}<div class="immersion-teaser-image owl-default"></div>{{/preview_image}}{{/document}}</a><header class="list-document-item-header"><a href="/translation/{{id}}" {{#translated_title}}data-toggle="tooltip" title="{{cur_translation}}"{{/translated_title}}>{{#document}}{{title}}{{/document}}</a>{{#commercial}}&nbsp;<span class="sponsored">{{#_i}}Sponsored{{/_i}}</span>{{/commercial}}</header>{{#snippet}}<div class="immersion-snippet"> &hellip;{{{snippet}}}&hellip; </div>{{/snippet}}<footer class="list-document-item-footer"><div class="vote-module-small"><div class="vote-count {{#user_upvoted}}active-upvoted{{/user_upvoted}} {{#user_downvoted}}active-downvoted{{/user_downvoted}}">{{votes}}</div>{{#logged_in}}<button class="btn btn-custom vote-up" data-doc="{{id}}"><span class="icon icon-vote-up-small {{#user_upvoted}}active{{/user_upvoted}}"></span></button><button class="btn btn-custom vote-down" data-doc="{{id}}"><span class="icon icon-vote-down-small {{#user_downvoted}}active{{/user_downvoted}}"></span></button>{{/logged_in}}</div><span class="list-document-item-category">{{#_i}}Category:{{/_i}} {{#document}}{{#_ivaru}}category{{/_ivaru}}{{/document}}</span><span class="list-document-item-poster">{{#_i}}Posted by:{{/_i}} {{#uploader}}{{#_i}}{{username}}{{/_i}}{{/uploader}}</span></footer></li>'},function(e,t){e.exports='<ul class="ranked-translations list-documents"></ul>{{^translations}}{{#all_shown}}<div class="no-docs-message">{{#_i}}Looks like you haven\'t uploaded anything yet!{{/_i}}</div>{{/all_shown}}{{^all_shown}}<div class="no-docs-message">{{#_i}}No matching documents, try adjusting your search criteria!{{/_i}}</div>{{/all_shown}}{{/translations}}{{#more}}{{#has_translations}}<img class="translations-spinner" src="/images/medium-loader.gif">{{/has_translations}}{{/more}} '},function(e,t,i){e.exports='<main class="main-right"><div id="persistent-notifications"></div><section class="page-sidebar sidebar-left"><div class="inner">{{#user_reputation}}{{^trial_account}}<div class="translator-stats box-colored bg-white"><h2>{{#_i}}Your translation tier{{/_i}}<span class="right">{{tier}}</span><span class="translator-tier-flag right"><span class="double-flag-source flag flag-svg-small flag-{{source_language}}"></span><span class="double-flag-target flag flag-svg-small flag-{{target_language}}"></span></span></h2><ul class="document-info"><li><span class="looks-good"></span>{{#_i}}{{#pluralize}}Upvote,Upvotes,{{peer_upvotes}}{{/pluralize}} from peers{{/_i}}<div class="translator-stats-numbers">{{peer_upvotes}}</div></li><li><span class="looks-wrong"></span>{{#_i}}{{#pluralize}}Downvote,Downvotes,{{peer_downvotes}}{{/pluralize}}{{/_i}}<div class="translator-stats-numbers">{{peer_downvotes}}</div></li><li class="show-votes"><a href="javascript:;" id ="show-upvotes">{{#_i}}(Show votes){{/_i}}</a>{{#have_votes}}<div class="upvotes-percentage {{#below_threshold}}under{{/below_threshold}}">{{percent_positive}}%<span id="percent"><br>{{#_i}}positive{{/_i}}</span></div>{{/have_votes}}</li></ul><div class="sidebar-progress" style="{{#current_user}}{{^show_practice}}margin-bottom: 0;{{/show_practice}}{{/current_user}}"><a href="javascript:;" id="explain-translator-tiers">{{#_i}}Progress towards next tier:{{/_i}}<span class="question-mark">?</span></a><div class="sidebar-progress-main"><div class="language-progress-bar-small" data-toggle="tooltip" title="{{#peer_upvotes}}{{#_i}}{{peer_upvotes}}/100 upvotes, {{percent_positive}}% positive{{/_i}}{{/peer_upvotes}}{{^peer_upvotes}}{{#_i}}No upvotes yet!{{/_i}}{{/peer_upvotes}}"><div class="padder"><div class="bar" style="width: {{new_progress_percent}}%;"></div></div><span class="level level-current">{{tier}}</span><span class="level level-next">{{next_tier}}</span></div></div></div></div>{{/trial_account}}{{/user_reputation}}<div class="box-gray">{{#filters}}<h2>{{#_ivar}}name{{/_ivar}}</h2><ul class="list-checkable" id="{{id}}">{{#options}}<li class="{{#preferred}}checked{{/preferred}}"><input class="border" type="checkbox" {{#preferred}}checked{{/preferred}} id="{{id}}" value="{{id}}"><label for="{{id}}">{{#_ivar}}label{{/_ivar}}</label></li>{{/options}}</ul>{{/filters}}<h2>{{#_i}}Categories{{/_i}}</h2><ul class="list-checkable" id="categories" style="margin: 0;"><li><input type="checkbox" class="border" value="all" id="all-categories"><label for="all-categories">{{#_i}}All{{/_i}}</label><div class="num-documents">{{total_documents}}</div></li>{{#categories}}<li class="category-option {{#preferred}}checked{{/preferred}}"><input type="checkbox" class="border category-checkbox" {{#preferred}}checked{{/preferred}} id="{{id}}" value="{{id}}"><label for="{{id}}">{{#_ivaru}}label{{/_ivaru}}</label><div class="num-documents">{{num_documents}}</div></li>{{/categories}}</ul>{{#pg13_filter}}<ul class="list-checkable" id="content-rating"><li><input class="border" type="checkbox" {{#preferred}}checked{{/preferred}} id="{{id}}" value="{{id}}"><label for="{{id}}">{{#_i}}Show PG-13 documents{{/_i}}</label></ul>{{/pg13_filter}}</div></div></section><section class="page-main main-right">{{#logged_in}}{{#show_intro_owl}}<div class="immersion-intro"><div class="speech-bubble arrow-right" id="bubble-hover"><div class="arrow-right-container"><div class="arrow"></div></div><div class="inner ">{{^trial_account}}<h2>{{#_i}}Immerse yourself!{{/_i}}</h2><p>{{#_i}}Practice your skills by reading and translating real articles from the Internet.{{/_i}}</p><p>{{#_i}}Some sentences have been translated by the Duolingo community, while other sentences still need to be translated or improved upon!{{/_i}}</p><div class="btn success dismiss-intro-owl">{{#_i}}Get Started!{{/_i}}</div>{{/trial_account}}{{#trial_account}}<h2>{{#_i}}Immerse yourself!{{/_i}}</h2><p>{{#_i}}Practice your skills by reading and translating real articles from the Internet.{{/_i}}</p><p>{{#_i}}Some sentences have been translated by the Duolingo community, while other sentences still need to be translated or improved upon!{{/_i}}</p><div class="btn success dismiss-intro-owl">{{#_i}}Preview it now!{{/_i}}</div>{{/trial_account}}</div></div><div class="owl-peeking-right-container"><div class="owl owl-standard"></div></div></div>{{/show_intro_owl}}{{/logged_in}}{{^logged_in}}<div id="logged-out-immersion-header"><span id="language-direction">{{#_i}}Show translations from{{/_i}}&nbsp; <label class="blue-select no-focus smaller"><select id="select-translation-direction">{{#translation_directions}}<option {{#selected}}selected{{/selected}} data-source="{{source_language}}" data-target="{{target_language}}">{{#_i}}{{#_ivar}}source_language_name{{/_ivar}} into {{#_ivar}}target_language_name{{/_ivar}}{{/_i}}</option>{{/translation_directions}}</select></label></span><span id="upload-advert">{{#_i}}Want to have your content translated by Duolingo?{{/_i}} <a href="mailto:sales@duolingo.com?subject=Upload account" target="_blank"><br><strong>{{#_i}}Contact us.{{/_i}}</strong></a></span></div>{{/logged_in}}<div class="translate-main {{#show_intro_owl}}intro-fade{{/show_intro_owl}}" id="translation-tabs">{{^trial_account}}<a href="/translations/upload"><button class="btn btn-green right" id="upload-document">{{#_i}}Upload a document{{/_i}}</button></a>{{/trial_account}}{{#immersion_search_bar_ff_true}}<span class="search-topics"><span class="icon icon-search-gray"></span><input type="text" name="search" value="" placeholder="{{#_i}}Search{{/_i}}" class="search-box" id="search-translations" maxlength="50"/><div class="clear-button btn" style="display : none">x</div></span>{{/immersion_search_bar_ff_true}}<h1>{{#_i}}Immersion{{/_i}}</h1><ul class="tabs big nav-tabs" style="position: relative; z-index: 1;"><li class="active" data-tab="all"><a href="javascript:;">{{#_i}}All documents{{/_i}}</a></li><span class="sort-by">{{#_i}}Sort by{{/_i}}<label class="blue-select-inline" id="sort-list-label"><select id="sort-list">{{#sort_options}}<option value="{{rule}}" {{#preferred}}selected{{/preferred}}>{{#_ivar}}label{{/_ivar}}</option>{{/sort_options}}</select></label></span>{{#show_your_edits_ff_true}}{{^trial_account}}{{#logged_in}}<li data-tab="history"><a href="javascript:;">{{#_i}}Your edits{{/_i}}</a></li>{{/logged_in}}{{/trial_account}}{{/show_your_edits_ff_true}}{{#show_your_uploads_ff_true}}{{#user_has_uploaded}}<li data-tab="uploaded"><a href="javascript:;">{{#_i}}Your uploads{{/_i}}</a></li>{{/user_has_uploaded}}{{/show_your_uploads_ff_true}}</ul><div id="default-tab" class="panel hidden"></div><div id="date-tab" class="panel hidden"></div><div id="history-tab" class="panel hidden"></div><div id="uploaded-tab" class="panel hidden"></div><div id="net_upvotes-tab" class="panel hidden"></div></div></section>'+i(12)+'</main><div class="modal hidden" id="translator-tier-explanation"><div class="close"></div><div class="modal-header"><h1>{{#_i}}Translation tiers{{/_i}}</h1></div><div class="modal-body"><p>{{#_i}}Each language learner is assigned a <i>tier</i> representing the quality of their translations, as judged by other learners. Your progress within each tier depends on the votes your sentence translations receive from other learners <i>in your tier or higher</i>. You advance to the next tier once you have at least 100 upvotes and at least 90% of your votes are positive.<sup>1</sup>{{/_i}}</p><p>{{#_i}}Because more accurate translations demonstrate greater proficiency in a language, learners at higher tiers earn more skill points for translating, editing, and rating others\' translations.{{/_i}}</p><table class="table table-striped table-test"><thead><tr><th style="width:100px"><strong>{{#_i}}Tier{{/_i}}</strong></th><th><strong>{{#_i}}Reward for each word<br>translated or edited{{/_i}}</strong></th><th><strong>{{#_i}}Reward for each<br>sentence rated{{/_i}}</strong></th></tr></thead><tbody><tr><td>1</td><td><span class="coin tier-explanation-coin fractional">&#8539;</span></td><td>&#8212;</td></tr><tr><td style="width:100px">2</td><td><span class="coin tier-explanation-coin fractional">&#188;</span></td><td><span class="coin tier-explanation-coin">1</span></td></tr><tr><td style="width:100px">3</td><td><span class="coin tier-explanation-coin fractional">&#189;</span></td><td><span class="coin tier-explanation-coin">2</span></td></tr><tr><td style="width:100px">{{#_i}}4 or higher{{/_i}}</td><td><span class="coin tier-explanation-coin">1</span></td><td><span class="coin tier-explanation-coin">5</span></td></tr></tbody></table><div class="modal-footnote">{{#_i}}1. For each sentence translation you do, there is a limit on the number of votes that can affect your progress. The limit is one vote for every five words in the original sentence (so for a 10 word sentence, only the first two votes are counted).{{/_i}}</div></div></div><div class="modal hidden" id="show-your-votes"><div class="close"></div><div id="show-your-votes-body"></div></div> '},function(e,t){e.exports='<h1>{{#_i}}New upload{{/_i}}</h1><div class="upload-panel">{{^free_upload}}<ul class="nav-tabs upload-tabs"><li data-type=\'automatic\' class="active tab automatic"><a href="javascript:;">{{#_i}}Automatic{{/_i}}</a></li><li data-type=\'manual\' class="tab manual"><a href="javascript:;">{{#_i}}Manual{{/_i}}</a></li></ul>{{/free_upload}}{{#free_upload}}<button class="btn right btn-primary see-preview" disabled="disabled" data-wait="{{#_i}}Submitting...{{/_i}}">{{#_i}}Submit{{/_i}}</button><div class="url-wrapper"><label for="url-input">{{#_i}}Enter a web address{{/_i}}</label><input id="url-input" type="text" class="url"/></div><div id="preview-failed" class="preview-failure hidden">{{#_i}}This web address is invalid or the page could not be loaded.{{/_i}}</div><div id="content-filtered" class="preview-failure hidden"><img src="https://duolingo-images.s3.amazonaws.com/avatars/35443/MkkoL3svF3/medium"><div>{{#_i}}DuoBot thinks this document might not be appropriate for language learners of all ages.{{/_i}}</div></div><div id="is-copyrighted" class="preview-failure hidden"><div>{{#_i}}Only documents released under a creative commons license can be uploaded for free translation.{{/_i}}</div></div>{{/free_upload}}{{^free_upload}}<div class="panel" id="manual-upload"><div class="form-row"><h5>{{#_i}}Headline{{/_i}}</h5><input type="text" class="article-headline"/></div><div class="form-row"><h5>{{#_i}}Body{{/_i}}<span class="word-count">{{#_i}}Word count:{{/_i}} <span id="word-count">{{count}}</span></span><span class="estimated-cost">{{#_i}}Estimated cost:{{/_i}} $ <span id="cost">{{cost}}</span></span></h5><textarea id="paste-text" class="article-body"></textarea></div><div class="form-row"><div class="col-left"><h5>{{#_i}}Translate into this language:{{/_i}}</h5><label class="blue-select no-focus smaller"><select id="manual-language"><option value=\'None\' style="color: #999;"><i>{{#_i}}None selected{{/_i}}</i></option>{{#preview_data}}{{#target_languages}}<option value="{{id}}}">{{#_ivar}}name{{/_ivar}}</option>{{/target_languages}}{{/preview_data}}</select></label></div><div class="col-right"><h5>{{#_i}}Enter an image url (optional):{{/_i}}</h5><input id="image-url" style="height: 35px;" type="text" class="url"/></div></div><div class="form-row"><div class="col-left"><h5>{{#_i}}Pick a category that best fits:{{/_i}}</h5><label class="blue-select no-focus smaller"><select id="manual-category"><option value=\'None\' style="color: #999;"><i>{{#_i}}None selected{{/_i}}</i></option>{{#preview_data}}{{#categories}}<option value="{{id}}">{{#_ivaru}}label{{/_ivaru}}</option>{{/categories}}{{/preview_data}}</select></label></div><div class="col-right"><h5>{{#_i}}Enter a document url (optional):{{/_i}}</h5><input id="manual-url" style="height: 35px;" type="text" class="url"/></div></div><div class="footer"><button id="see-preview" class="btn right btn-lg btn-primary manual-submit" disabled="disabled" style="margin-left: 10px;" data-wait="{{#_i}}Submitting...{{/_i}}">{{#_i}}Submit{{/_i}}</button><button class="btn right btn-lg btn-standard cancel-input">{{#_i}}Cancel{{/_i}}</button></div></div><div class="panel" id="automatic-upload"><button class="btn right btn-primary btn-lg see-preview" disabled="disabled" data-wait="{{#_i}}Submitting...{{/_i}}">{{#_i}}Submit{{/_i}}</button><div class="url-wrapper"><label for="url-input">{{#_i}}Enter a web address{{/_i}}</label><input id="url-input" type="text" class="url"/></div><div id="preview-failed" class="hidden">{{#_i}}This web address is invalid or the page could not be loaded.{{/_i}}</div></div>{{/free_upload}}</div>'},function(e,t){e.exports='<h1>{{#_i}}Preview{{/_i}}</h1><div class="upload-panel preview-panel"><div id="preview-text" class="wiki-document-body">{{#custom_html}}{{{custom_html}}}{{/custom_html}}{{^custom_html}}<h3>{{title}}</h3><span class="flat-image-wrapper"><a class="fbox fancybox.image" rel="group" href="{{image_url}}" target="_blank" style="display: inline; height: 100%;"><img src="{{image_url}}" class="image-thumb"></a></span>{{#paragraphs}}<p>{{paragraph_text}}</p>{{/paragraphs}}{{/custom_html}}</div><div class="footer">{{#from_url}}<div class="form-row"><div class="col-left"><h5>{{#_i}}Pick a category that best fits:{{/_i}}</h5><label class="blue-select no-focus smaller"><select id="category"><option value=\'None\' style="color: #999;"><i>{{#_i}}None selected{{/_i}}</i></option>{{#categories}}<option value="{{id}}" {{#selected}}selected{{/selected}}>{{#_ivaru}}label{{/_ivaru}}</option>{{/categories}}</select></label></div><div class="col-right"><h5>{{#_i}}Translate into this language:{{/_i}}</h5><label class="blue-select no-focus smaller"><select id="language"><option value=\'None\' style="color: #999;"><i>{{#_i}}None selected{{/_i}}</i></option>{{#target_languages}}<option value="{{id}}}" {{#selected}}selected{{/selected}}>{{#_ivar}}name{{/_ivar}}</option>{{/target_languages}}</select></label></div></div>{{/from_url}}<div class="button-row">{{^free_upload}}<button id="edit" class="btn left btn-standard btn-large make-edits cancel-preview">{{#_i}}Edit{{/_i}}</button>{{/free_upload}}<button id="submit-upload" class="btn right btn-large btn-primary" style="margin-left: 10px;" data-wait="{{#_i}}Uploading...{{/_i}}">{{#_i}}Upload{{/_i}}</button><button id="cancel-upload" class="btn right btn-large btn-standard cancel-preview">{{#_i}}Cancel{{/_i}}</button></div><div id="upload-failure" class="hidden warning-message" style="margin-top: 10px">{{#_i}}Your document failed to upload, please try a different webpage:{{/_i}}<ul><li id="error-message">{{#_ivar}}upload_failure_reason{{/_ivar}}</li></ul></div></div></div>'},function(e,t){e.exports='<h1>{{#_i}}Upload for translation{{/_i}}</h1><ul class="pick-upload-plan"><li class="free"><div class="inner"><div class="header"><span class="skill-icon unlocked red small"><span class="skill-icon-image skill-icon-2"></span></span></div><div class="content"><h3>{{#_i}}Non-commercial{{/_i}}</h3><p>{{#_i}}Translation is free for content released under a creative commons license.{{/_i}}</p></div><div class="footer"><a id="free-upload" data-type="free" class="btn btn-block btn-primary upload-type">{{#_i}}Free translation{{/_i}}</a></div></div></li><li class="commercial"><div class="inner"><div class="header"><span class="skill-icon unlocked green small"><span class="skill-icon-image skill-icon-19"></span></span></div><div class="content"><h3>{{#_i}}Commercial{{/_i}}</h3>{{^commercial_user}}<p>{{#_i}}For copyrighted content.<br/>You have to <a href="mailto:sales@duolingo.com?subject=Upload account" target="_blank"><strong>apply</strong></a> for an account.{{/_i}}</p>{{/commercial_user}}{{#commercial_user}}<p>{{#_i}}For partners of Duolingo with copyrighted content.{{/_i}}</p>{{/commercial_user}}</div><div class="footer"><a id="paid-upload" data-type="paid" class="btn btn-primary btn-block upload-type">{{#_i}}Paid translation{{/_i}}</a></div></div></li></ul>'},function(e,t){e.exports='{{#custom_html}}{{{custom_html}}}{{/custom_html}}{{^custom_html}}{{#document_paragraphs}}<div class="wiki-paragraph" style="display:block" id="{{pane}}paragraph-{{paragraph_index}}">{{#sentences}}{{#second_sentence}}<span class="flat-image-wrapper">{{#has_images}}<a class="fbox fancybox.image" rel="group" href="{{first_image_url}}" style="display: inline; height: 100%;"><img src="{{first_image_url}}" class="image-thumb"></a>{{#hidden_images}}<a class="fbox fancybox.image" rel="group" href="{{.}}" style="display: none;"></a>{{/hidden_images}}{{/has_images}}{{^has_images}}<img src="/images/owl-waving-gray.png" class="image-thumb"/>{{/has_images}}</span>{{/second_sentence}}{{^index}}<h1 class="wiki-document-title"><span class="sentence-wrapper" data-index="{{index}}" id="{{pane}}sentence-wrapper-{{index}}"></span></h1>{{/index}}{{#index}}<span class="sentence-wrapper" data-index="{{index}}" id="{{pane}}sentence-wrapper-{{index}}"></span>{{/index}}{{/sentences}}</div>{{/document_paragraphs}}{{/custom_html}}'},function(e,t){e.exports='<div class="inner {{^cur_translation}}no-translation{{/cur_translation}}"><div class="content">{{^just_finished_article}}<div class="close-header"><a href="javascript:;" data-margin="5" data-toggle="tooltip" title="{{#_i}}Press Esc to go back{{/_i}}" class="close close-container with-back-arrow"><span class="icon icon-arrow-back-gray"></span>{{#_i}}Back{{/_i}}</a></div>{{#cur_translation_or_no_need}}<div class="cur-translation">{{#cur_translation}}{{cur_translation}}{{^multiple_revisions}}{{#explanation}}<div class="comment" style="margin-top: 10px;"><strong>{{#_i}}Comment by {{username}}:{{/_i}}</strong> {{explanation}}</div>{{/explanation}}{{/multiple_revisions}}{{/cur_translation}}{{#user_says_no_need_to_translate}}<i>{{#_i}}This image contains no text.{{/_i}}</i>{{/user_says_no_need_to_translate}}</div>{{/cur_translation_or_no_need}}{{#editable}}<div class="wiki-textarea-container"><div class="form-row no-margin"><textarea id="edit-text-input-{{index}}" name="edit-text-input" placeholder="{{#_iv}}Type in {{target_language_name}}{{/_iv}}" class="wiki-textarea textarea-block edit-text-input" >{{^user_input}}{{cur_translation}}{{/user_input}}{{#user_input}}{{user_input}}{{/user_input}}</textarea><div class="error-flag" id="invalid-translation-error" style="display: hidden;">{{#_i}}Translation does not seem correct.{{/_i}}</div></div><div class="form-row no-margin" style="margin-top: 10px;"><textarea class="textarea-block wiki-edit-explanation" id="edit-explanation-{{index}}" type="text" name="edit-reason" style="" {{#cur_translation_or_no_need}} placeholder="{{#_i}}Explain your correction (optional){{/_i}}" {{/cur_translation_or_no_need}}{{^cur_translation_or_no_need}} placeholder="{{#_i}}Add a comment (optional){{/_i}}" {{/cur_translation_or_no_need}} ></textarea></div>{{#cur_translation}}{{^latest_translation_from_self}}<div class="share-credit"><form><input type="checkbox" name="share-credit" {{^user_disapproved}}checked{{/user_disapproved}}>{{#_i}}Share credit with previous translator.{{/_i}}<span class="question-mark">?</span><div class="share-credit-explanation hidden">{{#_i}}When you share credit, both you and the previous translator get credit for any upvotes your translation receives (in terms of tier progress).{{/_i}}&nbsp; <a href="javascript:;" class="dismiss-share-credit-explanation">{{#_i}}Okay, got it.{{/_i}}</a></div></form></div>{{/latest_translation_from_self}}{{/cur_translation}}<div style="margin-top: 10px"><a href="javascript:;" style="margin-right: 10px" class="save-edit btn success" data-margin="5" data-toggle="tooltip" title="{{^cur_translation}}{{#_i}}Press Enter to Submit{{/_i}}{{/cur_translation}}{{#cur_translation}}{{#_i}}Press Enter to Save{{/_i}}{{/cur_translation}}">{{#cur_translation}}{{#_i}}Save{{/_i}}{{/cur_translation}}{{^cur_translation}}{{#_i}}Submit translation{{/_i}}{{/cur_translation}}</a><a href="javascript:;" class="cancel-edit btn btn-standard" data-toggle="tooltip" title="{{#_i}}Press Esc to Cancel{{/_i}}">{{#_i}}Cancel{{/_i}}</a>{{#is_image_sentence}}{{^user_says_no_need_to_translate}}<span style="margin-left: 10px"></span><a href="javascript:;" style="margin-top: 10px" class="image-contains-no-text btn btn-standard">{{#_i}}This image contains no text{{/_i}}</a>{{/user_says_no_need_to_translate}}{{/is_image_sentence}}</div></div>{{/editable}}{{^editable}}<div class="report-translator-cheating-wrapper"><span class="last-edit right">{{#_i}}Last edit by:{{/_i}}<a href="http://www.duolingo.com/{{username}}" target="_blank"><strong>{{username}}</strong></a><span class="translator-tier-flag-micro"><span class="double-flag-source flag flag-svg-micro flag-{{source_language}}"></span><span class="double-flag-target flag flag-svg-micro flag-{{target_language}}"></span></span><span class="reputation-tier">{{user_reputation_tier}}</span><a href="http://www.duolingo.com/{{username}}" target="_blank" class="avatar avatar-micro"><img src="http://www.duolingo.com/avatars/{{user_id}}/medium"/></a></span>{{^latest_translation_from_self}}{{^reported_cheating}}<a class="report-translator-cheating left" href="javascript:;"><span class="icon-flag-micro icon"></span>{{#_i}}Report abuse{{/_i}}<a>{{/reported_cheating}}{{#reported_cheating}}<a class="report-translator-cheating reported" href="javascript:;">{{#_i}}You have reported this translator (undo){{/_i}}</a>{{/reported_cheating}}{{/latest_translation_from_self}}</div><div class="translation-action"><a href="javascript:;" class="btn btn-blue btn-small rate-translation-option vote-up {{#user_approved}}active{{/user_approved}}" data-rating="1" data-margin="5" data-toggle="tooltip" title="{{#_i}}Press + to Rate &quot;Looks good&quot;{{/_i}}" style="margin-right: 10px"><span class="icon icon-check-white-small"></span>{{#_i}}Looks good{{/_i}}</a><a href="javascript:;" class="btn btn-blue btn-small rate-translation-option vote-down {{#user_disapproved}}active{{/user_disapproved}}" data-rating="-1" data-margin="5" data-toggle="tooltip" title="{{#_i}}Press - to Rate &quot;Looks wrong&quot;{{/_i}}" style="margin-right: 10px"><span class="icon icon-x-white-small"></span>{{#_i}}Looks wrong{{/_i}}</a><a href="javascript:;" class="btn btn-standard btn-small edit-translation edit-button right" data-margin="5" data-toggle="tooltip" title="{{#_i}}Press Enter to Edit{{/_i}}"><span class="icon"></span>{{#_i}}Edit{{/_i}}</a></div>{{#user_rating}}<ul class="translation-votes hidden" id="translation-votes-{{index}}"><li class="upvotes"><span class="icon icon-person-micro"></span> {{num_upvotes}}</li><li class="upvotes"><span class="icon icon-person-micro"></span> {{num_downvotes}}</li></ul>{{/user_rating}}{{/editable}}<div id="revisions-stream" style="{{#multiple_revisions}}{{#user_rating}}margin-top: 20px;{{/user_rating}}{{^user_rating}}margin-top: 30px;{{/user_rating}}{{/multiple_revisions}}"></div>{{/just_finished_article}}{{#just_finished_article}}<div class="wiki-translation-end"><div class="wiki-translation-end-header">{{#_i}}Pretty sweet! <br> You finished the article!{{/_i}}</div><div class="lighter">{{#_i}}{{#pluralize}}+{{user_num_points}} XP,+{{user_num_points}} XP,{{user_num_points}}{{/pluralize}}{{/_i}}</div>{{!If next_level is not set, it means the user is at the max. level, so don\'t show the bar.}}{{#next_level}}<div id="level-bar" class="language-progress-bar-big opacity-0 slide-in"><div class="level-next level">{{next_level}}</div><div class="bar" style="width: {{cur_level_percent_done}}%;"><div id="next-hook" class="popover-hook"><div id="next-level" class="popover popover-blue progress-xp-popover" style="display: block;"><div class="arrow-bottom-container"><div class="arrow"></div></div><div class="popover-content"><strong>{{#_i}}Next level{{/_i}}</strong>{{#_i}}{{#pluralize}}<span id="level_points">{{user_points_within_level}}</span>/{{level_total_points}} XP,<span id="level_points">{{user_points_within_level}}</span>/{{level_total_points}} XP,{{user_points_within_level}}{{/pluralize}}{{/_i}}</div></div></div></div><div class="level-current level">{{prev_level}}</div></div>{{/next_level}}</div>{{/just_finished_article}}</div>{{#machine_translation}}{{#allow_toggle_machine_translation}}<hr style="margin: 30px 0 30px 0"><h4 class="toggle-machine-translation {{#show_machine_translation}}active{{/show_machine_translation}}"><span class="triangle"></span>{{#_i}}DuoBot’s translation{{/_i}}</h4>{{#show_machine_translation}}<div class="machine-translation"><a class="medium-circular-avatar left" href="http://www.duolingo.com/duobot"><img src="https://duolingo-images.s3.amazonaws.com/avatars/35443/MkkoL3svF3/medium"/></a>{{machine_translation}}</div>{{/show_machine_translation}}{{/allow_toggle_machine_translation}}{{/machine_translation}}</div> ';
},function(e,t){e.exports='<span id="{{pane}}sentence-{{index}}" data-index="{{index}}" class="show-hints sentence {{#cur_translation}}{{^cur_translation_quality}}low-quality{{/cur_translation_quality}}{{#cur_translation_quality}}high-quality{{/cur_translation_quality}}{{/cur_translation}} {{#show_translated}}{{^cur_translation}}translation-placeholder{{/cur_translation}} show-translated{{/show_translated}}">{{#show_translated}}{{!For now, custom_html is used only for images.}}{{#is_image_sentence}}{{{sentence_custom_html}}}<div class="translated-image-text">{{cur_translation}}</div>{{/is_image_sentence}}{{^is_image_sentence}}{{#content_edit}}{{content_edit}}{{/content_edit}}{{^content_edit}}{{#cur_translation}}{{cur_translation}}{{/cur_translation}}{{^cur_translation}}{{{no_translation_placeholder}}}{{/cur_translation}}{{/content_edit}}{{/is_image_sentence}}{{/show_translated}}{{^show_translated}}{{#sentence_custom_html}}{{{sentence_custom_html}}}{{/sentence_custom_html}}{{^sentence_custom_html}}{{#sentence_hunks}}<span class="token {{#marked}}marked{{/marked}}" data-token-index="{{token_index}}" id="token_{{token_index}}">{{hunk}}</span>{{/sentence_hunks}}{{/sentence_custom_html}}{{/show_translated}}</span><span style="{{^index}}letter-spacing: 0;{{/index}} position:relative;"> &nbsp; <span id="{{pane}}sentence-coin-{{index}}" class="edit-translation-coin coin animated"></span></span>'},function(e,t){e.exports='<div class="inner {{^cur_translation}}no-translation{{/cur_translation}} mini-popover-action"><div class="content">{{#editable}}<btn class="btn btn-small btn-green save-translation" data-toggle="tooltip" data-margin="5" title="{{^cur_translation}}{{#_i}}Press Enter to Submit{{/_i}}{{/cur_translation}}{{#cur_translation}}{{#_i}}Press Enter to Save{{/_i}}{{/cur_translation}}">{{^cur_translation}}{{#_i}}Submit translation{{/_i}}{{/cur_translation}}{{#cur_translation}}{{#_i}}Save edit{{/_i}}{{/cur_translation}}</btn><div class="btn btn-small btn-standard cancel-translation" data-toggle="tooltip" data-margin="5" title="{{#_i}}Press Esc to Cancel{{/_i}}">{{#_i}}Cancel{{/_i}}</div>{{/editable}}{{^editable}}<div class="btn btn-blue btn-small rate-translation-option vote-up {{#user_approved}}active{{/user_approved}}" data-toggle="tooltip" title="{{#_i}}Press + to Rate &quot;Looks good&quot;{{/_i}}" data-rating="1" data-margin="5"><span class="icon icon-check-white-small"></span><span class="coin rate-translation-coin animated" data-rating="1">1</span></div><div class="btn btn-blue btn-small rate-translation-option vote-down {{#user_disapproved}}active{{/user_disapproved}}" data-toggle="tooltip" title="{{#_i}}Press - to Rate &quot;Looks wrong&quot;{{/_i}}" data-rating="-1" data-margin="5"><span class="icon icon-x-white-small" style="margin-right: -2px;"></span><span class="coin rate-translation-coin animated" data-rating="-1">1</span></div>{{/editable}}{{^show_more}}<div class="btn btn-standard btn-small show-more" data-index="{{index}}">{{#_i}}Show more{{/_i}}</div>{{/show_more}}{{#show_more}}<div class="btn btn-standard btn-small show-less" data-index="{{index}}">{{#_i}}Show less{{/_i}}</div>{{/show_more}}</div></div>'},function(e,t){e.exports='{{#user_says_no_need_to_translate}}<i>{{#_i}}This image contains no text.{{/_i}}</i>{{/user_says_no_need_to_translate}}{{^user_says_no_need_to_translate}}{{#show_diff_with_earlier}}{{#diff_with_earlier}}{{#equal}}{{new_text}}{{/equal}}{{^equal}}<span style="background-color:yellow">{{new_text}}</span>{{/equal}}{{/diff_with_earlier}}{{/show_diff_with_earlier}}{{#show_diff_with_later}}{{#diff_with_later}}{{#equal}}{{old_text}}{{/equal}}{{^equal}}<span style="background-color:yellow">{{old_text}}</span>{{/equal}}{{/diff_with_later}}{{/show_diff_with_later}}{{#no_diff}}{{text}}{{/no_diff}}{{^revision_from_self}}<div class="report-translator-cheating-wrapper">{{^reported_cheating}}<a class="report-translator-cheating" href="javascript:;">{{#_i}}Report abuse{{/_i}}<a>{{/reported_cheating}}{{#reported_cheating}}<a class="report-translator-cheating reported" href="javascript:;">{{#_i}}You have reported this translator (undo){{/_i}}</a>{{/reported_cheating}}</div>{{/revision_from_self}}{{/user_says_no_need_to_translate}} '},function(e,t){e.exports='{{^view_both}}{{#multiple_revisions}}<hr/><h4 class="toggle-revisions {{#show_revisions}}active{{/show_revisions}}"><span class="triangle"></span>{{#_i}}All {{num_revisions}} versions{{/_i}}</h4><div class="revisions-stream-body {{^show_revisions}}hidden{{/show_revisions}}"><ul class="simple-revisions">{{#revisions}}<li class="revision-item" data-index="{{index}}"><label><div class="radio"><input id="radio" type="radio" name="revision" value="{{text}}" data-first="{{#first}}true{{/first}}" {{#first}}checked{{/first}}></div><h5><a href="http://www.duolingo.com/{{username}}"><span class="avatar avatar-micro"><img src="http://www.duolingo.com/avatars/{{user_id}}/medium"/></span></a> <a href="http://www.duolingo.com/{{username}}">{{username}}</a><span class="translator-tier-flag-micro"><span class="double-flag-source flag flag-svg-micro flag-{{source_language}}"></span><span class="double-flag-target flag flag-svg-micro flag-{{target_language}}"></span></span><span class="reputation-tier">{{user_reputation_tier}}</span><span class="time">{{date}}</span></h5><p class="sentence" id="revision-{{index}}" style="margin: 0;"></p>{{#explanation}}<div class="comment" style="margin-top: 10px;"><strong>{{#_i}}Comment by {{username}}:{{/_i}}</strong> {{explanation}}</div>{{/explanation}}</label></li>{{/revisions}}</ul><div class="clearfix"><div class="btn btn-small btn-green left" id="follow-revisions">{{#_i}}Follow revisions{{/_i}}</div><div class="btn btn-small btn-green left is-friend success" id="following-revisions" style="display:none">{{#_i}}Following{{/_i}}</div><a href="javascript:;" class="revert btn-small btn-standard btn right" style="margin: 0 0 0 10px;" disabled="disabled">{{#_i}}Revert to selected translation{{/_i}}</a></div></div>{{/multiple_revisions}} &nbsp; {{!This hacks around a crazy bug in Safari.}}{{/view_both}}{{#view_both}}<div class="inner"><div class="content"><h4>{{#_i}}Revision history{{/_i}}</h4><div class="revisions-stream-body"><ul class="simple-revisions">{{#revisions}}<li class="revision-item" data-index="{{index}}"><label><div class="radio"><input id="radio" type="radio" name="revision" value="{{text}}" data-first="{{#first}}true{{/first}}" {{#first}}checked{{/first}}></div><h5><a href="http://www.duolingo.com/{{username}}"><span class="avatar avatar-micro"><img src="http://www.duolingo.com/avatars/{{user_id}}/medium"/></span></a> <a href="http://www.duolingo.com/{{username}}">{{username}}</a> <span class="time">{{date}}</span></h5><p class="sentence" id="revision-{{index}}" style="margin: 0;"></p>{{#explanation}}<p class="comment" style="margin-top: 10px;">{{#_i}}Comment by {{username}}:{{/_i}} {{explanation}}</p>{{/explanation}}</label></li>{{/revisions}}</ul><div class="clearfix"><div class="btn btn-small btn-green left" id="follow-revisions">{{#_i}}Follow revisions{{/_i}}</div><div class="btn btn-small btn-green left is-friend success" id="following-revisions" style="display:none">{{#_i}}Following{{/_i}}</div><a href="javascript:;" class="revert btn btn-small btn-standard right" style="margin: 0 0 0 10px;" disabled="disabled">{{#_i}}Revert to selected translation{{/_i}}</a></div></div></div></div>{{/view_both}} '},function(e,t){e.exports='{{#temporary_ban_lift_date}}<div class="clearfix" style="width:650px; margin-top:100px; margin-left:auto; margin-right:auto"><div style="width:200px; float:left; display:block"><img src="/images/owl-standing-crying.png" class="owl"/></div><div class="pane-right" style="width:400px; float:right; display:block"><p>{{#_i}}Uh-oh. Duolingo users have reported you for entering bogus translations. We\'ve taken away your translation points, and you\'re not allowed to translate documents again until {{temporary_ban_lift_date}}. Next time please play nice!{{/_i}}</p><a href="http://www.duolingo.com"><img src="/images/duolingo-logo-small-blue.png" class="duolingo"/></a></div></div>{{/temporary_ban_lift_date}}{{^temporary_ban_lift_date}}{{^logged_in}}<div class="pane-top-container"><div class="pane-top"><a href="{{#trial_account}}javascript:;{{/trial_account}}{{^trial_account}}/register{{/trial_account}}" target="_blank" class="btn right primary join-duo" style="margin: 5px 0 0 0;"><b>{{#_i}}Join Duolingo{{/_i}}</b></a><div class="description"><div class="arrows"></div>{{^quality_high}}{{#_i}}This {{#_ivar}}source_language_name{{/_ivar}} article is being translated into {{#_ivar}}target_language_name{{/_ivar}} by Duolingo, a community of language learners.{{/_i}}{{/quality_high}}{{#quality_high}}{{#_i}}This {{#_ivar}}source_language_name{{/_ivar}} article was translated to {{#_ivar}}target_language_name{{/_ivar}} by Duolingo, a community of language learners.{{/_i}}{{/quality_high}}<br><a href="/translations/{{source_language}}/{{target_language}}">{{#_i}}View more Duolingo translations{{/_i}}</a></div></div></div>{{/logged_in}}<main class="main-left lesson-like-document {{#view_original}}view-original{{/view_original}} {{#view_both}}view-both{{/view_both}} {{#view_discussion}}view-discussion{{/view_discussion}} {{#hide_instructions}}hide-instructions{{/hide_instructions}}">{{#logged_in}}<div id="document-hider"></div>{{/logged_in}}<section class="page-main main-left">{{#logged_in}}<div class="document-header-new"><span class="progress-bar-dynamic simplified-bar" data-toggle="tooltip" style="" title="{{#_i}}You have finished {{num_sentences_done}}/{{num_sentences}} sentences.{{/_i}}"><div class="bar wiki-progress-bar" style="width: 0%"></div></span><span class="coin-count"><span class="icon icon-xp-small"></span> <span style="position: relative; top: 2px;" id="xp-counter">{{#_i}}+{{user_num_points}} {{#pluralize}}XP,XP,{{user_num_points}}{{/pluralize}}{{/_i}}</span></span><span id="toggle-instructions"><span id="hide-instructions-arrow" class="toggle-instructions-arrow icon icon-vote-up-small offset {{#hide_instructions}}hidden{{/hide_instructions}}" data-toggle="tooltip" title="{{#_i}}Hide instructions{{/_i}}" {{^view_original}}style="visibility:hidden"{{/view_original}} ></span><span id="show-instructions-arrow" class="toggle-instructions-arrow icon icon-vote-down-small {{^hide_instructions}}hidden{{/hide_instructions}}" data-toggle="tooltip" title="{{#_i}}Show instructions{{/_i}}" {{^view_original}}style="visibility:hidden"{{/view_original}} ></span></span><ul class="tab-switch document-switch"><li><a href="javascript:;" id="view-original" {{#view_original}}class="active"{{/view_original}}><span class="flag flag-svg-micro flag-{{source_language}}"></span>{{#_i}}Translate{{/_i}}</a></li><li><a href="javascript:;" id="view-both" {{#view_both}}class="active"{{/view_both}}><span class="translator-tier-flag-micro"><span class="flag flag-svg-micro flag-{{source_language}} double-flag-source"></span><span class="flag flag-svg-micro flag-{{target_language}} double-flag-target"></span></span>{{#_i}}Proofread{{/_i}}</a></li>{{#discussions_enabled}}<li><a href="javascript:;" id="view-discussion" {{#view_discussion}}class="active"{{/view_discussion}}><span style="margin-right: 10px" class="icon icon-discussion"></span><span id="discuss-button-text">{{#num_comments}}{{#_i}}Discuss ({{num_comments}}){{/_i}}{{/num_comments}}{{^num_comments}}{{#_i}}Discuss{{/_i}}{{/num_comments}}</span></a></li>{{/discussions_enabled}}</ul><div id="document-instructions" {{#hide_instructions}}class="hidden"{{/hide_instructions}}{{^hide_instructions}}{{^view_original}}class="hidden"{{/view_original}}{{/hide_instructions}}></div></div>{{/logged_in}}{{#document_paragraphs}}{{#sentences}}<div id="mini-popover-{{index}}" class="popover document-sentence-mini-popover hidden"></div><div id="show-more-{{index}}" class="popover new document-sentence-show-more hidden"></div>{{/sentences}}{{/document_paragraphs}}{{#view_original}}<div class="responsive-container"><div id="original-body-container"><div id="original-body"></div></div><div id="document-omnibox" class="translation-sidebar"><div id="global-sidebar"></div>{{#document_paragraphs}}{{#sentences}}<div id="sentence-sidebar-{{index}}" class="document-sentence-sidebar"></div>{{/sentences}}{{/document_paragraphs}}</div></div>{{/view_original}}{{#view_both}}<div id="view-both-container"><table><tr><td style="width:46%" valign="top"><div id="original-body"></div></td><td style="width:8%" valign="top"></td><td style="width:46%" valign="top"><div id="translated-body"></div></td></tr></table></div>{{/view_both}}{{^view_discussion}}{{#logged_in}}<div class="translation-footer">{{#_i}}Do you like this article?{{/_i}} <strong>{{#_i}}Vote it up!{{/_i}}</strong><div class="vote-module-small"><div class="vote-count">{{document_vote_sum}}</div><button class="rate-option rate-document-option btn btn-custom vote-up" data-rating="1"><span class="icon icon-vote-up-small" data-rating="1"></span></button><button class="rate-option rate-document-option btn-custom vote-down" data-rating="-1"><span class="icon icon-vote-down-small" data-rating="-1"></span></button></div></div>{{/logged_in}}{{/view_discussion}}{{#view_discussion}}<div id="translation-discussion"></div>{{/view_discussion}}</section></main><div class="modal hidden report" id="flag-translation-reason-modal"><div class="modal-body"><h2>{{#_i}}What is the issue?{{/_i}}</h2><ul><li><label><input name="flag-translation-reason" type="radio" value="CONTENT" checked>{{#_i}}Violent, sexual, or other inappropriate content.{{/_i}}</label></li><li><label><input name="flag-translation-reason" type="radio" value="COPYRIGHT">{{#_i}}Copyright violation{{/_i}}</label></li></ul><h5>{{#_i}}Provide additional details (optional):{{/_i}}</h5><textarea class="report-translation-details" id="additional-details"></textarea></div><div class="modal-footer"><a href="javascript:;" class="btn btn-blue right" style="margin: 0 0 0 10px;" id="report-inappropriate-reason">{{#_i}}Submit{{/_i}}</a><a href="javascript:;" class="btn-standard btn right" id="cancel-report-inappropriate">{{#_i}}Cancel{{/_i}}</a></div></div><div class="modal hidden" id="pg13-warning-modal"><div class="modal-body"><h2>{{#_i}}Warning: this document contains PG-13 content.{{/_i}}</h2><div style="margin-top: 10px"><a id="pg13-continue" href="javascript:;" class="btn btn-green">{{#_i}}Continue{{/_i}}</a></div><div id="take-me-back"><a href="/translations">{{#_i}}Take me back.{{/_i}}</a></div><div class="close"></div></div></div>{{/temporary_ban_lift_date}} '},function(e,t){e.exports='<div class="modal-header"><h1>{{#_i}}Your translation votes{{/_i}}</h1></div><div class="modal-body">{{#translations}}<div class="from-document">{{#_i}}From <a href="/translation/{{translation_id}}">{{title}}</a>:{{/_i}}</div><table class="table table-striped table-test"><thead><tr><th style="width: 40%;">{{#_i}}Original sentence{{/_i}}</th><th style="width: 40%;">{{#_i}}Your translation{{/_i}}</th><th style="width:20%;">{{#_i}}Votes{{/_i}}</th></tr></thead><tbody>{{#sentences}}<tr><td><a href="/translation/{{translation_id}}$index={{sent_index}}">{{^is_image_sentence}}{{original_text}}{{/is_image_sentence}}{{#is_image_sentence}}{{{custom_html}}}{{/is_image_sentence}}</a></td><td>{{^user_says_image_contains_no_text}}{{user_translation}}{{/user_says_image_contains_no_text}}{{#user_says_image_contains_no_text}}<i>{{#_i}}This image contains no text.{{/_i}}</i>{{/user_says_image_contains_no_text}}</td><td><div><span style="width: 100px;">{{upvotes}} <span class="looks-good-small"></span></span> &nbsp;&nbsp;<span style="width: 100px;">{{downvotes}} <span class="looks-wrong-small"></span></span></div></td></tr>{{/sentences}}</tbody></table>{{/translations}}<div class="center missing-votes">{{^num_missing_votes}}{{^num_translations}}{{#_i}}No votes received yet. Try translating some more sentences or come back later!{{/_i}}<br>{{/num_translations}}{{/num_missing_votes}}</div><div class="modal-footnote">{{^user_has_initial_reputation}}<br>{{#_i}}Note: only votes that contribute to your progress within tier {{tier}} are shown.{{/_i}}{{/user_has_initial_reputation}}{{#num_missing_votes}}<br><br>{{#_i}}{{#pluralize}}{{num_missing_votes}} vote received before November 2013 is not shown.,{{num_missing_votes}} votes received before November 2013 are not shown.,{{num_missing_votes}}{{/pluralize}}{{/_i}}{{/num_missing_votes}}</div></div>'},function(e,t){e.exports='<h1>{{target_language_string}} UI Strings</h1><div id="ui-strings" class="all-comments"></div>'},function(e,t){e.exports='<td><a href="/ui_strings/{{id}}">{{index}}</a></td><td style="word-break:break-all;"><a href="/ui_strings/{{id}}">{{source_text}}</a></td><td style="word-break:break-all;">{{target_text}}</td>'},function(e,t){e.exports='<table class="table translate-jobs"><thead><tr><th>#</th><th>Source</th><th>Target</th></tr></thead><tbody>{{#ui_strings}}<tr id="ui-string-{{id}}" class="comment"></tr>{{/ui_strings}}{{^ui_strings}}<tr><td>No UI Strings here.</td><td></td><td></td><td></td><td></td><td></td></tr>{{/ui_strings}}</tbody></table> '},function(e,t){e.exports='<div class="translate-ui-strings"><h1>Translate this to {{target_language_string}}</h1><div class="pane-left">{{source_text}}</div><div class="pane-right"><textarea id="target-text">{{target_text}}</textarea><button type="submit" class="btn right primary" id="save-button">Save</button></div></div><ul class="details"><li><strong>Context</strong><br/>{{context}}</li><li><strong>Comment</strong><br/>{{comment}}</li><li><strong>Last modifier</strong><br/>{{last_modifier}}</li><li><strong>Last edit</strong><br/>{{last_modification}}</li><li><strong>ID</strong><br/>{{id}}</li></ul> '},function(e,t){e.exports="{{#just}}{{#_i}}just now{{/_i}}{{/just}}{{#minute}}{{#_i}}a minute ago{{/_i}}{{/minute}}{{#minutes}}{{#_i}}{{#pluralize}}{{n}} minute ago,{{n}} minutes ago,{{n}}{{/pluralize}}{{/_i}}{{/minutes}}{{#hour}}{{#_i}}an hour ago{{/_i}}{{/hour}}{{#hours}}{{#_i}}{{#pluralize}}{{n}} hour ago,{{n}} hours ago,{{n}}{{/pluralize}}{{/_i}}{{/hours}}{{#yesterday}}{{#_i}}yesterday{{/_i}}{{/yesterday}}{{#days}}{{#_i}}{{#pluralize}}{{n}} day ago,{{n}} days ago,{{n}}{{/pluralize}}{{/_i}}{{/days}}{{#weeks}}{{#_i}}{{n}} {{#pluralize}}week,weeks,{{n}}{{/pluralize}} ago{{/_i}}{{/weeks}}{{#months}}{{#_i}}{{n}} {{#pluralize}}month,months,{{n}}{{/pluralize}} ago{{/_i}}{{/months}}{{#years}}{{#_i}}{{n}} {{#pluralize}}year,years,{{n}}{{/pluralize}} ago{{/_i}}{{/years}}{{#date}}{{#_ivar}}month{{/_ivar}} {{day}}, {{year}}{{/date}}"},function(e,t){e.exports="{{{one}}}{{#two}}{{^more_two}} {{#_i}}and{{/_i}}{{/more_two}}{{#more_two}},{{/more_two}} {{{two}}}{{#three}} {{#_i}}and{{/_i}} {{{three}}}{{/three}}{{#more}} {{#_i}}and {{more}} {{#pluralize}}other,others,{{more}}{{/pluralize}}{{/_i}}{{/more}}{{/two}} "},function(e,t){e.exports='<div id="flashcards" class="modal hidden fade"></div>'},function(e,t){e.exports='<div class="close" data-dismiss="modal"></div><div class="modal-header {{^card}}{{^num_incorrect}}perfect{{/num_incorrect}}{{/card}}">{{#card}}<h1>{{#_i}}Do you know the translation?{{/_i}}</h1><h3>{{#_i}}Use your spacebar or click to reveal the translation{{/_i}}</h3>{{/card}}{{^card}}{{^num_incorrect}}<h1>{{#_i}}Awesome job!{{/_i}}</h1><h3>{{#_i}}It looks like you knew all the words!{{/_i}}</h3>{{/num_incorrect}}{{#num_incorrect}}<h1>{{#_i}}Keep practicing!{{/_i}}</h1><h3>{{#_i}}{{#pluralize}}Here is the {{num_incorrect}} word you didn\'t know,Here are the {{num_incorrect}} words you didn\'t know,{{num_incorrect}}{{/pluralize}}{{/_i}}</h3>{{/num_incorrect}}{{/card}}</div><div class="modal-body"><div id="js-flip" class="flip-container"><div id="old-container" class="old card-container"></div><div id="current-container" class="current card-container">{{#card}}<div class="card"><div class="face front"><span class="flip">{{#_i}}Flip{{/_i}}</span><span class="icon icon-flip"></span><span class="flashcard-word"><span class="flag flag-svg-small flag-{{front_flag_abbr}}"></span>{{front_term}}</span></div><div class="face back"><span class="flip">{{#_i}}Flip{{/_i}}</span><span class="icon icon-flip"></span><span class="flashcard-word"><span class="flag flag-svg-small flag-{{back_flag_abbr}}"></span>{{back_definition}}</span><div class="response"><a class="wrong"><span class="icon icon-red-arrow-left"></span><span>{{^from_classroom}}{{#_i}}I was wrong{{/_i}}{{/from_classroom}}{{#from_classroom}}{{#_i}}Wrong{{/_i}}{{/from_classroom}}</span></a><a class="correct"><span>{{^from_classroom}}{{#_i}}I was right{{/_i}}{{/from_classroom}}{{#from_classroom}}{{#_i}}Correct{{/_i}}{{/from_classroom}}</span><span class="icon icon-red-arrow-right"></span></a></div></div></div>{{/card}}{{^card}}{{#num_incorrect}}<div class="card"><div class="face review"><table class="flashcards-review">{{#incorrect_words}}<tr><td>{{front_term}}</td><td>{{back_definition}}</td></tr>{{/incorrect_words}}</table></div></div>{{/num_incorrect}}{{/card}}</div></div></div>{{#card}}<div class="dot-indicator"><ul>{{#dots}}<li class="dot"></li>{{/dots}}</ul></div>{{/card}}'},function(e,t){e.exports='<h1>{{#_i}}{{#_iv}}{{language_string}}{{/_iv}} words learned{{/_i}}</h1><div class="vocab-word-count"><span id="word-count">{{word_count}}</span> {{#_i}}Words{{/_i}}</div><table id="vocab-list" class="table table-striped sortable"><thead><th>{{#_i}}Word{{/_i}} <span class="sorting-icon"></span></th><th>{{#_i}}Part of speech{{/_i}} <span class="sorting-icon"></span></th><th class="sorttable_sorted_reverse">{{#_i}}Last practiced{{/_i}} <span class="sorting-icon"></span><span id="sorttable_sortrevind">&nbsp;</span></th><th>{{#_i}}Strength{{/_i}} <span class="sorting-icon"></span></th></thead><tbody id="vocab-rows">{{#vocab_overview}}<tr class="word-cell needs-hint"><td class="word" data-lexeme="{{lexeme_id}}" data-string="{{word_string}}"><span class="hidden">{{normalized_string}}</span><span class="hoverable-word hover">{{word_string}}</span></td><td>{{pos}}</td><td><span class="hidden">{{last_practiced_ms}}</span>{{#pretty_date}}{{last_practiced}}{{/pretty_date}}</td><td><span class="hidden">{{strength}}</span><span class="word-strength-icon strength-{{strength_bars}}"></span></td></tr>{{/vocab_overview}}</tbody></table>{{^has_vocab}}<h2 class="gray center">{{#_i}}You haven\'t learned any words yet!{{/_i}}</h2>{{/has_vocab}} '},function(e,t){e.exports='<main class="main-right"><section class="page-sidebar sidebar-left"><div class="inner"><div class="box-colored bg-white spaced-rep"><span id="default-sidebar"><h2>{{#_i}}Spaced repetition{{/_i}}</h2><p>{{#_i}}Duolingo\'s algorithms figure out when you should practice words to get them into your long-term memory.{{/_i}}</p><table><tr><td><span class="word-strength-icon strength-4"></span></td><td>{{#_i}}Still strong{{/_i}}</td></tr><tr><td><span class="word-strength-icon strength-3"></span></td><td>{{#_i}}Pretty good{{/_i}}</td></tr><tr><td><span class="word-strength-icon strength-2"></span></td><td>{{#_i}}Time to practice{{/_i}}</td></tr><tr><td><span class="word-strength-icon strength-1"></span></td><td>{{#_i}}Overdue{{/_i}}</td></tr></table>{{#show_flashcards}}<a id="start-flashcards" href="javascript:;" class="btn btn-block btn-blue">{{#_i}}Review flashcards{{/_i}}</a>{{/show_flashcards}}</span><span id="word-sidebar" class="hidden"></span></div></div></section><section id="vocabulary-list" class="page-main main-right"></section></main><div id="flashcards-container"></div><div id="word-modal" class="modal fade hidden"></div> '},function(e,t){e.exports='<div class="close"></div><div class="modal-header"><h1 style="text-align: center"><span id="speaker-audio-1-button" class="speaker-small"><span class="listen-button-small icon icon-speaker-small {{#rtl}}img-flipped{{/rtl}}"></span></span><span id="word-header">{{word_string}}</span></h1>{{#gender}}<div class="gender">({{gender}})</div>{{/gender}}</div><div class="modal-body"><table id="example-sentences" class="table"><thead><th>{{#_i}}Word{{/_i}}</th>{{#show_gender_column}}<th>{{#_i}}Gender{{/_i}}</th>{{/show_gender_column}}<th>{{#_i}}Example{{/_i}}</th><th>{{#_i}}Example Translation{{/_i}}</th></thead><tbody><tr><td>{{word_string}}</td>{{#show_gender_column}}<td>{{gender}}</td>{{/show_gender_column}}{{#ex_sentence}}<td>{{text}}</td><td>{{translation}}</td>{{/ex_sentence}}{{^ex_sentence}}<td></td><td></td>{{/ex_sentence}}</tr>{{#related_words}}<tr><td><span class="related-word-link" data-lexeme="{{lexeme_id}}">{{word_string}}</span></td>{{#show_gender_column}}<td>{{gender}}</td>{{/show_gender_column}}{{#ex_sentence}}<td>{{text}}</td><td>{{translation}}</td>{{/ex_sentence}}{{^ex_sentence}}<td></td><td></td>{{/ex_sentence}}</tr>{{/related_words}}</tbody></table>{{#has_verb_table}}<div id="verb-table"></div>{{/has_verb_table}}</div> '},function(e,t){e.exports='<a href="javascript:;" class="with-back-arrow"><span class="icon icon-arrow-back-gray"></span> {{#_i}}BACK{{/_i}}</a><h1 style="text-align: center"><span id="speaker-audio-1-button" class="speaker-small"><span class="listen-button-small icon icon-speaker-small {{#rtl}}img-flipped{{/rtl}}"></span></span><span id="word-header">{{word_string}}</span></h1>{{#gender}}<div class="gender">({{gender}})</div>{{/gender}}<div class="info-top"><div class="top-hint left"><h3>{{#_i}}TRANSLATION{{/_i}}</h3><div>{{top_hint}}</div></div><div class="word-strength right"><h3>{{#_i}}STRENGTH{{/_i}}</h3><div class="word-strength-icon strength-{{strength_bars}}"></div></div></div><div class="info-bottom"><div class="word-skill left"><h3>{{#_i}}SKILL{{/_i}}</h3>{{^locked}}<a href="javascript:;" class="nav-skill" data-url="{{skill_url_title}}">{{skill}}</a>{{/locked}}{{#locked}}<span>{{skill_url_title}}</span>{{/locked}}</div><div class="word-type right"><h3>{{#_i}}PART OF SPEECH{{/_i}}</h3><div>{{pos}}</div></div></div><button class="btn btn-standard btn-outline btn-block open-word-modal">{{#_i}}More details{{/_i}}</button> '}]);
//# sourceMappingURL=ebfe07b6f026d9af6e70-duolingo.js.map